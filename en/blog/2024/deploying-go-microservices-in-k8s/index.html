<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="/_next/static/css/09dfadb69bdaa005.css" data-precedence="next"/><link rel="stylesheet" href="/_next/static/css/043572ff16fa1c63.css" data-precedence="next"/><link rel="stylesheet" href="/_next/static/css/72f0b751ba818b6f.css" data-precedence="next"/><link rel="preload" as="script" fetchPriority="low" href="/_next/static/chunks/webpack-3ec6371319e38377.js"/><script src="/_next/static/chunks/4bd1b696-e193fc35581091f7.js" async=""></script><script src="/_next/static/chunks/684-670f7fde26101c67.js" async=""></script><script src="/_next/static/chunks/main-app-bef5cc271bcac1d2.js" async=""></script><script src="/_next/static/chunks/app/layout-cb5038e2af1ab31b.js" async=""></script><script src="/_next/static/chunks/app/not-found-374964195ecf67e5.js" async=""></script><script src="/_next/static/chunks/72-d3fcf2c32f7e11b9.js" async=""></script><script src="/_next/static/chunks/435-711aececbe1f0279.js" async=""></script><script src="/_next/static/chunks/app/en/blog/%5B%5B...slug%5D%5D/page-6c4a572667fc6dca.js" async=""></script><link rel="icon" href="/favicon.ico" sizes="any"/><link rel="apple-touch-icon" href="/apple-touch-icon.png"/><title>Deploying a Go Microservice in Kubernetes | @unjello blog</title><meta property="og:title" content="Deploying a Go Microservice in Kubernetes | @unjello blog"/><meta property="og:url" content="https://andrzej.lichnerowicz.pl/en/blog/2024/deploying-go-microservices-in-k8s/"/><meta property="og:image" content="https://andrzej.lichnerowicz.pl/avatar.png"/><meta property="og:image:width" content="1200"/><meta property="og:image:height" content="630"/><meta property="og:image:alt" content="Deploying a Go Microservice in Kubernetes | @unjello blog"/><meta property="og:type" content="article"/><meta property="article:published_time" content="2024-01-23T20:19:11+02:00"/><meta name="twitter:card" content="summary_large_image"/><meta name="twitter:title" content="Deploying a Go Microservice in Kubernetes | @unjello blog"/><meta name="twitter:image" content="https://andrzej.lichnerowicz.pl/avatar.png"/><link rel="shortcut icon" href="/favicon.ico"/><link rel="icon" href="/favicon.ico" sizes="any"/><link rel="apple-touch-icon" href="/apple-touch-icon.png"/><script>document.querySelectorAll('body link[rel="icon"], body link[rel="apple-touch-icon"]').forEach(el => document.head.appendChild(el))</script><script src="/_next/static/chunks/polyfills-42372ed130431b0a.js" noModule=""></script></head><body><div class="flex justify-center"><div class="ascii-art nfo-pre"><button class="theme-switcher" aria-label="Switch to dark theme">☼</button><div class="header-component">                              _______._ _
                      _ _.___/       |
                         |           |
                         |           |
                                                 ∙
                         .                       :
             ____________¡ &gt;&gt;&gt;  _______   _ __ _ ¡  __    _______
          __|⌐           |  ___|  ⌐____|_ ______ |       |       |
        . |     [        | |                   _ |  :  __l.|  ┌  | .
     ÷¼¼¼ |     |         \|    _____|       _ __|  |_|   |      | ¼¼¼÷
          |_____l  _ l         |     |___|        ________|------!
          ! ___ _         \____| ___ !  _________|.sti      __ _ :
          ∙                          :             &lt; &lt;&lt;&lt;&lt;        ∙
                                     ∙
                         :           |
    - -----andrzej-_ ____\_____|----_|_____________&#x27;-lichnerowicz-------- -
                         :           |
 .     p e r s o n a l ! |    #1     | wEBPAGE                            .
 . _         - --------- |  - -- -   | ------- -                         _  .
-:-\-\-------------------|- -     - -|-----------------------------------\-\-:
 |                      _|___________|_                                      |
 |                       :           :                                       |</div> |//_)-&gt; 2 0 2 4 . 0 1 . 2 3 &lt;--------------------------------------------(_\|
<div class="whitespace-pre font-mono"> |                                                                           |</div><div class="whitespace-pre font-mono"> |                                                                           |</div><div class="whitespace-pre font-mono" style="display:flex"> | <a class="hover:underline inline-block" style="text-decoration:none;color:inherit;width:calc(100% - 6ch)" href="/">&lt;&lt; back                                                                     </a>|</div><div class="whitespace-pre font-mono"> |                                                                           |</div><div style="position:relative;width:fit-content;min-width:76ch;height:72px;transition:height 0.3s cubic-bezier(0.4, 0, 0.2, 1);overflow:hidden;white-space:nowrap"><pre aria-hidden="true" style="margin:0;padding:0;pointer-events:none;user-select:none;overflow-x:visible"><span> |                                                                         |
</span><span> |                                                                         |
</span><span> |                                                                         |
</span></pre><div class="whitespace-pre-wrap font-mono" style="position:absolute;top:0;left:3ch;width:calc(100% - 6ch);overflow:visible;z-index:1"><div style="font-weight:bold;font-size:1.2em;margin-top:1em;margin-bottom:2.5em"># <!-- -->Deploying a Go Microservice in Kubernetes</div><div class="MarkdownHeading_markdown-heading__G6B4T"><span class="MarkdownHeading_markdown-hash__CheR_">##<!-- --> </span><span>Disclaimer</span></div>
<p>Disclaimer: This post will showcase some macOS-specific tools, primarily brew. This isn&#x27;t to make a platform statement; it&#x27;s simply to avoid the complexities of multi-platform discussion for brevity&#x27;s sake.</p>
<div class="MarkdownHeading_markdown-heading__G6B4T"><span class="MarkdownHeading_markdown-hash__CheR_">##<!-- --> </span><span>Over the Hill and Under the Hill</span></div>
<p>So, this is going to be a bit of a shameless plug, though all the praise towards my current employer, <a href="https://splunk.com/">Splunk</a>, is purely accidental :)</p>
<p>My journey here has been nothing short of remarkable, largely thanks to the incredible people I&#x27;ve had the chance to work with. One of them was <a href="https://github.com/gotwarlost">Krishnan Anantheswaran</a>, known for his work on <a href="https://istanbul.js.org">Istanbul</a> - a javascript coverage framework I used back in my front-end days. Krishnan interviewed me for the company, and for a few months, I soaked up as much knowledge as I could from him until his departure. Suddenly, I was in at the deep end, tasked with understanding a vast ecosystem. The component I was to take over wasn&#x27;t particularly challenging, but the surrounding environment was immense. As you can imagine, one of my key challenges was learning how to deploy our software effectively. This post is a reflection on the lessons I learned from this journey.</p>
<p>When the Kubernetes team was formed at Splunk, I was told that some teams were already using <a href="https://https://ksonnet.io/">ksonnet</a>, a tool for managing Kubernetes configurations similar to <a href="https://helm.sh/">Helm</a>. However, they quickly found out that ksonnet wasn&#x27;t the most user-friendly tool and was rather complex. Moreover, it was abandoned by its creators around the same time kubernetes team was coming together. Helm had its issues too, primarily because it uses Golang templates, which, while powerful, were primarily designed for HTML, XML, and text generation. These templates can control whitespaces, but they&#x27;re tricky to get right. A single mistake in YAML whitespace, and you&#x27;re in for a world of pain...</p>
<div class="Figure_figureWrapper__na8U3"><figure class="Figure_figure__Do4qR"><img alt="John Goodman as Walter Sobchak in a frame from Coehn sisters&#x27; classic: Big Lebowski, when Walter is about to say: Smokey, my friend, you&#x27;re entering a world of pain." loading="lazy" width="800" height="500" decoding="async" data-nimg="1" style="color:transparent" src="/images/2024/deploying_go_microservices_in_k8s/world-of-pain.jpg"/><figcaption class="Figure_caption__N51Ul"><p>Smokey, my friend, you&#x27;re entering a world of pain.</p></figcaption></figure></div>
<p>In contrast, ksonnet utilizes <a href="https://jsonnet.org/">Jsonnet</a> for templating, offering more complex and reusable configurations. Jsonnet enables capabilities like imports, functions, and variables, fostering modular and maintainable configurations. <em>If only there was a tool that combined all the pros and eliminated the cons...</em> Enter <a href="https://qbec.io/">qbec</a> (pronounced like the Canadian province) written by Krishnan, now a staple tool around here.</p>
<p>Later I will share some of the tools and conventions I find beneficial, such as folder structures and Makefiles, but let&#x27;s set the stage for the application we&#x27;ll be discussing.</p>
<div class="MarkdownHeading_markdown-heading__G6B4T"><span class="MarkdownHeading_markdown-hash__CheR_">##<!-- --> </span><span>The Application: Choosing the Right Example</span></div>
<p>I was grappling with the choice of a demonstration application. Initially, I considered a classic ToDo application, but it required incorporating storage elements like Redis or a database, which might dilute the focus of this post. Instead, I decided on a slightly contrived, yet very useful example - an RPN (Reverse Polish Notation) calculator.</p>
<div class="MarkdownHeading_markdown-heading__G6B4T"><span class="MarkdownHeading_markdown-hash__CheR_">##<!-- --> </span><span>Intermission: A Fun Fact About RPN</span></div>
<p>While there were uses of <a href="https://en.wikipedia.org/wiki/Reverse_Polish_notation">Reverse Polish Notation</a> even in the 40s it was an australian philosopher <a href="https://en.wikipedia.org/wiki/Charles_Leonard_Hamblin">Charles Hamblin</a> who made final version of alogrithm and the notation, that adopted <a href="https://en.wikipedia.org/wiki/Jan_%C5%81ukasiewicz">Jan Łukasiewicz&#x27;s</a> <a href="https://en.wikipedia.org/wiki/Polish_notation">Polish Notation</a> for computers. It&#x27;s a suffix notation that aligns well with stack operations.</p>
<div class="admonition admonition-idea"><div class="admonition-title"><span class="admonition-icon">💡</span><span>Fun fact</span></div><div class="admonition-content"><p>Hamblin initially suggested naming it “Azciweisakul notation” as a spelled backwards tribute to Jan Łukasiewicz&#x27;s last name. Glad it didn&#x27;t stick.</p></div></div>
<p>The RPN sequence is straightforward: first, the operands are entered, followed by the operation.</p>
<p>For example, the RPN for <!-- --> would be: <!-- -->.</p>
<div class="MarkdownHeading_markdown-heading__G6B4T"><span class="MarkdownHeading_markdown-hash__CheR_">##<!-- --> </span><span>Application Folder Structure</span></div>
<p>This brings us to our first convention. Although our example involves just one microservice, our setup is designed to accommodate multiple services per functional area.</p>
<pre class="language-fish pre-code-block shiki github-light github-dark"><code><table class="code-ln-table"><tbody><tr class="code-ln-line">
        <td class="code-ln-numbers" data-line-number="1"><div class="code-ln-n" data-line-number="1"></div></td>
        <td class="code-ln-code" data-line-number="1"><span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">❯ ls -R1</span></span></td>
      </tr><tr class="code-ln-line">
        <td class="code-ln-numbers" data-line-number="2"><div class="code-ln-n" data-line-number="2"></div></td>
        <td class="code-ln-code" data-line-number="2"><span class="line"><span style="color:#005CC5;--shiki-dark:#79B8FF">Makefile</span></span></td>
      </tr><tr class="code-ln-line">
        <td class="code-ln-numbers" data-line-number="3"><div class="code-ln-n" data-line-number="3"></div></td>
        <td class="code-ln-code" data-line-number="3"><span class="line"><span style="color:#005CC5;--shiki-dark:#79B8FF">README.md</span></span></td>
      </tr><tr class="code-ln-line">
        <td class="code-ln-numbers" data-line-number="4"><div class="code-ln-n" data-line-number="4"></div></td>
        <td class="code-ln-code" data-line-number="4"><span class="line"><span style="color:#005CC5;--shiki-dark:#79B8FF">go.mod</span></span></td>
      </tr><tr class="code-ln-line">
        <td class="code-ln-numbers" data-line-number="5"><div class="code-ln-n" data-line-number="5"></div></td>
        <td class="code-ln-code" data-line-number="5"><span class="line"><span style="color:#005CC5;--shiki-dark:#79B8FF">go.sum</span></span></td>
      </tr><tr class="code-ln-line">
        <td class="code-ln-numbers" data-line-number="6"><div class="code-ln-n" data-line-number="6"></div></td>
        <td class="code-ln-code" data-line-number="6"><span class="line"><span style="color:#005CC5;--shiki-dark:#79B8FF">src</span><span style="color:#24292E;--shiki-dark:#E1E4E8">/</span></span></td>
      </tr><tr class="code-ln-line">
        <td class="code-ln-numbers" data-line-number="7"><div class="code-ln-n" data-line-number="7"></div></td>
        <td class="code-ln-code" data-line-number="7"><span class="line"></span></td>
      </tr><tr class="code-ln-line">
        <td class="code-ln-numbers" data-line-number="8"><div class="code-ln-n" data-line-number="8"></div></td>
        <td class="code-ln-code" data-line-number="8"><span class="line"><span style="color:#005CC5;--shiki-dark:#79B8FF">.</span><span style="color:#24292E;--shiki-dark:#E1E4E8">/src:</span></span></td>
      </tr><tr class="code-ln-line">
        <td class="code-ln-numbers" data-line-number="9"><div class="code-ln-n" data-line-number="9"></div></td>
        <td class="code-ln-code" data-line-number="9"><span class="line"><span style="color:#005CC5;--shiki-dark:#79B8FF">calculator</span><span style="color:#24292E;--shiki-dark:#E1E4E8">/</span></span></td>
      </tr><tr class="code-ln-line">
        <td class="code-ln-numbers" data-line-number="10"><div class="code-ln-n" data-line-number="10"></div></td>
        <td class="code-ln-code" data-line-number="10"><span class="line"></span></td>
      </tr><tr class="code-ln-line">
        <td class="code-ln-numbers" data-line-number="11"><div class="code-ln-n" data-line-number="11"></div></td>
        <td class="code-ln-code" data-line-number="11"><span class="line"><span style="color:#005CC5;--shiki-dark:#79B8FF">.</span><span style="color:#24292E;--shiki-dark:#E1E4E8">/src/calculator:</span></span></td>
      </tr><tr class="code-ln-line">
        <td class="code-ln-numbers" data-line-number="12"><div class="code-ln-n" data-line-number="12"></div></td>
        <td class="code-ln-code" data-line-number="12"><span class="line"><span style="color:#005CC5;--shiki-dark:#79B8FF">main.go</span></span></td>
      </tr><tr class="code-ln-line">
        <td class="code-ln-numbers" data-line-number="13"><div class="code-ln-n" data-line-number="13"></div></td>
        <td class="code-ln-code" data-line-number="13"><span class="line"><span style="color:#005CC5;--shiki-dark:#79B8FF">rpn.go</span></span></td>
      </tr><tr class="code-ln-line">
        <td class="code-ln-numbers" data-line-number="14"><div class="code-ln-n" data-line-number="14"></div></td>
        <td class="code-ln-code" data-line-number="14"><span class="line"><span style="color:#005CC5;--shiki-dark:#79B8FF">rpn_test.go</span></span></td>
      </tr></tbody></table></code></pre>
<p>Each service is placed in a separate folder under <!-- --> This folder may also include supporting microservices and tools, such as those for synthetic transactions or automated service operations. Sometimes, as tools grow or their use extends beyond the team, it becomes practical to move them to a separate repository.</p>
<div class="MarkdownHeading_markdown-heading__G6B4T"><span class="MarkdownHeading_markdown-hash__CheR_">##<!-- --> </span><span>Embracing Makefiles</span></div>
<p>We extensively use Makefiles here as well. Coming from a Makefile-heavy background in early C/C++ development on DOS and Unix platforms, I thought I was well-prepared. However, during my initial days, I found myself looking up numerous commands, which was a humbling experience. Initially, I wondered if they should be replaced with simpler tools like Ansible or custom Python scripts. But over time, I grew to appreciate their power and versatility, and now I use them in almost all of my projects.</p>
<p>There are at least two Makefile tricks worth mentioning. Here&#x27;s the first one:</p>
<pre class="language-fish pre-code-block shiki github-light github-dark"><code><table class="code-ln-table"><tbody><tr class="code-ln-line">
        <td class="code-ln-numbers" data-line-number="1"><div class="code-ln-n" data-line-number="1"></div></td>
        <td class="code-ln-code" data-line-number="1"><span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">❯ make help</span></span></td>
      </tr><tr class="code-ln-line">
        <td class="code-ln-numbers" data-line-number="2"><div class="code-ln-n" data-line-number="2"></div></td>
        <td class="code-ln-code" data-line-number="2"><span class="line"><span style="color:#005CC5;--shiki-dark:#79B8FF">help</span><span style="color:#24292E;--shiki-dark:#E1E4E8">         Show this help, automatically generated from comments </span><span style="color:#D73A49;--shiki-dark:#F97583">in</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> the Makefile</span></span></td>
      </tr><tr class="code-ln-line">
        <td class="code-ln-numbers" data-line-number="3"><div class="code-ln-n" data-line-number="3"></div></td>
        <td class="code-ln-code" data-line-number="3"><span class="line"><span style="color:#005CC5;--shiki-dark:#79B8FF">get</span><span style="color:#24292E;--shiki-dark:#E1E4E8">          Download packages </span><span style="color:#D73A49;--shiki-dark:#F97583">and</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> their dependencies from import paths</span></span></td>
      </tr><tr class="code-ln-line">
        <td class="code-ln-numbers" data-line-number="4"><div class="code-ln-n" data-line-number="4"></div></td>
        <td class="code-ln-code" data-line-number="4"><span class="line"><span style="color:#005CC5;--shiki-dark:#79B8FF">run</span><span style="color:#24292E;--shiki-dark:#E1E4E8">          Runs the service</span></span></td>
      </tr><tr class="code-ln-line">
        <td class="code-ln-numbers" data-line-number="5"><div class="code-ln-n" data-line-number="5"></div></td>
        <td class="code-ln-code" data-line-number="5"><span class="line"><span style="color:#005CC5;--shiki-dark:#79B8FF">test</span><span style="color:#24292E;--shiki-dark:#E1E4E8">         Runs unit-tests</span></span></td>
      </tr><tr class="code-ln-line">
        <td class="code-ln-numbers" data-line-number="6"><div class="code-ln-n" data-line-number="6"></div></td>
        <td class="code-ln-code" data-line-number="6"><span class="line"><span style="color:#005CC5;--shiki-dark:#79B8FF">fmt</span><span style="color:#24292E;--shiki-dark:#E1E4E8">          Format </span><span style="color:#D73A49;--shiki-dark:#F97583">source</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> file </span><span style="color:#D73A49;--shiki-dark:#F97583">and</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> basic housekeeping on imports</span></span></td>
      </tr></tbody></table></code></pre>
<p>This self-documenting feature is quite handy. For every target, we add a quick comment, and then we can grep the Makefile itself:</p>
<pre class="language-makefile pre-code-block shiki github-light github-dark"><code><table class="code-ln-table"><tbody><tr class="code-ln-line">
        <td class="code-ln-numbers" data-line-number="1"><div class="code-ln-n" data-line-number="1"></div></td>
        <td class="code-ln-code" data-line-number="1"><span class="line"><span style="color:#005CC5;--shiki-dark:#79B8FF">.PHONY</span><span style="color:#24292E;--shiki-dark:#E1E4E8">: help</span></span></td>
      </tr><tr class="code-ln-line">
        <td class="code-ln-numbers" data-line-number="2"><div class="code-ln-n" data-line-number="2"></div></td>
        <td class="code-ln-code" data-line-number="2"><span class="line"><span style="color:#6F42C1;--shiki-dark:#B392F0">help</span><span style="color:#24292E;--shiki-dark:#E1E4E8">:   </span><span style="color:#6A737D;--shiki-dark:#6A737D">## Show this help, automatically generated from comments in the Makefile</span></span></td>
      </tr><tr class="code-ln-line">
        <td class="code-ln-numbers" data-line-number="3"><div class="code-ln-n" data-line-number="3"></div></td>
        <td class="code-ln-code" data-line-number="3"><span class="line"><span style="color:#6F42C1;--shiki-dark:#B392F0">        @fgrep</span><span style="color:#6F42C1;--shiki-dark:#B392F0"> -h</span><span style="color:#6F42C1;--shiki-dark:#B392F0"> "##"</span><span style="color:#032F62;--shiki-dark:#9ECBFF"> $(</span><span style="color:#24292E;--shiki-dark:#E1E4E8">MAKEFILE_LIST</span><span style="color:#032F62;--shiki-dark:#9ECBFF">)</span><span style="color:#6F42C1;--shiki-dark:#B392F0"> |</span><span style="color:#6F42C1;--shiki-dark:#B392F0"> fgrep</span><span style="color:#6F42C1;--shiki-dark:#B392F0"> -v</span><span style="color:#6F42C1;--shiki-dark:#B392F0"> fgrep</span><span style="color:#6F42C1;--shiki-dark:#B392F0"> |</span><span style="color:#6F42C1;--shiki-dark:#B392F0"> sed</span><span style="color:#6F42C1;--shiki-dark:#B392F0"> -e</span><span style="color:#6F42C1;--shiki-dark:#B392F0"> 's/\\</span><span style="color:#005CC5;--shiki-dark:#79B8FF">$$</span><span style="color:#6F42C1;--shiki-dark:#B392F0">//'</span><span style="color:#6F42C1;--shiki-dark:#B392F0"> |</span><span style="color:#6F42C1;--shiki-dark:#B392F0"> sed</span><span style="color:#6F42C1;--shiki-dark:#B392F0"> -e</span><span style="color:#6F42C1;--shiki-dark:#B392F0"> 's/</span><span style="color:#24292E;--shiki-dark:#E1E4E8">:.</span><span style="color:#005CC5;--shiki-dark:#79B8FF">*</span><span style="color:#6A737D;--shiki-dark:#6A737D">##/        /'</span></span></td>
      </tr><tr class="code-ln-line">
        <td class="code-ln-numbers" data-line-number="4"><div class="code-ln-n" data-line-number="4"></div></td>
        <td class="code-ln-code" data-line-number="4"><span class="line"></span></td>
      </tr><tr class="code-ln-line">
        <td class="code-ln-numbers" data-line-number="5"><div class="code-ln-n" data-line-number="5"></div></td>
        <td class="code-ln-code" data-line-number="5"><span class="line"><span style="color:#005CC5;--shiki-dark:#79B8FF">.PHONY</span><span style="color:#24292E;--shiki-dark:#E1E4E8">: get</span></span></td>
      </tr><tr class="code-ln-line">
        <td class="code-ln-numbers" data-line-number="6"><div class="code-ln-n" data-line-number="6"></div></td>
        <td class="code-ln-code" data-line-number="6"><span class="line"><span style="color:#6F42C1;--shiki-dark:#B392F0">get</span><span style="color:#24292E;--shiki-dark:#E1E4E8">:    </span><span style="color:#6A737D;--shiki-dark:#6A737D">## Download packages and their dependencies from import paths</span></span></td>
      </tr><tr class="code-ln-line">
        <td class="code-ln-numbers" data-line-number="7"><div class="code-ln-n" data-line-number="7"></div></td>
        <td class="code-ln-code" data-line-number="7"><span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">        @echo "+ </span><span style="color:#005CC5;--shiki-dark:#79B8FF">$@</span><span style="color:#24292E;--shiki-dark:#E1E4E8">"</span></span></td>
      </tr><tr class="code-ln-line">
        <td class="code-ln-numbers" data-line-number="8"><div class="code-ln-n" data-line-number="8"></div></td>
        <td class="code-ln-code" data-line-number="8"><span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">        @go get ./...</span></span></td>
      </tr><tr class="code-ln-line">
        <td class="code-ln-numbers" data-line-number="9"><div class="code-ln-n" data-line-number="9"></div></td>
        <td class="code-ln-code" data-line-number="9"><span class="line"></span></td>
      </tr><tr class="code-ln-line">
        <td class="code-ln-numbers" data-line-number="10"><div class="code-ln-n" data-line-number="10"></div></td>
        <td class="code-ln-code" data-line-number="10"><span class="line"><span style="color:#005CC5;--shiki-dark:#79B8FF">.PHONY</span><span style="color:#24292E;--shiki-dark:#E1E4E8">: run</span></span></td>
      </tr><tr class="code-ln-line">
        <td class="code-ln-numbers" data-line-number="11"><div class="code-ln-n" data-line-number="11"></div></td>
        <td class="code-ln-code" data-line-number="11"><span class="line"><span style="color:#6F42C1;--shiki-dark:#B392F0">run</span><span style="color:#24292E;--shiki-dark:#E1E4E8">:    </span><span style="color:#6A737D;--shiki-dark:#6A737D">## Runs the service</span></span></td>
      </tr><tr class="code-ln-line">
        <td class="code-ln-numbers" data-line-number="12"><div class="code-ln-n" data-line-number="12"></div></td>
        <td class="code-ln-code" data-line-number="12"><span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">        @echo "+ </span><span style="color:#005CC5;--shiki-dark:#79B8FF">$@</span><span style="color:#24292E;--shiki-dark:#E1E4E8">"</span></span></td>
      </tr><tr class="code-ln-line">
        <td class="code-ln-numbers" data-line-number="13"><div class="code-ln-n" data-line-number="13"></div></td>
        <td class="code-ln-code" data-line-number="13"><span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">        go run ./src/calculator</span></span></td>
      </tr><tr class="code-ln-line">
        <td class="code-ln-numbers" data-line-number="14"><div class="code-ln-n" data-line-number="14"></div></td>
        <td class="code-ln-code" data-line-number="14"><span class="line"></span></td>
      </tr><tr class="code-ln-line">
        <td class="code-ln-numbers" data-line-number="15"><div class="code-ln-n" data-line-number="15"></div></td>
        <td class="code-ln-code" data-line-number="15"><span class="line"><span style="color:#005CC5;--shiki-dark:#79B8FF">.PHONY</span><span style="color:#24292E;--shiki-dark:#E1E4E8">: test</span></span></td>
      </tr><tr class="code-ln-line">
        <td class="code-ln-numbers" data-line-number="16"><div class="code-ln-n" data-line-number="16"></div></td>
        <td class="code-ln-code" data-line-number="16"><span class="line"><span style="color:#6F42C1;--shiki-dark:#B392F0">test</span><span style="color:#24292E;--shiki-dark:#E1E4E8">:   </span><span style="color:#6A737D;--shiki-dark:#6A737D">## Runs unit-tests</span></span></td>
      </tr><tr class="code-ln-line">
        <td class="code-ln-numbers" data-line-number="17"><div class="code-ln-n" data-line-number="17"></div></td>
        <td class="code-ln-code" data-line-number="17"><span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">        go test -count=1 -v ./...</span></span></td>
      </tr></tbody></table></code></pre>
<p>The <!-- --> includes all files read by GNU Make, not just the Makefile in the current folder.</p>
<p>The second one allows us to generate multiple targets with a template. Let&#x27;s say we have 10 services in our folder, and wa want to create a <!-- --> target but for each of them. Instead defining them by hand, we can do:</p>
<pre class="language-makefile pre-code-block shiki github-light github-dark"><code><table class="code-ln-table"><tbody><tr class="code-ln-line">
        <td class="code-ln-numbers" data-line-number="1"><div class="code-ln-n" data-line-number="1"></div></td>
        <td class="code-ln-code" data-line-number="1"><span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">IMAGES := calculator otherservice yetanother</span></span></td>
      </tr><tr class="code-ln-line">
        <td class="code-ln-numbers" data-line-number="2"><div class="code-ln-n" data-line-number="2"></div></td>
        <td class="code-ln-code" data-line-number="2"><span class="line"><span style="color:#005CC5;--shiki-dark:#79B8FF">.PHONY</span><span style="color:#24292E;--shiki-dark:#E1E4E8">: </span><span style="color:#032F62;--shiki-dark:#9ECBFF">$(</span><span style="color:#24292E;--shiki-dark:#E1E4E8">IMAGES:%=ci_%_image</span><span style="color:#032F62;--shiki-dark:#9ECBFF">)</span></span></td>
      </tr><tr class="code-ln-line">
        <td class="code-ln-numbers" data-line-number="3"><div class="code-ln-n" data-line-number="3"></div></td>
        <td class="code-ln-code" data-line-number="3"><span class="line"><span style="color:#032F62;--shiki-dark:#9ECBFF">$(</span><span style="color:#24292E;--shiki-dark:#E1E4E8">IMAGES:%=ci_%_image</span><span style="color:#032F62;--shiki-dark:#9ECBFF">)</span><span style="color:#24292E;--shiki-dark:#E1E4E8">: ci_%_image: cicd/docker/Dockerfile.%</span></span></td>
      </tr><tr class="code-ln-line">
        <td class="code-ln-numbers" data-line-number="4"><div class="code-ln-n" data-line-number="4"></div></td>
        <td class="code-ln-code" data-line-number="4"><span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">        docker buildx build --tag </span><span style="color:#005CC5;--shiki-dark:#79B8FF">$*</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> -f </span><span style="color:#005CC5;--shiki-dark:#79B8FF">$&#x3C;</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> .</span></span></td>
      </tr></tbody></table></code></pre>
<p>and make will generate 3 targets called <!-- -->, <!-- --> and <!-- --> for us. In the makefile above <!-- --> expands to the original image name i.e. <!-- -->, and <!-- --> to the dependent file i.e. <!-- -->.</p>
<div class="MarkdownHeading_markdown-heading__G6B4T"><span class="MarkdownHeading_markdown-hash__CheR_">##<!-- --> </span><span>Microservice Framework Selection</span></div>
<p>There are several excellent frameworks for routing HTTP traffic, such as Mux (gorilla/mux) and Gin (gin-gonic/gin). I chose to use Chi because it is 100% compatible with net/http and is built around the context package introduced in Go 1.7, which I frequently use. It&#x27;s a simple service that accepts a POST on / with application/json encoded content. This example, while a bit contrived, demonstrates how to decode JSON in a handler, which might be useful for those looking to build upon this foundation. With that said, I believe we&#x27;re ready to start the deployment process.</p>
<div class="MarkdownHeading_markdown-heading__G6B4T"><span class="MarkdownHeading_markdown-hash__CheR_">##<!-- --> </span><span>The Environment</span></div>
<p>Before diving in, let me give you a quick overview of our setup. I&#x27;ll be using minikube with a Docker container inside Minikube’s VM. For the container runtime, I&#x27;ll use Docker, and Qemu as the VM driver, coupled with a socket_vmnet network, enabling full networking capabilities for minikube under Qemu. I won&#x27;t delve into the details here, but you can find ample resources online, or feel free to reach out to me on the fediverse.</p>
<pre class="language-fish pre-code-block shiki github-light github-dark"><code><table class="code-ln-table"><tbody><tr class="code-ln-line">
        <td class="code-ln-numbers" data-line-number="1"><div class="code-ln-n" data-line-number="1"></div></td>
        <td class="code-ln-code" data-line-number="1"><span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">❯ brew install socket_vmnet qemu minikube docker docker-buildx</span></span></td>
      </tr><tr class="code-ln-line">
        <td class="code-ln-numbers" data-line-number="2"><div class="code-ln-n" data-line-number="2"></div></td>
        <td class="code-ln-code" data-line-number="2"><span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">❯ brew services start socket_vmnet</span></span></td>
      </tr><tr class="code-ln-line">
        <td class="code-ln-numbers" data-line-number="3"><div class="code-ln-n" data-line-number="3"></div></td>
        <td class="code-ln-code" data-line-number="3"><span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">❯ minikube start --driver=qemu --container-runtime=docker --network=socket_vmnet</span></span></td>
      </tr><tr class="code-ln-line">
        <td class="code-ln-numbers" data-line-number="4"><div class="code-ln-n" data-line-number="4"></div></td>
        <td class="code-ln-code" data-line-number="4"><span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">❯ minikube -p minikube docker-env </span><span style="color:#D73A49;--shiki-dark:#F97583">|</span><span style="color:#D73A49;--shiki-dark:#F97583"> source</span></span></td>
      </tr></tbody></table></code></pre>
<div class="MarkdownHeading_markdown-heading__G6B4T"><span class="MarkdownHeading_markdown-hash__CheR_">##<!-- --> </span><span>Building docker image</span></div>
<p>A while back <!-- --> command got deprecated, and now we need to use <!-- -->. It works pretty much the same, and we will levarage stage builds to get rid off all the build and distro clutter. We will leave only our application and its runtime dependencies by using <a href="https://github.com/GoogleContainerTools/distroless">distroless Debian 11</a> container as a base for our final image.</p>
<pre class="language-dockerfile pre-code-block shiki github-light github-dark"><code><table class="code-ln-table"><tbody><tr class="code-ln-line">
        <td class="code-ln-numbers" data-line-number="1"><div class="code-ln-n" data-line-number="1"></div></td>
        <td class="code-ln-code" data-line-number="1"><span class="line"><span style="color:#6A737D;--shiki-dark:#6A737D"># syntax=docker/dockerfile:1</span></span></td>
      </tr><tr class="code-ln-line">
        <td class="code-ln-numbers" data-line-number="2"><div class="code-ln-n" data-line-number="2"></div></td>
        <td class="code-ln-code" data-line-number="2"><span class="line"></span></td>
      </tr><tr class="code-ln-line">
        <td class="code-ln-numbers" data-line-number="3"><div class="code-ln-n" data-line-number="3"></div></td>
        <td class="code-ln-code" data-line-number="3"><span class="line"><span style="color:#D73A49;--shiki-dark:#F97583">FROM</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> golang:1.21 </span><span style="color:#D73A49;--shiki-dark:#F97583">AS</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> build-stage</span></span></td>
      </tr><tr class="code-ln-line">
        <td class="code-ln-numbers" data-line-number="4"><div class="code-ln-n" data-line-number="4"></div></td>
        <td class="code-ln-code" data-line-number="4"><span class="line"></span></td>
      </tr><tr class="code-ln-line">
        <td class="code-ln-numbers" data-line-number="5"><div class="code-ln-n" data-line-number="5"></div></td>
        <td class="code-ln-code" data-line-number="5"><span class="line"><span style="color:#D73A49;--shiki-dark:#F97583">WORKDIR</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> /app</span></span></td>
      </tr><tr class="code-ln-line">
        <td class="code-ln-numbers" data-line-number="6"><div class="code-ln-n" data-line-number="6"></div></td>
        <td class="code-ln-code" data-line-number="6"><span class="line"></span></td>
      </tr><tr class="code-ln-line">
        <td class="code-ln-numbers" data-line-number="7"><div class="code-ln-n" data-line-number="7"></div></td>
        <td class="code-ln-code" data-line-number="7"><span class="line"><span style="color:#D73A49;--shiki-dark:#F97583">COPY</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> go.mod go.sum ./</span></span></td>
      </tr><tr class="code-ln-line">
        <td class="code-ln-numbers" data-line-number="8"><div class="code-ln-n" data-line-number="8"></div></td>
        <td class="code-ln-code" data-line-number="8"><span class="line"><span style="color:#D73A49;--shiki-dark:#F97583">RUN</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> go mod download</span></span></td>
      </tr><tr class="code-ln-line">
        <td class="code-ln-numbers" data-line-number="9"><div class="code-ln-n" data-line-number="9"></div></td>
        <td class="code-ln-code" data-line-number="9"><span class="line"></span></td>
      </tr><tr class="code-ln-line">
        <td class="code-ln-numbers" data-line-number="10"><div class="code-ln-n" data-line-number="10"></div></td>
        <td class="code-ln-code" data-line-number="10"><span class="line"><span style="color:#D73A49;--shiki-dark:#F97583">COPY</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> services/calculator/*.go ./</span></span></td>
      </tr><tr class="code-ln-line">
        <td class="code-ln-numbers" data-line-number="11"><div class="code-ln-n" data-line-number="11"></div></td>
        <td class="code-ln-code" data-line-number="11"><span class="line"></span></td>
      </tr><tr class="code-ln-line">
        <td class="code-ln-numbers" data-line-number="12"><div class="code-ln-n" data-line-number="12"></div></td>
        <td class="code-ln-code" data-line-number="12"><span class="line"><span style="color:#D73A49;--shiki-dark:#F97583">RUN</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> CGO_ENABLED=0 GOOS=linux go build -o /calculator</span></span></td>
      </tr><tr class="code-ln-line">
        <td class="code-ln-numbers" data-line-number="13"><div class="code-ln-n" data-line-number="13"></div></td>
        <td class="code-ln-code" data-line-number="13"><span class="line"></span></td>
      </tr><tr class="code-ln-line">
        <td class="code-ln-numbers" data-line-number="14"><div class="code-ln-n" data-line-number="14"></div></td>
        <td class="code-ln-code" data-line-number="14"><span class="line"><span style="color:#D73A49;--shiki-dark:#F97583">FROM</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> build-stage </span><span style="color:#D73A49;--shiki-dark:#F97583">AS</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> run-test-stage</span></span></td>
      </tr><tr class="code-ln-line">
        <td class="code-ln-numbers" data-line-number="15"><div class="code-ln-n" data-line-number="15"></div></td>
        <td class="code-ln-code" data-line-number="15"><span class="line"><span style="color:#D73A49;--shiki-dark:#F97583">RUN</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> go test -v ./...</span></span></td>
      </tr><tr class="code-ln-line">
        <td class="code-ln-numbers" data-line-number="16"><div class="code-ln-n" data-line-number="16"></div></td>
        <td class="code-ln-code" data-line-number="16"><span class="line"></span></td>
      </tr><tr class="code-ln-line">
        <td class="code-ln-numbers" data-line-number="17"><div class="code-ln-n" data-line-number="17"></div></td>
        <td class="code-ln-code" data-line-number="17"><span class="line"><span style="color:#D73A49;--shiki-dark:#F97583">FROM</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> gcr.io/distroless/base-debian11 </span><span style="color:#D73A49;--shiki-dark:#F97583">AS</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> build-release-stage</span></span></td>
      </tr><tr class="code-ln-line">
        <td class="code-ln-numbers" data-line-number="18"><div class="code-ln-n" data-line-number="18"></div></td>
        <td class="code-ln-code" data-line-number="18"><span class="line"></span></td>
      </tr><tr class="code-ln-line">
        <td class="code-ln-numbers" data-line-number="19"><div class="code-ln-n" data-line-number="19"></div></td>
        <td class="code-ln-code" data-line-number="19"><span class="line"><span style="color:#D73A49;--shiki-dark:#F97583">WORKDIR</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> /</span></span></td>
      </tr><tr class="code-ln-line">
        <td class="code-ln-numbers" data-line-number="20"><div class="code-ln-n" data-line-number="20"></div></td>
        <td class="code-ln-code" data-line-number="20"><span class="line"></span></td>
      </tr><tr class="code-ln-line">
        <td class="code-ln-numbers" data-line-number="21"><div class="code-ln-n" data-line-number="21"></div></td>
        <td class="code-ln-code" data-line-number="21"><span class="line"><span style="color:#D73A49;--shiki-dark:#F97583">COPY</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> --from=build-stage /calculator /calculator</span></span></td>
      </tr><tr class="code-ln-line">
        <td class="code-ln-numbers" data-line-number="22"><div class="code-ln-n" data-line-number="22"></div></td>
        <td class="code-ln-code" data-line-number="22"><span class="line"></span></td>
      </tr><tr class="code-ln-line">
        <td class="code-ln-numbers" data-line-number="23"><div class="code-ln-n" data-line-number="23"></div></td>
        <td class="code-ln-code" data-line-number="23"><span class="line"><span style="color:#D73A49;--shiki-dark:#F97583">EXPOSE</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> 8080</span></span></td>
      </tr><tr class="code-ln-line">
        <td class="code-ln-numbers" data-line-number="24"><div class="code-ln-n" data-line-number="24"></div></td>
        <td class="code-ln-code" data-line-number="24"><span class="line"></span></td>
      </tr><tr class="code-ln-line">
        <td class="code-ln-numbers" data-line-number="25"><div class="code-ln-n" data-line-number="25"></div></td>
        <td class="code-ln-code" data-line-number="25"><span class="line"><span style="color:#D73A49;--shiki-dark:#F97583">USER</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> nonroot:nonroot</span></span></td>
      </tr><tr class="code-ln-line">
        <td class="code-ln-numbers" data-line-number="26"><div class="code-ln-n" data-line-number="26"></div></td>
        <td class="code-ln-code" data-line-number="26"><span class="line"></span></td>
      </tr><tr class="code-ln-line">
        <td class="code-ln-numbers" data-line-number="27"><div class="code-ln-n" data-line-number="27"></div></td>
        <td class="code-ln-code" data-line-number="27"><span class="line"><span style="color:#D73A49;--shiki-dark:#F97583">ENTRYPOINT</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> [</span><span style="color:#032F62;--shiki-dark:#9ECBFF">"/calculator"</span><span style="color:#24292E;--shiki-dark:#E1E4E8">]</span></span></td>
      </tr></tbody></table></code></pre>
<p>or from within our example application with just:</p>
<pre class="language-fish pre-code-block shiki github-light github-dark"><code><table class="code-ln-table"><tbody><tr class="code-ln-line">
        <td class="code-ln-numbers" data-line-number="1"><div class="code-ln-n" data-line-number="1"></div></td>
        <td class="code-ln-code" data-line-number="1"><span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">❯ make ci_calculator_image</span></span></td>
      </tr></tbody></table></code></pre>
<div class="MarkdownHeading_markdown-heading__G6B4T"><span class="MarkdownHeading_markdown-hash__CheR_">##<!-- --> </span><span>Deploying with Quebec</span></div>
<p>With the environment set, and docker image built, let&#x27;s focus on deployment. One practice I favor is creating a <!-- --> subfolder for all non-local tasks, including advanced testing and Docker image building. This folder typically contains a Makefile for these tasks, which I include in the main Makefile, as well as folders for Docker images and qbec configurations.</p>
<p>So, what is qbec all about? It&#x27;s a tool that simplifies the creation and management of Kubernetes objects across multiple clusters and/or namespaces. Let&#x27;s install it and explore its capabilities.</p>
<p>Installation commands:</p>
<pre class="language-fish pre-code-block shiki github-light github-dark"><code><table class="code-ln-table"><tbody><tr class="code-ln-line">
        <td class="code-ln-numbers" data-line-number="1"><div class="code-ln-n" data-line-number="1"></div></td>
        <td class="code-ln-code" data-line-number="1"><span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">❯ brew tap splunk/tap</span></span></td>
      </tr><tr class="code-ln-line">
        <td class="code-ln-numbers" data-line-number="2"><div class="code-ln-n" data-line-number="2"></div></td>
        <td class="code-ln-code" data-line-number="2"><span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">❯ brew install qbec</span></span></td>
      </tr></tbody></table></code></pre>
<p>One of the biggest challenges for my team, given the scale of our operations, is managing about 20+ different Kubernetes clusters. We have three types of environments: dev, stage, and live, each with varying levels of traffic and activity. Internally, we also aim to optimize resource utilization – we don&#x27;t want to set resources too low to avoid frequent scaling, but also not too high to avoid wastage.</p>
<p>The question then is: How do we avoid configuration duplication while maintaining a high degree of flexibility? Let&#x27;s see how qbec can help us in this endeavor.</p>
<div class="MarkdownHeading_markdown-heading__G6B4T"><span class="MarkdownHeading_markdown-hash__CheR_">##<!-- --> </span><span>20+ Clusters</span></div>
<p>First of all, we define all our environments in <!-- -->.</p>
<pre class="language-yaml pre-code-block shiki github-light github-dark"><code><table class="code-ln-table"><tbody><tr class="code-ln-line">
        <td class="code-ln-numbers" data-line-number="1"><div class="code-ln-n" data-line-number="1"></div></td>
        <td class="code-ln-code" data-line-number="1"><span class="line"><span style="color:#22863A;--shiki-dark:#85E89D">apiVersion</span><span style="color:#24292E;--shiki-dark:#E1E4E8">: </span><span style="color:#032F62;--shiki-dark:#9ECBFF">qbec.io/v1alpha1</span></span></td>
      </tr><tr class="code-ln-line">
        <td class="code-ln-numbers" data-line-number="2"><div class="code-ln-n" data-line-number="2"></div></td>
        <td class="code-ln-code" data-line-number="2"><span class="line"><span style="color:#22863A;--shiki-dark:#85E89D">kind</span><span style="color:#24292E;--shiki-dark:#E1E4E8">: </span><span style="color:#032F62;--shiki-dark:#9ECBFF">App</span></span></td>
      </tr><tr class="code-ln-line">
        <td class="code-ln-numbers" data-line-number="3"><div class="code-ln-n" data-line-number="3"></div></td>
        <td class="code-ln-code" data-line-number="3"><span class="line"><span style="color:#22863A;--shiki-dark:#85E89D">metadata</span><span style="color:#24292E;--shiki-dark:#E1E4E8">:</span></span></td>
      </tr><tr class="code-ln-line">
        <td class="code-ln-numbers" data-line-number="4"><div class="code-ln-n" data-line-number="4"></div></td>
        <td class="code-ln-code" data-line-number="4"><span class="line"><span style="color:#22863A;--shiki-dark:#85E89D">  name</span><span style="color:#24292E;--shiki-dark:#E1E4E8">: </span><span style="color:#032F62;--shiki-dark:#9ECBFF">meetup-example</span></span></td>
      </tr><tr class="code-ln-line">
        <td class="code-ln-numbers" data-line-number="5"><div class="code-ln-n" data-line-number="5"></div></td>
        <td class="code-ln-code" data-line-number="5"><span class="line"><span style="color:#22863A;--shiki-dark:#85E89D">spec</span><span style="color:#24292E;--shiki-dark:#E1E4E8">:</span></span></td>
      </tr><tr class="code-ln-line">
        <td class="code-ln-numbers" data-line-number="6"><div class="code-ln-n" data-line-number="6"></div></td>
        <td class="code-ln-code" data-line-number="6"><span class="line"><span style="color:#22863A;--shiki-dark:#85E89D">  environments</span><span style="color:#24292E;--shiki-dark:#E1E4E8">:</span></span></td>
      </tr><tr class="code-ln-line">
        <td class="code-ln-numbers" data-line-number="7"><div class="code-ln-n" data-line-number="7"></div></td>
        <td class="code-ln-code" data-line-number="7"><span class="line"><span style="color:#22863A;--shiki-dark:#85E89D">    local</span><span style="color:#24292E;--shiki-dark:#E1E4E8">:</span></span></td>
      </tr><tr class="code-ln-line">
        <td class="code-ln-numbers" data-line-number="8"><div class="code-ln-n" data-line-number="8"></div></td>
        <td class="code-ln-code" data-line-number="8"><span class="line"><span style="color:#22863A;--shiki-dark:#85E89D">      context</span><span style="color:#24292E;--shiki-dark:#E1E4E8">: </span><span style="color:#032F62;--shiki-dark:#9ECBFF">minikube</span></span></td>
      </tr><tr class="code-ln-line">
        <td class="code-ln-numbers" data-line-number="9"><div class="code-ln-n" data-line-number="9"></div></td>
        <td class="code-ln-code" data-line-number="9"><span class="line"><span style="color:#22863A;--shiki-dark:#85E89D">      defaultNamespace</span><span style="color:#24292E;--shiki-dark:#E1E4E8">: </span><span style="color:#032F62;--shiki-dark:#9ECBFF">default</span></span></td>
      </tr><tr class="code-ln-line">
        <td class="code-ln-numbers" data-line-number="10"><div class="code-ln-n" data-line-number="10"></div></td>
        <td class="code-ln-code" data-line-number="10"><span class="line"><span style="color:#22863A;--shiki-dark:#85E89D">    cluster001</span><span style="color:#24292E;--shiki-dark:#E1E4E8">:</span></span></td>
      </tr><tr class="code-ln-line">
        <td class="code-ln-numbers" data-line-number="11"><div class="code-ln-n" data-line-number="11"></div></td>
        <td class="code-ln-code" data-line-number="11"><span class="line"><span style="color:#22863A;--shiki-dark:#85E89D">      defaultNamespace</span><span style="color:#24292E;--shiki-dark:#E1E4E8">: </span><span style="color:#032F62;--shiki-dark:#9ECBFF">default</span></span></td>
      </tr><tr class="code-ln-line">
        <td class="code-ln-numbers" data-line-number="12"><div class="code-ln-n" data-line-number="12"></div></td>
        <td class="code-ln-code" data-line-number="12"><span class="line"><span style="color:#22863A;--shiki-dark:#85E89D">      server</span><span style="color:#24292E;--shiki-dark:#E1E4E8">: </span><span style="color:#032F62;--shiki-dark:#9ECBFF">https://192.168.1.1:8443</span></span></td>
      </tr><tr class="code-ln-line">
        <td class="code-ln-numbers" data-line-number="13"><div class="code-ln-n" data-line-number="13"></div></td>
        <td class="code-ln-code" data-line-number="13"><span class="line"><span style="color:#22863A;--shiki-dark:#85E89D">    cluster002</span><span style="color:#24292E;--shiki-dark:#E1E4E8">:</span></span></td>
      </tr><tr class="code-ln-line">
        <td class="code-ln-numbers" data-line-number="14"><div class="code-ln-n" data-line-number="14"></div></td>
        <td class="code-ln-code" data-line-number="14"><span class="line"><span style="color:#22863A;--shiki-dark:#85E89D">      defaultNamespace</span><span style="color:#24292E;--shiki-dark:#E1E4E8">: </span><span style="color:#032F62;--shiki-dark:#9ECBFF">default</span></span></td>
      </tr><tr class="code-ln-line">
        <td class="code-ln-numbers" data-line-number="15"><div class="code-ln-n" data-line-number="15"></div></td>
        <td class="code-ln-code" data-line-number="15"><span class="line"><span style="color:#22863A;--shiki-dark:#85E89D">      server</span><span style="color:#24292E;--shiki-dark:#E1E4E8">: </span><span style="color:#032F62;--shiki-dark:#9ECBFF">https://10.0.0.1:8443</span></span></td>
      </tr></tbody></table></code></pre>
<p>now we can quickly apply changes to each environment with:</p>
<pre class="language-fish pre-code-block shiki github-light github-dark"><code><table class="code-ln-table"><tbody><tr class="code-ln-line">
        <td class="code-ln-numbers" data-line-number="1"><div class="code-ln-n" data-line-number="1"></div></td>
        <td class="code-ln-code" data-line-number="1"><span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">❯ qbec apply cluster001</span></span></td>
      </tr></tbody></table></code></pre>
<p>There are many ways to customize settings for each cluster. The one qbec suggests out-of-the-box is to have an <!-- --> folder with number of files. First we have <!-- --> for <em>base</em> environment, or <!-- --> for short. Other files would be named same as keys of entries in <!-- -->, so in our case <!-- -->, <!-- -->, etc.</p>
<pre class="language-fish pre-code-block shiki github-light github-dark"><code><table class="code-ln-table"><tbody><tr class="code-ln-line">
        <td class="code-ln-numbers" data-line-number="1"><div class="code-ln-n" data-line-number="1"></div></td>
        <td class="code-ln-code" data-line-number="1"><span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">❯ ls -1R cicd/qbec/environments/</span></span></td>
      </tr><tr class="code-ln-line">
        <td class="code-ln-numbers" data-line-number="2"><div class="code-ln-n" data-line-number="2"></div></td>
        <td class="code-ln-code" data-line-number="2"><span class="line"><span style="color:#005CC5;--shiki-dark:#79B8FF">base.libsonnet</span></span></td>
      </tr><tr class="code-ln-line">
        <td class="code-ln-numbers" data-line-number="3"><div class="code-ln-n" data-line-number="3"></div></td>
        <td class="code-ln-code" data-line-number="3"><span class="line"><span style="color:#005CC5;--shiki-dark:#79B8FF">local.libsonnet</span></span></td>
      </tr></tbody></table></code></pre>
<p>Our microservice&#x27;s kubernetes objects are defined in <!-- -->, but we&#x27;ll get back to this. First, for base environment let&#x27;s define all the default parameters that we will later use while constructing our kubernetes resources. Something along the lines of:</p>
<pre class="language-jsonnet pre-code-block shiki github-light github-dark"><code><table class="code-ln-table"><tbody><tr class="code-ln-line">
        <td class="code-ln-numbers" data-line-number="1"><div class="code-ln-n" data-line-number="1"></div></td>
        <td class="code-ln-code" data-line-number="1"><span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">{</span></span></td>
      </tr><tr class="code-ln-line">
        <td class="code-ln-numbers" data-line-number="2"><div class="code-ln-n" data-line-number="2"></div></td>
        <td class="code-ln-code" data-line-number="2"><span class="line"><span style="color:#E36209;--shiki-dark:#FFAB70">  components:</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> {</span></span></td>
      </tr><tr class="code-ln-line">
        <td class="code-ln-numbers" data-line-number="3"><div class="code-ln-n" data-line-number="3"></div></td>
        <td class="code-ln-code" data-line-number="3"><span class="line"><span style="color:#E36209;--shiki-dark:#FFAB70">    calculator:</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> {</span></span></td>
      </tr><tr class="code-ln-line">
        <td class="code-ln-numbers" data-line-number="4"><div class="code-ln-n" data-line-number="4"></div></td>
        <td class="code-ln-code" data-line-number="4"><span class="line"><span style="color:#E36209;--shiki-dark:#FFAB70">      name:</span><span style="color:#032F62;--shiki-dark:#9ECBFF"> "calculator"</span><span style="color:#24292E;--shiki-dark:#E1E4E8">,</span></span></td>
      </tr><tr class="code-ln-line">
        <td class="code-ln-numbers" data-line-number="5"><div class="code-ln-n" data-line-number="5"></div></td>
        <td class="code-ln-code" data-line-number="5"><span class="line"><span style="color:#E36209;--shiki-dark:#FFAB70">      serviceName:</span><span style="color:#032F62;--shiki-dark:#9ECBFF"> "calculator"</span><span style="color:#24292E;--shiki-dark:#E1E4E8">,</span></span></td>
      </tr><tr class="code-ln-line">
        <td class="code-ln-numbers" data-line-number="6"><div class="code-ln-n" data-line-number="6"></div></td>
        <td class="code-ln-code" data-line-number="6"><span class="line"><span style="color:#E36209;--shiki-dark:#FFAB70">      replicaCount:</span><span style="color:#005CC5;--shiki-dark:#79B8FF"> 3</span><span style="color:#24292E;--shiki-dark:#E1E4E8">,</span></span></td>
      </tr><tr class="code-ln-line">
        <td class="code-ln-numbers" data-line-number="7"><div class="code-ln-n" data-line-number="7"></div></td>
        <td class="code-ln-code" data-line-number="7"><span class="line"><span style="color:#E36209;--shiki-dark:#FFAB70">      port:</span><span style="color:#005CC5;--shiki-dark:#79B8FF"> 8080</span><span style="color:#24292E;--shiki-dark:#E1E4E8">,</span></span></td>
      </tr><tr class="code-ln-line">
        <td class="code-ln-numbers" data-line-number="8"><div class="code-ln-n" data-line-number="8"></div></td>
        <td class="code-ln-code" data-line-number="8"><span class="line"><span style="color:#E36209;--shiki-dark:#FFAB70">      externalServicePort:</span><span style="color:#005CC5;--shiki-dark:#79B8FF"> 8989</span><span style="color:#24292E;--shiki-dark:#E1E4E8">,</span></span></td>
      </tr><tr class="code-ln-line">
        <td class="code-ln-numbers" data-line-number="9"><div class="code-ln-n" data-line-number="9"></div></td>
        <td class="code-ln-code" data-line-number="9"><span class="line"><span style="color:#E36209;--shiki-dark:#FFAB70">      serviceType:</span><span style="color:#032F62;--shiki-dark:#9ECBFF"> "NodePort"</span><span style="color:#24292E;--shiki-dark:#E1E4E8">,</span></span></td>
      </tr><tr class="code-ln-line">
        <td class="code-ln-numbers" data-line-number="10"><div class="code-ln-n" data-line-number="10"></div></td>
        <td class="code-ln-code" data-line-number="10"><span class="line"><span style="color:#E36209;--shiki-dark:#FFAB70">      enabled:</span><span style="color:#005CC5;--shiki-dark:#79B8FF"> true</span><span style="color:#24292E;--shiki-dark:#E1E4E8">,</span></span></td>
      </tr><tr class="code-ln-line">
        <td class="code-ln-numbers" data-line-number="11"><div class="code-ln-n" data-line-number="11"></div></td>
        <td class="code-ln-code" data-line-number="11"><span class="line"><span style="color:#E36209;--shiki-dark:#FFAB70">      resources:</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> {</span></span></td>
      </tr><tr class="code-ln-line">
        <td class="code-ln-numbers" data-line-number="12"><div class="code-ln-n" data-line-number="12"></div></td>
        <td class="code-ln-code" data-line-number="12"><span class="line"><span style="color:#E36209;--shiki-dark:#FFAB70">        requests:</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> {</span></span></td>
      </tr><tr class="code-ln-line">
        <td class="code-ln-numbers" data-line-number="13"><div class="code-ln-n" data-line-number="13"></div></td>
        <td class="code-ln-code" data-line-number="13"><span class="line"><span style="color:#E36209;--shiki-dark:#FFAB70">          cpu:</span><span style="color:#032F62;--shiki-dark:#9ECBFF"> "200m"</span><span style="color:#24292E;--shiki-dark:#E1E4E8">,</span></span></td>
      </tr><tr class="code-ln-line">
        <td class="code-ln-numbers" data-line-number="14"><div class="code-ln-n" data-line-number="14"></div></td>
        <td class="code-ln-code" data-line-number="14"><span class="line"><span style="color:#E36209;--shiki-dark:#FFAB70">          memory:</span><span style="color:#032F62;--shiki-dark:#9ECBFF"> "200Mi"</span><span style="color:#24292E;--shiki-dark:#E1E4E8">,</span></span></td>
      </tr><tr class="code-ln-line">
        <td class="code-ln-numbers" data-line-number="15"><div class="code-ln-n" data-line-number="15"></div></td>
        <td class="code-ln-code" data-line-number="15"><span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">        },</span></span></td>
      </tr><tr class="code-ln-line">
        <td class="code-ln-numbers" data-line-number="16"><div class="code-ln-n" data-line-number="16"></div></td>
        <td class="code-ln-code" data-line-number="16"><span class="line"><span style="color:#E36209;--shiki-dark:#FFAB70">        limits:</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> {</span></span></td>
      </tr><tr class="code-ln-line">
        <td class="code-ln-numbers" data-line-number="17"><div class="code-ln-n" data-line-number="17"></div></td>
        <td class="code-ln-code" data-line-number="17"><span class="line"><span style="color:#E36209;--shiki-dark:#FFAB70">          cpu:</span><span style="color:#032F62;--shiki-dark:#9ECBFF"> "300m"</span><span style="color:#24292E;--shiki-dark:#E1E4E8">,</span></span></td>
      </tr><tr class="code-ln-line">
        <td class="code-ln-numbers" data-line-number="18"><div class="code-ln-n" data-line-number="18"></div></td>
        <td class="code-ln-code" data-line-number="18"><span class="line"><span style="color:#E36209;--shiki-dark:#FFAB70">          memory:</span><span style="color:#032F62;--shiki-dark:#9ECBFF"> "500Mi"</span></span></td>
      </tr><tr class="code-ln-line">
        <td class="code-ln-numbers" data-line-number="19"><div class="code-ln-n" data-line-number="19"></div></td>
        <td class="code-ln-code" data-line-number="19"><span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">        }</span></span></td>
      </tr><tr class="code-ln-line">
        <td class="code-ln-numbers" data-line-number="20"><div class="code-ln-n" data-line-number="20"></div></td>
        <td class="code-ln-code" data-line-number="20"><span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">      }</span></span></td>
      </tr><tr class="code-ln-line">
        <td class="code-ln-numbers" data-line-number="21"><div class="code-ln-n" data-line-number="21"></div></td>
        <td class="code-ln-code" data-line-number="21"><span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">    }</span></span></td>
      </tr><tr class="code-ln-line">
        <td class="code-ln-numbers" data-line-number="22"><div class="code-ln-n" data-line-number="22"></div></td>
        <td class="code-ln-code" data-line-number="22"><span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">  },</span></span></td>
      </tr><tr class="code-ln-line">
        <td class="code-ln-numbers" data-line-number="23"><div class="code-ln-n" data-line-number="23"></div></td>
        <td class="code-ln-code" data-line-number="23"><span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">}</span></span></td>
      </tr></tbody></table></code></pre>
<p>then per environment we can use jsonnet&#x27;s object mergin notation <!-- -->, which do the nested update of one object with another. Let&#x27;s say for <!-- --> environment we just want to have one replica of our service, because why would we need more?</p>
<pre class="language-jsonnet pre-code-block shiki github-light github-dark"><code><table class="code-ln-table"><tbody><tr class="code-ln-line">
        <td class="code-ln-numbers" data-line-number="1"><div class="code-ln-n" data-line-number="1"></div></td>
        <td class="code-ln-code" data-line-number="1"><span class="line"><span style="color:#D73A49;--shiki-dark:#F97583">local</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> base </span><span style="color:#D73A49;--shiki-dark:#F97583">=</span><span style="color:#D73A49;--shiki-dark:#F97583"> import</span><span style="color:#032F62;--shiki-dark:#9ECBFF"> './base.libsonnet'</span><span style="color:#24292E;--shiki-dark:#E1E4E8">;</span></span></td>
      </tr><tr class="code-ln-line">
        <td class="code-ln-numbers" data-line-number="2"><div class="code-ln-n" data-line-number="2"></div></td>
        <td class="code-ln-code" data-line-number="2"><span class="line"></span></td>
      </tr><tr class="code-ln-line">
        <td class="code-ln-numbers" data-line-number="3"><div class="code-ln-n" data-line-number="3"></div></td>
        <td class="code-ln-code" data-line-number="3"><span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">base {</span></span></td>
      </tr><tr class="code-ln-line">
        <td class="code-ln-numbers" data-line-number="4"><div class="code-ln-n" data-line-number="4"></div></td>
        <td class="code-ln-code" data-line-number="4"><span class="line"><span style="color:#E36209;--shiki-dark:#FFAB70">  components +:</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> {</span></span></td>
      </tr><tr class="code-ln-line">
        <td class="code-ln-numbers" data-line-number="5"><div class="code-ln-n" data-line-number="5"></div></td>
        <td class="code-ln-code" data-line-number="5"><span class="line"><span style="color:#E36209;--shiki-dark:#FFAB70">    calculator +:</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> {</span></span></td>
      </tr><tr class="code-ln-line">
        <td class="code-ln-numbers" data-line-number="6"><div class="code-ln-n" data-line-number="6"></div></td>
        <td class="code-ln-code" data-line-number="6"><span class="line"><span style="color:#E36209;--shiki-dark:#FFAB70">      replicaCount:</span><span style="color:#005CC5;--shiki-dark:#79B8FF"> 1</span><span style="color:#24292E;--shiki-dark:#E1E4E8">,</span></span></td>
      </tr><tr class="code-ln-line">
        <td class="code-ln-numbers" data-line-number="7"><div class="code-ln-n" data-line-number="7"></div></td>
        <td class="code-ln-code" data-line-number="7"><span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">    }</span></span></td>
      </tr><tr class="code-ln-line">
        <td class="code-ln-numbers" data-line-number="8"><div class="code-ln-n" data-line-number="8"></div></td>
        <td class="code-ln-code" data-line-number="8"><span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">  }</span></span></td>
      </tr><tr class="code-ln-line">
        <td class="code-ln-numbers" data-line-number="9"><div class="code-ln-n" data-line-number="9"></div></td>
        <td class="code-ln-code" data-line-number="9"><span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">}</span></span></td>
      </tr></tbody></table></code></pre>
<p>you can now compare the result looking at generated spec for both environments:</p>
<pre class="language-diff pre-code-block shiki github-light github-dark"><code><table class="code-ln-table"><tbody><tr class="code-ln-line">
        <td class="code-ln-numbers" data-line-number="1"><div class="code-ln-n" data-line-number="1"></div></td>
        <td class="code-ln-code" data-line-number="1"><span class="line"><span style="color:#6F42C1;font-weight:bold;--shiki-dark:#B392F0;--shiki-dark-font-weight:bold">12c12</span></span></td>
      </tr><tr class="code-ln-line">
        <td class="code-ln-numbers" data-line-number="2"><div class="code-ln-n" data-line-number="2"></div></td>
        <td class="code-ln-code" data-line-number="2"><span class="line"><span style="color:#B31D28;--shiki-dark:#FDAEB7">&#x3C;     qbec.io/environment: local</span></span></td>
      </tr><tr class="code-ln-line">
        <td class="code-ln-numbers" data-line-number="3"><div class="code-ln-n" data-line-number="3"></div></td>
        <td class="code-ln-code" data-line-number="3"><span class="line"><span style="color:#005CC5;font-weight:bold;--shiki-dark:#79B8FF;--shiki-dark-font-weight:bold">---</span></span></td>
      </tr><tr class="code-ln-line">
        <td class="code-ln-numbers" data-line-number="4"><div class="code-ln-n" data-line-number="4"></div></td>
        <td class="code-ln-code" data-line-number="4"><span class="line"><span style="color:#22863A;--shiki-dark:#85E89D">>     qbec.io/environment: _</span></span></td>
      </tr><tr class="code-ln-line">
        <td class="code-ln-numbers" data-line-number="5"><div class="code-ln-n" data-line-number="5"></div></td>
        <td class="code-ln-code" data-line-number="5"><span class="line"><span style="color:#6F42C1;font-weight:bold;--shiki-dark:#B392F0;--shiki-dark-font-weight:bold">15c15</span></span></td>
      </tr><tr class="code-ln-line">
        <td class="code-ln-numbers" data-line-number="6"><div class="code-ln-n" data-line-number="6"></div></td>
        <td class="code-ln-code" data-line-number="6"><span class="line"><span style="color:#B31D28;--shiki-dark:#FDAEB7">&#x3C;   replicas: 1</span></span></td>
      </tr><tr class="code-ln-line">
        <td class="code-ln-numbers" data-line-number="7"><div class="code-ln-n" data-line-number="7"></div></td>
        <td class="code-ln-code" data-line-number="7"><span class="line"><span style="color:#005CC5;font-weight:bold;--shiki-dark:#79B8FF;--shiki-dark-font-weight:bold">---</span></span></td>
      </tr><tr class="code-ln-line">
        <td class="code-ln-numbers" data-line-number="8"><div class="code-ln-n" data-line-number="8"></div></td>
        <td class="code-ln-code" data-line-number="8"><span class="line"><span style="color:#22863A;--shiki-dark:#85E89D">>   replicas: 3</span></span></td>
      </tr><tr class="code-ln-line">
        <td class="code-ln-numbers" data-line-number="9"><div class="code-ln-n" data-line-number="9"></div></td>
        <td class="code-ln-code" data-line-number="9"><span class="line"><span style="color:#6F42C1;font-weight:bold;--shiki-dark:#B392F0;--shiki-dark-font-weight:bold">53c53</span></span></td>
      </tr><tr class="code-ln-line">
        <td class="code-ln-numbers" data-line-number="10"><div class="code-ln-n" data-line-number="10"></div></td>
        <td class="code-ln-code" data-line-number="10"><span class="line"><span style="color:#B31D28;--shiki-dark:#FDAEB7">&#x3C;     qbec.io/environment: local</span></span></td>
      </tr><tr class="code-ln-line">
        <td class="code-ln-numbers" data-line-number="11"><div class="code-ln-n" data-line-number="11"></div></td>
        <td class="code-ln-code" data-line-number="11"><span class="line"><span style="color:#005CC5;font-weight:bold;--shiki-dark:#79B8FF;--shiki-dark-font-weight:bold">---</span></span></td>
      </tr><tr class="code-ln-line">
        <td class="code-ln-numbers" data-line-number="12"><div class="code-ln-n" data-line-number="12"></div></td>
        <td class="code-ln-code" data-line-number="12"><span class="line"><span style="color:#22863A;--shiki-dark:#85E89D">>     qbec.io/environment: _</span></span></td>
      </tr></tbody></table></code></pre>
<div class="MarkdownHeading_markdown-heading__G6B4T"><span class="MarkdownHeading_markdown-hash__CheR_">##<!-- --> </span><span>Adjusting Properties Per Tier</span></div>
<p>There&#x27;s many default settings in <!-- -->, but we can also add our own <!-- --> too. Here, for each environment we are going to add indication if it is a <em>local</em>, <em>development</em>, <em>staging</em> or <em>production</em> environment:</p>
<pre class="language-yaml pre-code-block shiki github-light github-dark"><code><table class="code-ln-table"><tbody><tr class="code-ln-line">
        <td class="code-ln-numbers" data-line-number="1"><div class="code-ln-n" data-line-number="1"></div></td>
        <td class="code-ln-code" data-line-number="1"><span class="line"><span style="color:#22863A;--shiki-dark:#85E89D">spec</span><span style="color:#24292E;--shiki-dark:#E1E4E8">:</span></span></td>
      </tr><tr class="code-ln-line">
        <td class="code-ln-numbers" data-line-number="2"><div class="code-ln-n" data-line-number="2"></div></td>
        <td class="code-ln-code" data-line-number="2"><span class="line"><span style="color:#22863A;--shiki-dark:#85E89D">  environments</span><span style="color:#24292E;--shiki-dark:#E1E4E8">:</span></span></td>
      </tr><tr class="code-ln-line">
        <td class="code-ln-numbers" data-line-number="3"><div class="code-ln-n" data-line-number="3"></div></td>
        <td class="code-ln-code" data-line-number="3"><span class="line"><span style="color:#22863A;--shiki-dark:#85E89D">    local</span><span style="color:#24292E;--shiki-dark:#E1E4E8">:</span></span></td>
      </tr><tr class="code-ln-line">
        <td class="code-ln-numbers" data-line-number="4"><div class="code-ln-n" data-line-number="4"></div></td>
        <td class="code-ln-code" data-line-number="4"><span class="line"><span style="color:#22863A;--shiki-dark:#85E89D">      context</span><span style="color:#24292E;--shiki-dark:#E1E4E8">: </span><span style="color:#032F62;--shiki-dark:#9ECBFF">minikube</span></span></td>
      </tr><tr class="code-ln-line">
        <td class="code-ln-numbers" data-line-number="5"><div class="code-ln-n" data-line-number="5"></div></td>
        <td class="code-ln-code" data-line-number="5"><span class="line"><span style="color:#22863A;--shiki-dark:#85E89D">      properties</span><span style="color:#24292E;--shiki-dark:#E1E4E8">:</span></span></td>
      </tr><tr class="code-ln-line">
        <td class="code-ln-numbers" data-line-number="6"><div class="code-ln-n" data-line-number="6"></div></td>
        <td class="code-ln-code" data-line-number="6"><span class="line"><span style="color:#22863A;--shiki-dark:#85E89D">        envType</span><span style="color:#24292E;--shiki-dark:#E1E4E8">: </span><span style="color:#032F62;--shiki-dark:#9ECBFF">local</span></span></td>
      </tr><tr class="code-ln-line">
        <td class="code-ln-numbers" data-line-number="7"><div class="code-ln-n" data-line-number="7"></div></td>
        <td class="code-ln-code" data-line-number="7"><span class="line"><span style="color:#22863A;--shiki-dark:#85E89D">    cluster001</span><span style="color:#24292E;--shiki-dark:#E1E4E8">:</span></span></td>
      </tr><tr class="code-ln-line">
        <td class="code-ln-numbers" data-line-number="8"><div class="code-ln-n" data-line-number="8"></div></td>
        <td class="code-ln-code" data-line-number="8"><span class="line"><span style="color:#22863A;--shiki-dark:#85E89D">      server</span><span style="color:#24292E;--shiki-dark:#E1E4E8">: </span><span style="color:#032F62;--shiki-dark:#9ECBFF">https://192.168.1.1:8443</span></span></td>
      </tr><tr class="code-ln-line">
        <td class="code-ln-numbers" data-line-number="9"><div class="code-ln-n" data-line-number="9"></div></td>
        <td class="code-ln-code" data-line-number="9"><span class="line"><span style="color:#22863A;--shiki-dark:#85E89D">      properties</span><span style="color:#24292E;--shiki-dark:#E1E4E8">:</span></span></td>
      </tr><tr class="code-ln-line">
        <td class="code-ln-numbers" data-line-number="10"><div class="code-ln-n" data-line-number="10"></div></td>
        <td class="code-ln-code" data-line-number="10"><span class="line"><span style="color:#22863A;--shiki-dark:#85E89D">        envType</span><span style="color:#24292E;--shiki-dark:#E1E4E8">: </span><span style="color:#032F62;--shiki-dark:#9ECBFF">staging</span></span></td>
      </tr><tr class="code-ln-line">
        <td class="code-ln-numbers" data-line-number="11"><div class="code-ln-n" data-line-number="11"></div></td>
        <td class="code-ln-code" data-line-number="11"><span class="line"><span style="color:#22863A;--shiki-dark:#85E89D">    cluster002</span><span style="color:#24292E;--shiki-dark:#E1E4E8">:</span></span></td>
      </tr><tr class="code-ln-line">
        <td class="code-ln-numbers" data-line-number="12"><div class="code-ln-n" data-line-number="12"></div></td>
        <td class="code-ln-code" data-line-number="12"><span class="line"><span style="color:#22863A;--shiki-dark:#85E89D">      server</span><span style="color:#24292E;--shiki-dark:#E1E4E8">: </span><span style="color:#032F62;--shiki-dark:#9ECBFF">https://10.0.0.1:8443</span></span></td>
      </tr><tr class="code-ln-line">
        <td class="code-ln-numbers" data-line-number="13"><div class="code-ln-n" data-line-number="13"></div></td>
        <td class="code-ln-code" data-line-number="13"><span class="line"><span style="color:#22863A;--shiki-dark:#85E89D">      properties</span><span style="color:#24292E;--shiki-dark:#E1E4E8">:</span></span></td>
      </tr><tr class="code-ln-line">
        <td class="code-ln-numbers" data-line-number="14"><div class="code-ln-n" data-line-number="14"></div></td>
        <td class="code-ln-code" data-line-number="14"><span class="line"><span style="color:#22863A;--shiki-dark:#85E89D">        envType</span><span style="color:#24292E;--shiki-dark:#E1E4E8">: </span><span style="color:#032F62;--shiki-dark:#9ECBFF">production</span></span></td>
      </tr></tbody></table></code></pre>
<p>With that in place, let&#x27;s see our object definition:</p>
<pre class="language-jsonnet pre-code-block shiki github-light github-dark"><code><table class="code-ln-table"><tbody><tr class="code-ln-line">
        <td class="code-ln-numbers" data-line-number="1"><div class="code-ln-n" data-line-number="1"></div></td>
        <td class="code-ln-code" data-line-number="1"><span class="line"><span style="color:#D73A49;--shiki-dark:#F97583">local</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> paramMap </span><span style="color:#D73A49;--shiki-dark:#F97583">=</span><span style="color:#D73A49;--shiki-dark:#F97583"> import</span><span style="color:#032F62;--shiki-dark:#9ECBFF"> "params.libsonnet"</span><span style="color:#24292E;--shiki-dark:#E1E4E8">;</span></span></td>
      </tr><tr class="code-ln-line">
        <td class="code-ln-numbers" data-line-number="2"><div class="code-ln-n" data-line-number="2"></div></td>
        <td class="code-ln-code" data-line-number="2"><span class="line"><span style="color:#D73A49;--shiki-dark:#F97583">local</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> params </span><span style="color:#D73A49;--shiki-dark:#F97583">=</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> paramMap.components.calculator;</span></span></td>
      </tr><tr class="code-ln-line">
        <td class="code-ln-numbers" data-line-number="3"><div class="code-ln-n" data-line-number="3"></div></td>
        <td class="code-ln-code" data-line-number="3"><span class="line"><span style="color:#D73A49;--shiki-dark:#F97583">local</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> imagePullPolicy </span><span style="color:#D73A49;--shiki-dark:#F97583">=</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> std.</span><span style="color:#6F42C1;--shiki-dark:#B392F0">extVar</span><span style="color:#24292E;--shiki-dark:#E1E4E8">(</span><span style="color:#032F62;--shiki-dark:#9ECBFF">"pull_policy"</span><span style="color:#24292E;--shiki-dark:#E1E4E8">);</span></span></td>
      </tr><tr class="code-ln-line">
        <td class="code-ln-numbers" data-line-number="4"><div class="code-ln-n" data-line-number="4"></div></td>
        <td class="code-ln-code" data-line-number="4"><span class="line"><span style="color:#D73A49;--shiki-dark:#F97583">local</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> imageVersion </span><span style="color:#D73A49;--shiki-dark:#F97583">=</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> std.</span><span style="color:#6F42C1;--shiki-dark:#B392F0">extVar</span><span style="color:#24292E;--shiki-dark:#E1E4E8">(</span><span style="color:#032F62;--shiki-dark:#9ECBFF">"version"</span><span style="color:#24292E;--shiki-dark:#E1E4E8">);</span></span></td>
      </tr><tr class="code-ln-line">
        <td class="code-ln-numbers" data-line-number="5"><div class="code-ln-n" data-line-number="5"></div></td>
        <td class="code-ln-code" data-line-number="5"><span class="line"></span></td>
      </tr><tr class="code-ln-line">
        <td class="code-ln-numbers" data-line-number="6"><div class="code-ln-n" data-line-number="6"></div></td>
        <td class="code-ln-code" data-line-number="6"><span class="line"><span style="color:#D73A49;--shiki-dark:#F97583">local</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> name </span><span style="color:#D73A49;--shiki-dark:#F97583">=</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> params.name;</span></span></td>
      </tr><tr class="code-ln-line">
        <td class="code-ln-numbers" data-line-number="7"><div class="code-ln-n" data-line-number="7"></div></td>
        <td class="code-ln-code" data-line-number="7"><span class="line"><span style="color:#D73A49;--shiki-dark:#F97583">local</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> podLabels </span><span style="color:#D73A49;--shiki-dark:#F97583">=</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> {</span></span></td>
      </tr><tr class="code-ln-line">
        <td class="code-ln-numbers" data-line-number="8"><div class="code-ln-n" data-line-number="8"></div></td>
        <td class="code-ln-code" data-line-number="8"><span class="line"><span style="color:#E36209;--shiki-dark:#FFAB70">  app:</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> name</span></span></td>
      </tr><tr class="code-ln-line">
        <td class="code-ln-numbers" data-line-number="9"><div class="code-ln-n" data-line-number="9"></div></td>
        <td class="code-ln-code" data-line-number="9"><span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">};</span></span></td>
      </tr><tr class="code-ln-line">
        <td class="code-ln-numbers" data-line-number="10"><div class="code-ln-n" data-line-number="10"></div></td>
        <td class="code-ln-code" data-line-number="10"><span class="line"><span style="color:#D73A49;--shiki-dark:#F97583">local</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> serviceLabels </span><span style="color:#D73A49;--shiki-dark:#F97583">=</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> {</span></span></td>
      </tr><tr class="code-ln-line">
        <td class="code-ln-numbers" data-line-number="11"><div class="code-ln-n" data-line-number="11"></div></td>
        <td class="code-ln-code" data-line-number="11"><span class="line"><span style="color:#E36209;--shiki-dark:#FFAB70">  service:</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> params.serviceName</span></span></td>
      </tr><tr class="code-ln-line">
        <td class="code-ln-numbers" data-line-number="12"><div class="code-ln-n" data-line-number="12"></div></td>
        <td class="code-ln-code" data-line-number="12"><span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">};</span></span></td>
      </tr><tr class="code-ln-line">
        <td class="code-ln-numbers" data-line-number="13"><div class="code-ln-n" data-line-number="13"></div></td>
        <td class="code-ln-code" data-line-number="13"><span class="line"></span></td>
      </tr><tr class="code-ln-line code-ln-mark">
        <td class="code-ln-numbers" data-line-number="14"><div class="code-ln-n" data-line-number="14"></div></td>
        <td class="code-ln-code" data-line-number="14"><span class="line"><span style="color:#D73A49;--shiki-dark:#F97583">local</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> target </span><span style="color:#D73A49;--shiki-dark:#F97583">=</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> std.</span><span style="color:#6F42C1;--shiki-dark:#B392F0">extVar</span><span style="color:#24292E;--shiki-dark:#E1E4E8">(</span><span style="color:#032F62;--shiki-dark:#9ECBFF">"qbec.io/env"</span><span style="color:#24292E;--shiki-dark:#E1E4E8">);</span></span></td>
      </tr><tr class="code-ln-line code-ln-mark">
        <td class="code-ln-numbers" data-line-number="15"><div class="code-ln-n" data-line-number="15"></div></td>
        <td class="code-ln-code" data-line-number="15"><span class="line"><span style="color:#D73A49;--shiki-dark:#F97583">local</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> targetProps </span><span style="color:#D73A49;--shiki-dark:#F97583">=</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> std.</span><span style="color:#6F42C1;--shiki-dark:#B392F0">extVar</span><span style="color:#24292E;--shiki-dark:#E1E4E8">(</span><span style="color:#032F62;--shiki-dark:#9ECBFF">"qbec.io/envProperties"</span><span style="color:#24292E;--shiki-dark:#E1E4E8">);</span></span></td>
      </tr><tr class="code-ln-line code-ln-mark">
        <td class="code-ln-numbers" data-line-number="16"><div class="code-ln-n" data-line-number="16"></div></td>
        <td class="code-ln-code" data-line-number="16"><span class="line"></span></td>
      </tr><tr class="code-ln-line code-ln-mark">
        <td class="code-ln-numbers" data-line-number="17"><div class="code-ln-n" data-line-number="17"></div></td>
        <td class="code-ln-code" data-line-number="17"><span class="line"><span style="color:#D73A49;--shiki-dark:#F97583">local</span><span style="color:#6F42C1;--shiki-dark:#B392F0"> getResources</span><span style="color:#24292E;--shiki-dark:#E1E4E8">(props) </span><span style="color:#D73A49;--shiki-dark:#F97583">=</span></span></td>
      </tr><tr class="code-ln-line code-ln-mark">
        <td class="code-ln-numbers" data-line-number="18"><div class="code-ln-n" data-line-number="18"></div></td>
        <td class="code-ln-code" data-line-number="18"><span class="line"><span style="color:#D73A49;--shiki-dark:#F97583">  if</span><span style="color:#005CC5;--shiki-dark:#79B8FF"> std.objectHas</span><span style="color:#24292E;--shiki-dark:#E1E4E8">(props, </span><span style="color:#032F62;--shiki-dark:#9ECBFF">"envType"</span><span style="color:#24292E;--shiki-dark:#E1E4E8">) </span><span style="color:#D73A49;--shiki-dark:#F97583">&#x26;&#x26;</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> props.envType </span><span style="color:#D73A49;--shiki-dark:#F97583">==</span><span style="color:#032F62;--shiki-dark:#9ECBFF"> "staging"</span><span style="color:#D73A49;--shiki-dark:#F97583"> then</span></span></td>
      </tr><tr class="code-ln-line code-ln-mark">
        <td class="code-ln-numbers" data-line-number="19"><div class="code-ln-n" data-line-number="19"></div></td>
        <td class="code-ln-code" data-line-number="19"><span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">{</span></span></td>
      </tr><tr class="code-ln-line code-ln-mark">
        <td class="code-ln-numbers" data-line-number="20"><div class="code-ln-n" data-line-number="20"></div></td>
        <td class="code-ln-code" data-line-number="20"><span class="line"><span style="color:#E36209;--shiki-dark:#FFAB70">  limits +:</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> {</span></span></td>
      </tr><tr class="code-ln-line code-ln-mark">
        <td class="code-ln-numbers" data-line-number="21"><div class="code-ln-n" data-line-number="21"></div></td>
        <td class="code-ln-code" data-line-number="21"><span class="line"><span style="color:#E36209;--shiki-dark:#FFAB70">    cpu:</span><span style="color:#032F62;--shiki-dark:#9ECBFF"> "100m"</span><span style="color:#24292E;--shiki-dark:#E1E4E8">,</span></span></td>
      </tr><tr class="code-ln-line code-ln-mark">
        <td class="code-ln-numbers" data-line-number="22"><div class="code-ln-n" data-line-number="22"></div></td>
        <td class="code-ln-code" data-line-number="22"><span class="line"><span style="color:#E36209;--shiki-dark:#FFAB70">    memory:</span><span style="color:#032F62;--shiki-dark:#9ECBFF"> "100Mi"</span></span></td>
      </tr><tr class="code-ln-line code-ln-mark">
        <td class="code-ln-numbers" data-line-number="23"><div class="code-ln-n" data-line-number="23"></div></td>
        <td class="code-ln-code" data-line-number="23"><span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">  }</span></span></td>
      </tr><tr class="code-ln-line code-ln-mark">
        <td class="code-ln-numbers" data-line-number="24"><div class="code-ln-n" data-line-number="24"></div></td>
        <td class="code-ln-code" data-line-number="24"><span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">} </span><span style="color:#D73A49;--shiki-dark:#F97583">else</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> {};</span></span></td>
      </tr><tr class="code-ln-line">
        <td class="code-ln-numbers" data-line-number="25"><div class="code-ln-n" data-line-number="25"></div></td>
        <td class="code-ln-code" data-line-number="25"><span class="line"></span></td>
      </tr><tr class="code-ln-line">
        <td class="code-ln-numbers" data-line-number="26"><div class="code-ln-n" data-line-number="26"></div></td>
        <td class="code-ln-code" data-line-number="26"><span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">{</span></span></td>
      </tr><tr class="code-ln-line">
        <td class="code-ln-numbers" data-line-number="27"><div class="code-ln-n" data-line-number="27"></div></td>
        <td class="code-ln-code" data-line-number="27"><span class="line"><span style="color:#E36209;--shiki-dark:#FFAB70">  apiVersion:</span><span style="color:#032F62;--shiki-dark:#9ECBFF"> "apps/v1"</span><span style="color:#24292E;--shiki-dark:#E1E4E8">,</span></span></td>
      </tr><tr class="code-ln-line">
        <td class="code-ln-numbers" data-line-number="28"><div class="code-ln-n" data-line-number="28"></div></td>
        <td class="code-ln-code" data-line-number="28"><span class="line"><span style="color:#E36209;--shiki-dark:#FFAB70">  kind:</span><span style="color:#032F62;--shiki-dark:#9ECBFF"> "Deployment"</span><span style="color:#24292E;--shiki-dark:#E1E4E8">,</span></span></td>
      </tr><tr class="code-ln-line">
        <td class="code-ln-numbers" data-line-number="29"><div class="code-ln-n" data-line-number="29"></div></td>
        <td class="code-ln-code" data-line-number="29"><span class="line"><span style="color:#E36209;--shiki-dark:#FFAB70">  metadata:</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> {</span></span></td>
      </tr><tr class="code-ln-line">
        <td class="code-ln-numbers" data-line-number="30"><div class="code-ln-n" data-line-number="30"></div></td>
        <td class="code-ln-code" data-line-number="30"><span class="line"><span style="color:#E36209;--shiki-dark:#FFAB70">    name:</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> name,</span></span></td>
      </tr><tr class="code-ln-line">
        <td class="code-ln-numbers" data-line-number="31"><div class="code-ln-n" data-line-number="31"></div></td>
        <td class="code-ln-code" data-line-number="31"><span class="line"><span style="color:#E36209;--shiki-dark:#FFAB70">    labels:</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> podLabels,</span></span></td>
      </tr><tr class="code-ln-line">
        <td class="code-ln-numbers" data-line-number="32"><div class="code-ln-n" data-line-number="32"></div></td>
        <td class="code-ln-code" data-line-number="32"><span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">  },</span></span></td>
      </tr><tr class="code-ln-line">
        <td class="code-ln-numbers" data-line-number="33"><div class="code-ln-n" data-line-number="33"></div></td>
        <td class="code-ln-code" data-line-number="33"><span class="line"><span style="color:#E36209;--shiki-dark:#FFAB70">  spec:</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> {</span></span></td>
      </tr><tr class="code-ln-line">
        <td class="code-ln-numbers" data-line-number="34"><div class="code-ln-n" data-line-number="34"></div></td>
        <td class="code-ln-code" data-line-number="34"><span class="line"><span style="color:#E36209;--shiki-dark:#FFAB70">    replicas:</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> params.replicaCount,</span></span></td>
      </tr><tr class="code-ln-line">
        <td class="code-ln-numbers" data-line-number="35"><div class="code-ln-n" data-line-number="35"></div></td>
        <td class="code-ln-code" data-line-number="35"><span class="line"><span style="color:#E36209;--shiki-dark:#FFAB70">    selector:</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> {</span></span></td>
      </tr><tr class="code-ln-line">
        <td class="code-ln-numbers" data-line-number="36"><div class="code-ln-n" data-line-number="36"></div></td>
        <td class="code-ln-code" data-line-number="36"><span class="line"><span style="color:#E36209;--shiki-dark:#FFAB70">      matchLabels:</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> podLabels</span></span></td>
      </tr><tr class="code-ln-line">
        <td class="code-ln-numbers" data-line-number="37"><div class="code-ln-n" data-line-number="37"></div></td>
        <td class="code-ln-code" data-line-number="37"><span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">    },</span></span></td>
      </tr><tr class="code-ln-line">
        <td class="code-ln-numbers" data-line-number="38"><div class="code-ln-n" data-line-number="38"></div></td>
        <td class="code-ln-code" data-line-number="38"><span class="line"><span style="color:#E36209;--shiki-dark:#FFAB70">    strategy:</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> {</span></span></td>
      </tr><tr class="code-ln-line">
        <td class="code-ln-numbers" data-line-number="39"><div class="code-ln-n" data-line-number="39"></div></td>
        <td class="code-ln-code" data-line-number="39"><span class="line"><span style="color:#E36209;--shiki-dark:#FFAB70">      type:</span><span style="color:#032F62;--shiki-dark:#9ECBFF"> "RollingUpdate"</span></span></td>
      </tr><tr class="code-ln-line">
        <td class="code-ln-numbers" data-line-number="40"><div class="code-ln-n" data-line-number="40"></div></td>
        <td class="code-ln-code" data-line-number="40"><span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">    },</span></span></td>
      </tr><tr class="code-ln-line">
        <td class="code-ln-numbers" data-line-number="41"><div class="code-ln-n" data-line-number="41"></div></td>
        <td class="code-ln-code" data-line-number="41"><span class="line"><span style="color:#E36209;--shiki-dark:#FFAB70">    template:</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> {</span></span></td>
      </tr><tr class="code-ln-line">
        <td class="code-ln-numbers" data-line-number="42"><div class="code-ln-n" data-line-number="42"></div></td>
        <td class="code-ln-code" data-line-number="42"><span class="line"><span style="color:#E36209;--shiki-dark:#FFAB70">      metadata:</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> {</span></span></td>
      </tr><tr class="code-ln-line">
        <td class="code-ln-numbers" data-line-number="43"><div class="code-ln-n" data-line-number="43"></div></td>
        <td class="code-ln-code" data-line-number="43"><span class="line"><span style="color:#E36209;--shiki-dark:#FFAB70">        labels:</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> podLabels</span></span></td>
      </tr><tr class="code-ln-line">
        <td class="code-ln-numbers" data-line-number="44"><div class="code-ln-n" data-line-number="44"></div></td>
        <td class="code-ln-code" data-line-number="44"><span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">      },</span></span></td>
      </tr><tr class="code-ln-line">
        <td class="code-ln-numbers" data-line-number="45"><div class="code-ln-n" data-line-number="45"></div></td>
        <td class="code-ln-code" data-line-number="45"><span class="line"><span style="color:#E36209;--shiki-dark:#FFAB70">      spec:</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> {</span></span></td>
      </tr><tr class="code-ln-line">
        <td class="code-ln-numbers" data-line-number="46"><div class="code-ln-n" data-line-number="46"></div></td>
        <td class="code-ln-code" data-line-number="46"><span class="line"><span style="color:#E36209;--shiki-dark:#FFAB70">        containers:</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> [</span></span></td>
      </tr><tr class="code-ln-line">
        <td class="code-ln-numbers" data-line-number="47"><div class="code-ln-n" data-line-number="47"></div></td>
        <td class="code-ln-code" data-line-number="47"><span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">          {</span></span></td>
      </tr><tr class="code-ln-line">
        <td class="code-ln-numbers" data-line-number="48"><div class="code-ln-n" data-line-number="48"></div></td>
        <td class="code-ln-code" data-line-number="48"><span class="line"><span style="color:#E36209;--shiki-dark:#FFAB70">            name:</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> name,</span></span></td>
      </tr><tr class="code-ln-line">
        <td class="code-ln-numbers" data-line-number="49"><div class="code-ln-n" data-line-number="49"></div></td>
        <td class="code-ln-code" data-line-number="49"><span class="line"><span style="color:#E36209;--shiki-dark:#FFAB70">            image:</span><span style="color:#032F62;--shiki-dark:#9ECBFF"> "calculator:"</span><span style="color:#D73A49;--shiki-dark:#F97583"> +</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> imageVersion,</span></span></td>
      </tr><tr class="code-ln-line">
        <td class="code-ln-numbers" data-line-number="50"><div class="code-ln-n" data-line-number="50"></div></td>
        <td class="code-ln-code" data-line-number="50"><span class="line"><span style="color:#E36209;--shiki-dark:#FFAB70">            imagePullPolicy:</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> imagePullPolicy,</span></span></td>
      </tr><tr class="code-ln-line">
        <td class="code-ln-numbers" data-line-number="51"><div class="code-ln-n" data-line-number="51"></div></td>
        <td class="code-ln-code" data-line-number="51"><span class="line"><span style="color:#E36209;--shiki-dark:#FFAB70">            ports:</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> [{</span></span></td>
      </tr><tr class="code-ln-line">
        <td class="code-ln-numbers" data-line-number="52"><div class="code-ln-n" data-line-number="52"></div></td>
        <td class="code-ln-code" data-line-number="52"><span class="line"><span style="color:#E36209;--shiki-dark:#FFAB70">              containerPort:</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> params.port,</span></span></td>
      </tr><tr class="code-ln-line">
        <td class="code-ln-numbers" data-line-number="53"><div class="code-ln-n" data-line-number="53"></div></td>
        <td class="code-ln-code" data-line-number="53"><span class="line"><span style="color:#E36209;--shiki-dark:#FFAB70">              name:</span><span style="color:#032F62;--shiki-dark:#9ECBFF"> "http"</span><span style="color:#24292E;--shiki-dark:#E1E4E8">,</span></span></td>
      </tr><tr class="code-ln-line">
        <td class="code-ln-numbers" data-line-number="54"><div class="code-ln-n" data-line-number="54"></div></td>
        <td class="code-ln-code" data-line-number="54"><span class="line"><span style="color:#E36209;--shiki-dark:#FFAB70">              protocol:</span><span style="color:#032F62;--shiki-dark:#9ECBFF"> "TCP"</span></span></td>
      </tr><tr class="code-ln-line">
        <td class="code-ln-numbers" data-line-number="55"><div class="code-ln-n" data-line-number="55"></div></td>
        <td class="code-ln-code" data-line-number="55"><span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">            }],</span></span></td>
      </tr><tr class="code-ln-line code-ln-mark">
        <td class="code-ln-numbers" data-line-number="56"><div class="code-ln-n" data-line-number="56"></div></td>
        <td class="code-ln-code" data-line-number="56"><span class="line"><span style="color:#E36209;--shiki-dark:#FFAB70">            resources:</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> params.resources </span><span style="color:#D73A49;--shiki-dark:#F97583">+</span><span style="color:#6F42C1;--shiki-dark:#B392F0"> getResources</span><span style="color:#24292E;--shiki-dark:#E1E4E8">(targetProps)</span></span></td>
      </tr><tr class="code-ln-line">
        <td class="code-ln-numbers" data-line-number="57"><div class="code-ln-n" data-line-number="57"></div></td>
        <td class="code-ln-code" data-line-number="57"><span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">          },</span></span></td>
      </tr><tr class="code-ln-line">
        <td class="code-ln-numbers" data-line-number="58"><div class="code-ln-n" data-line-number="58"></div></td>
        <td class="code-ln-code" data-line-number="58"><span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">        ],</span></span></td>
      </tr><tr class="code-ln-line">
        <td class="code-ln-numbers" data-line-number="59"><div class="code-ln-n" data-line-number="59"></div></td>
        <td class="code-ln-code" data-line-number="59"><span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">      },</span></span></td>
      </tr><tr class="code-ln-line">
        <td class="code-ln-numbers" data-line-number="60"><div class="code-ln-n" data-line-number="60"></div></td>
        <td class="code-ln-code" data-line-number="60"><span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">    },</span></span></td>
      </tr><tr class="code-ln-line">
        <td class="code-ln-numbers" data-line-number="61"><div class="code-ln-n" data-line-number="61"></div></td>
        <td class="code-ln-code" data-line-number="61"><span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">  },</span></span></td>
      </tr><tr class="code-ln-line">
        <td class="code-ln-numbers" data-line-number="62"><div class="code-ln-n" data-line-number="62"></div></td>
        <td class="code-ln-code" data-line-number="62"><span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">};</span></span></td>
      </tr></tbody></table></code></pre>
<p>In the code snippet above, the params object is derived from settings we have statically configured for our environments. During each evaluation, params reflects the values computed specifically for the evaluated environment. It&#x27;s important to note that Jsonnet files always return an object. In our example, we&#x27;re returning the Deployment resource definition directly.</p>
<p>The highlighted lines play a crucial role in the dynamic calculation of properties. Essentially, we&#x27;re crafting a function that takes the environment type from qbec.yaml. Based on the environment type, this function generates an object with properties tailored to that specific environment. A few lines down, we will manually merge our base properties from props with this dynamically generated object. This process effectively replaces the original values with the new, environment-specific ones.</p>
<div class="MarkdownHeading_markdown-heading__G6B4T"><span class="MarkdownHeading_markdown-hash__CheR_">##<!-- --> </span><span>Postprocessor</span></div>
<p>In cloud environments, an essential aspect of management is cost tracking, which often involves adding specific labels to each application for team-based cost analysis. To streamline this process and avoid the repetitive task of manually labeling each object, we can implement a post-processor. Once configured in <!-- -->, this post-processor automatically appends the necessary per-team labels to every object we create. By doing so, we not only ensure consistent labeling across our application resources&#x27; but also significantly simplify the management and tracking of cloud costs.</p>
<pre class="language-jsonnet pre-code-block shiki github-light github-dark"><code><table class="code-ln-table"><tbody><tr class="code-ln-line">
        <td class="code-ln-numbers" data-line-number="1"><div class="code-ln-n" data-line-number="1"></div></td>
        <td class="code-ln-code" data-line-number="1"><span class="line"><span style="color:#6F42C1;--shiki-dark:#B392F0">function</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> (object) object {</span></span></td>
      </tr><tr class="code-ln-line">
        <td class="code-ln-numbers" data-line-number="2"><div class="code-ln-n" data-line-number="2"></div></td>
        <td class="code-ln-code" data-line-number="2"><span class="line"><span style="color:#E36209;--shiki-dark:#FFAB70">    metadata +:</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> {</span></span></td>
      </tr><tr class="code-ln-line">
        <td class="code-ln-numbers" data-line-number="3"><div class="code-ln-n" data-line-number="3"></div></td>
        <td class="code-ln-code" data-line-number="3"><span class="line"><span style="color:#E36209;--shiki-dark:#FFAB70">        annotations +:</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> {</span></span></td>
      </tr><tr class="code-ln-line">
        <td class="code-ln-numbers" data-line-number="4"><div class="code-ln-n" data-line-number="4"></div></td>
        <td class="code-ln-code" data-line-number="4"><span class="line"><span style="color:#032F62;--shiki-dark:#9ECBFF">            "meetup.com/type"</span><span style="color:#D73A49;--shiki-dark:#F97583">:</span><span style="color:#032F62;--shiki-dark:#9ECBFF"> "meetup"</span><span style="color:#24292E;--shiki-dark:#E1E4E8">,</span></span></td>
      </tr><tr class="code-ln-line">
        <td class="code-ln-numbers" data-line-number="5"><div class="code-ln-n" data-line-number="5"></div></td>
        <td class="code-ln-code" data-line-number="5"><span class="line"><span style="color:#032F62;--shiki-dark:#9ECBFF">            "meetup.com/technology"</span><span style="color:#D73A49;--shiki-dark:#F97583">:</span><span style="color:#032F62;--shiki-dark:#9ECBFF"> "golang"</span><span style="color:#24292E;--shiki-dark:#E1E4E8">,</span></span></td>
      </tr><tr class="code-ln-line">
        <td class="code-ln-numbers" data-line-number="6"><div class="code-ln-n" data-line-number="6"></div></td>
        <td class="code-ln-code" data-line-number="6"><span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">        },</span></span></td>
      </tr><tr class="code-ln-line">
        <td class="code-ln-numbers" data-line-number="7"><div class="code-ln-n" data-line-number="7"></div></td>
        <td class="code-ln-code" data-line-number="7"><span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">    },</span></span></td>
      </tr><tr class="code-ln-line">
        <td class="code-ln-numbers" data-line-number="8"><div class="code-ln-n" data-line-number="8"></div></td>
        <td class="code-ln-code" data-line-number="8"><span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">}</span></span></td>
      </tr></tbody></table></code></pre>
<div class="MarkdownHeading_markdown-heading__G6B4T"><span class="MarkdownHeading_markdown-hash__CheR_">##<!-- --> </span><span>Adjusting Resources Per Tier</span></div>
<p>A common challenge we encounter involves tailoring the resources we deploy to suit the specific needs of different environments. For instance, in our development environment, there might be no need for HorizontalPodAutoscaler or PodDisruptionBudget. Similarly, we might want to completely disable our service in <!-- --> if it’s not required there. To address these variations, we can modify our component file slightly. Instead of directly returning a JSON object, we will define each resource individually and then combine them at the end. This approach allows us to have finer control over what gets deployed in each environment, ensuring that resources are allocated efficiently and appropriately.</p>
<pre class="language-jsonnet pre-code-block shiki github-light github-dark"><code><table class="code-ln-table"><tbody><tr class="code-ln-line">
        <td class="code-ln-numbers" data-line-number="1"><div class="code-ln-n" data-line-number="1"></div></td>
        <td class="code-ln-code" data-line-number="1"><span class="line"><span style="color:#D73A49;--shiki-dark:#F97583">local</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> deployment </span><span style="color:#D73A49;--shiki-dark:#F97583">=</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> {</span></span></td>
      </tr><tr class="code-ln-line">
        <td class="code-ln-numbers" data-line-number="2"><div class="code-ln-n" data-line-number="2"></div></td>
        <td class="code-ln-code" data-line-number="2"><span class="line"><span style="color:#E36209;--shiki-dark:#FFAB70">        apiVersion:</span><span style="color:#032F62;--shiki-dark:#9ECBFF"> "apps/v1"</span><span style="color:#24292E;--shiki-dark:#E1E4E8">,</span></span></td>
      </tr><tr class="code-ln-line">
        <td class="code-ln-numbers" data-line-number="3"><div class="code-ln-n" data-line-number="3"></div></td>
        <td class="code-ln-code" data-line-number="3"><span class="line"><span style="color:#E36209;--shiki-dark:#FFAB70">        kind:</span><span style="color:#032F62;--shiki-dark:#9ECBFF"> "Deployment"</span><span style="color:#24292E;--shiki-dark:#E1E4E8">,</span></span></td>
      </tr><tr class="code-ln-line">
        <td class="code-ln-numbers" data-line-number="4"><div class="code-ln-n" data-line-number="4"></div></td>
        <td class="code-ln-code" data-line-number="4"><span class="line"><span style="color:#6A737D;--shiki-dark:#6A737D">        // ...</span></span></td>
      </tr><tr class="code-ln-line">
        <td class="code-ln-numbers" data-line-number="5"><div class="code-ln-n" data-line-number="5"></div></td>
        <td class="code-ln-code" data-line-number="5"><span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">};</span></span></td>
      </tr><tr class="code-ln-line">
        <td class="code-ln-numbers" data-line-number="6"><div class="code-ln-n" data-line-number="6"></div></td>
        <td class="code-ln-code" data-line-number="6"><span class="line"><span style="color:#D73A49;--shiki-dark:#F97583">local</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> service </span><span style="color:#D73A49;--shiki-dark:#F97583">=</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> {</span></span></td>
      </tr><tr class="code-ln-line">
        <td class="code-ln-numbers" data-line-number="7"><div class="code-ln-n" data-line-number="7"></div></td>
        <td class="code-ln-code" data-line-number="7"><span class="line"><span style="color:#E36209;--shiki-dark:#FFAB70">        apiVersion:</span><span style="color:#032F62;--shiki-dark:#9ECBFF"> "v1"</span><span style="color:#24292E;--shiki-dark:#E1E4E8">,</span></span></td>
      </tr><tr class="code-ln-line">
        <td class="code-ln-numbers" data-line-number="8"><div class="code-ln-n" data-line-number="8"></div></td>
        <td class="code-ln-code" data-line-number="8"><span class="line"><span style="color:#E36209;--shiki-dark:#FFAB70">        kind:</span><span style="color:#032F62;--shiki-dark:#9ECBFF"> "Service"</span><span style="color:#24292E;--shiki-dark:#E1E4E8">,</span></span></td>
      </tr><tr class="code-ln-line">
        <td class="code-ln-numbers" data-line-number="9"><div class="code-ln-n" data-line-number="9"></div></td>
        <td class="code-ln-code" data-line-number="9"><span class="line"><span style="color:#6A737D;--shiki-dark:#6A737D">        // ...</span></span></td>
      </tr><tr class="code-ln-line">
        <td class="code-ln-numbers" data-line-number="10"><div class="code-ln-n" data-line-number="10"></div></td>
        <td class="code-ln-code" data-line-number="10"><span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">};</span></span></td>
      </tr><tr class="code-ln-line">
        <td class="code-ln-numbers" data-line-number="11"><div class="code-ln-n" data-line-number="11"></div></td>
        <td class="code-ln-code" data-line-number="11"><span class="line"><span style="color:#D73A49;--shiki-dark:#F97583">local</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> hpa </span><span style="color:#D73A49;--shiki-dark:#F97583">=</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> {</span></span></td>
      </tr><tr class="code-ln-line">
        <td class="code-ln-numbers" data-line-number="12"><div class="code-ln-n" data-line-number="12"></div></td>
        <td class="code-ln-code" data-line-number="12"><span class="line"><span style="color:#6A737D;--shiki-dark:#6A737D">        // definition for HorizontalPodAutoscaler</span></span></td>
      </tr><tr class="code-ln-line">
        <td class="code-ln-numbers" data-line-number="13"><div class="code-ln-n" data-line-number="13"></div></td>
        <td class="code-ln-code" data-line-number="13"><span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">};</span></span></td>
      </tr><tr class="code-ln-line">
        <td class="code-ln-numbers" data-line-number="14"><div class="code-ln-n" data-line-number="14"></div></td>
        <td class="code-ln-code" data-line-number="14"><span class="line"><span style="color:#D73A49;--shiki-dark:#F97583">local</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> pdb </span><span style="color:#D73A49;--shiki-dark:#F97583">=</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> {</span></span></td>
      </tr><tr class="code-ln-line">
        <td class="code-ln-numbers" data-line-number="15"><div class="code-ln-n" data-line-number="15"></div></td>
        <td class="code-ln-code" data-line-number="15"><span class="line"><span style="color:#6A737D;--shiki-dark:#6A737D">        // definition for PodDisruptionBudget</span></span></td>
      </tr><tr class="code-ln-line">
        <td class="code-ln-numbers" data-line-number="16"><div class="code-ln-n" data-line-number="16"></div></td>
        <td class="code-ln-code" data-line-number="16"><span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">};</span></span></td>
      </tr><tr class="code-ln-line">
        <td class="code-ln-numbers" data-line-number="17"><div class="code-ln-n" data-line-number="17"></div></td>
        <td class="code-ln-code" data-line-number="17"><span class="line"></span></td>
      </tr><tr class="code-ln-line code-ln-mark">
        <td class="code-ln-numbers" data-line-number="18"><div class="code-ln-n" data-line-number="18"></div></td>
        <td class="code-ln-code" data-line-number="18"><span class="line"><span style="color:#D73A49;--shiki-dark:#F97583">local</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> dev_resources </span><span style="color:#D73A49;--shiki-dark:#F97583">=</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> [deployment, service];</span></span></td>
      </tr><tr class="code-ln-line code-ln-mark">
        <td class="code-ln-numbers" data-line-number="19"><div class="code-ln-n" data-line-number="19"></div></td>
        <td class="code-ln-code" data-line-number="19"><span class="line"><span style="color:#D73A49;--shiki-dark:#F97583">local</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> all_resources </span><span style="color:#D73A49;--shiki-dark:#F97583">=</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> [deployment, service, hpa, pdb];</span></span></td>
      </tr><tr class="code-ln-line code-ln-mark">
        <td class="code-ln-numbers" data-line-number="20"><div class="code-ln-n" data-line-number="20"></div></td>
        <td class="code-ln-code" data-line-number="20"><span class="line"><span style="color:#D73A49;--shiki-dark:#F97583">local</span><span style="color:#6F42C1;--shiki-dark:#B392F0"> isDevelopment</span><span style="color:#24292E;--shiki-dark:#E1E4E8">(props) </span><span style="color:#D73A49;--shiki-dark:#F97583">=</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> </span></span></td>
      </tr><tr class="code-ln-line code-ln-mark">
        <td class="code-ln-numbers" data-line-number="21"><div class="code-ln-n" data-line-number="21"></div></td>
        <td class="code-ln-code" data-line-number="21"><span class="line"><span style="color:#D73A49;--shiki-dark:#F97583">        if</span><span style="color:#005CC5;--shiki-dark:#79B8FF"> std.objectHas</span><span style="color:#24292E;--shiki-dark:#E1E4E8">(props, </span><span style="color:#032F62;--shiki-dark:#9ECBFF">"envType"</span><span style="color:#24292E;--shiki-dark:#E1E4E8">) </span><span style="color:#D73A49;--shiki-dark:#F97583">&#x26;&#x26;</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> (props.envType </span><span style="color:#D73A49;--shiki-dark:#F97583">==</span><span style="color:#032F62;--shiki-dark:#9ECBFF"> "development"</span><span style="color:#D73A49;--shiki-dark:#F97583"> ||</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> props.envType </span><span style="color:#D73A49;--shiki-dark:#F97583">==</span><span style="color:#032F62;--shiki-dark:#9ECBFF"> "local"</span><span style="color:#24292E;--shiki-dark:#E1E4E8">) </span><span style="color:#D73A49;--shiki-dark:#F97583">then</span><span style="color:#005CC5;--shiki-dark:#79B8FF"> true</span><span style="color:#D73A49;--shiki-dark:#F97583"> else</span><span style="color:#005CC5;--shiki-dark:#79B8FF"> false</span><span style="color:#24292E;--shiki-dark:#E1E4E8">;</span></span></td>
      </tr><tr class="code-ln-line code-ln-mark">
        <td class="code-ln-numbers" data-line-number="22"><div class="code-ln-n" data-line-number="22"></div></td>
        <td class="code-ln-code" data-line-number="22"><span class="line"><span style="color:#D73A49;--shiki-dark:#F97583">local</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> resources </span><span style="color:#D73A49;--shiki-dark:#F97583">=</span><span style="color:#6F42C1;--shiki-dark:#B392F0"> isDevelopment</span><span style="color:#24292E;--shiki-dark:#E1E4E8">(targetProps) </span><span style="color:#D73A49;--shiki-dark:#F97583">then</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> dev_resources </span><span style="color:#D73A49;--shiki-dark:#F97583">else</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> all_resources;</span></span></td>
      </tr><tr class="code-ln-line code-ln-mark">
        <td class="code-ln-numbers" data-line-number="23"><div class="code-ln-n" data-line-number="23"></div></td>
        <td class="code-ln-code" data-line-number="23"><span class="line"></span></td>
      </tr><tr class="code-ln-line code-ln-mark">
        <td class="code-ln-numbers" data-line-number="24"><div class="code-ln-n" data-line-number="24"></div></td>
        <td class="code-ln-code" data-line-number="24"><span class="line"><span style="color:#D73A49;--shiki-dark:#F97583">if</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> params.enabled </span><span style="color:#D73A49;--shiki-dark:#F97583">then</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> resources </span><span style="color:#D73A49;--shiki-dark:#F97583">else</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> []</span></span></td>
      </tr></tbody></table></code></pre>
<div class="MarkdownHeading_markdown-heading__G6B4T"><span class="MarkdownHeading_markdown-hash__CheR_">##<!-- --> </span><span>Final words</span></div>
<p>There&#x27;s certainly much more to explore beyond what we&#x27;ve covered here, but this should provide you with a solid foundation to get started. This article stems from a talk I delivered at the 11th <a href="https://www.meetup.com/pl-PL/gocracow/">Go Cracow</a> meetup. For those interested in diving deeper, all the code discussed can be found on <a href="https://codeberg.org/unjello/meetup-gocracow11-example">Codeberg</a>. I encourage you to experiment and have fun with it! And if you wanna reach out, feel free to poke me on <a href="https://mastodon.gamedev.place/@unjello/111817279744934079">Fediverse</a>.</p>
<p>Happy coding!</p></div></div><div class="whitespace-pre font-mono"> |                                                                           |</div><div class="whitespace-pre font-mono"> |                                                                           |</div><div class="whitespace-pre font-mono" style="display:flex"> | <a class="hover:underline inline-block" style="text-decoration:none;color:inherit;width:calc(100% - 6ch)" href="/">&lt;&lt; back                                                                     </a>|</div><div class="whitespace-pre font-mono"> |                                                                           |</div><div> \__                      --&gt; <a href="http://andrzej.lichnerowicz.pl" target="_blank" rel="noopener noreferrer" title="andrzej.lichnerowicz.pl" class="link" style="cursor:pointer">andrzej.lichnerowicz.pl</a> &lt;--                  __/
   //                                                                      \\
  // ------------------------                        ---------------------- \\
 &#x27;~~~~~~~~~~~~~~~~~~~~~~~~~// ------         ------- \~~~~~~~~~~~~~~~~~~~~~~`
                          &#x27;~~~~~~~//          \~~~~~~~`
                                 // ---------- \
                                &#x27;~~~~~~~~~~~~~~~`
      </div></div></div><!--$--><!--/$--><!--$--><!--/$--><script src="/_next/static/chunks/webpack-3ec6371319e38377.js" async=""></script><script>(self.__next_f=self.__next_f||[]).push([0])</script><script>self.__next_f.push([1,"1:\"$Sreact.fragment\"\n2:I[1544,[\"177\",\"static/chunks/app/layout-cb5038e2af1ab31b.js\"],\"AsciiArtLogger\"]\n3:I[2738,[\"177\",\"static/chunks/app/layout-cb5038e2af1ab31b.js\"],\"ThemeProvider\"]\n4:I[7555,[],\"\"]\n5:I[1295,[],\"\"]\n6:I[9543,[\"345\",\"static/chunks/app/not-found-374964195ecf67e5.js\"],\"default\"]\n8:I[9665,[],\"MetadataBoundary\"]\na:I[9665,[],\"OutletBoundary\"]\nd:I[4911,[],\"AsyncMetadataOutlet\"]\nf:I[9665,[],\"ViewportBoundary\"]\n11:I[6614,[],\"\"]\n:HL[\"/_next/static/css/09dfadb69bdaa005.css\",\"style\"]\n:HL[\"/_next/static/css/043572ff16fa1c63.css\",\"style\"]\n:HL[\"/_next/static/css/72f0b751ba818b6f.css\",\"style\"]\n"])</script><script>self.__next_f.push([1,"0:{\"P\":null,\"b\":\"m4fWy0SUBB4cXIzg0MG-6\",\"p\":\"\",\"c\":[\"\",\"en\",\"blog\",\"2024\",\"deploying-go-microservices-in-k8s\",\"\"],\"i\":false,\"f\":[[[\"\",{\"children\":[\"en\",{\"children\":[\"blog\",{\"children\":[[\"slug\",\"2024/deploying-go-microservices-in-k8s\",\"oc\"],{\"children\":[\"__PAGE__\",{}]}]}]}]},\"$undefined\",\"$undefined\",true],[\"\",[\"$\",\"$1\",\"c\",{\"children\":[[[\"$\",\"link\",\"0\",{\"rel\":\"stylesheet\",\"href\":\"/_next/static/css/09dfadb69bdaa005.css\",\"precedence\":\"next\",\"crossOrigin\":\"$undefined\",\"nonce\":\"$undefined\"}],[\"$\",\"link\",\"1\",{\"rel\":\"stylesheet\",\"href\":\"/_next/static/css/043572ff16fa1c63.css\",\"precedence\":\"next\",\"crossOrigin\":\"$undefined\",\"nonce\":\"$undefined\"}]],[\"$\",\"html\",null,{\"lang\":\"en\",\"suppressHydrationWarning\":true,\"children\":[[\"$\",\"head\",null,{\"children\":[[\"$\",\"link\",null,{\"rel\":\"icon\",\"href\":\"/favicon.ico\",\"sizes\":\"any\"}],[\"$\",\"link\",null,{\"rel\":\"apple-touch-icon\",\"href\":\"/apple-touch-icon.png\"}]]}],[\"$\",\"body\",null,{\"children\":[[\"$\",\"$L2\",null,{}],[\"$\",\"$L3\",null,{\"children\":[\"$\",\"$L4\",null,{\"parallelRouterKey\":\"children\",\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L5\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":[[\"$\",\"$L6\",null,{}],[]],\"forbidden\":\"$undefined\",\"unauthorized\":\"$undefined\"}]}]]}]]}]]}],{\"children\":[\"en\",[\"$\",\"$1\",\"c\",{\"children\":[null,[\"$\",\"$L4\",null,{\"parallelRouterKey\":\"children\",\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L5\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$undefined\",\"forbidden\":\"$undefined\",\"unauthorized\":\"$undefined\"}]]}],{\"children\":[\"blog\",[\"$\",\"$1\",\"c\",{\"children\":[null,[\"$\",\"$L4\",null,{\"parallelRouterKey\":\"children\",\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L5\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$undefined\",\"forbidden\":\"$undefined\",\"unauthorized\":\"$undefined\"}]]}],{\"children\":[[\"slug\",\"2024/deploying-go-microservices-in-k8s\",\"oc\"],[\"$\",\"$1\",\"c\",{\"children\":[null,[\"$\",\"$L4\",null,{\"parallelRouterKey\":\"children\",\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L5\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$undefined\",\"forbidden\":\"$undefined\",\"unauthorized\":\"$undefined\"}]]}],{\"children\":[\"__PAGE__\",[\"$\",\"$1\",\"c\",{\"children\":[\"$L7\",[\"$\",\"$L8\",null,{\"children\":\"$L9\"}],[[\"$\",\"link\",\"0\",{\"rel\":\"stylesheet\",\"href\":\"/_next/static/css/72f0b751ba818b6f.css\",\"precedence\":\"next\",\"crossOrigin\":\"$undefined\",\"nonce\":\"$undefined\"}]],[\"$\",\"$La\",null,{\"children\":[\"$Lb\",\"$Lc\",[\"$\",\"$Ld\",null,{\"promise\":\"$@e\"}]]}]]}],{},null,false]},null,false]},null,false]},null,false]},null,false],[\"$\",\"$1\",\"h\",{\"children\":[null,[\"$\",\"$1\",\"YwEJwfnK4ivV1G0ZVIHSe\",{\"children\":[[\"$\",\"$Lf\",null,{\"children\":\"$L10\"}],null]}],null]}],false]],\"m\":\"$undefined\",\"G\":[\"$11\",\"$undefined\"],\"s\":false,\"S\":true}\n"])</script><script>self.__next_f.push([1,"12:\"$Sreact.suspense\"\n13:I[4911,[],\"AsyncMetadata\"]\n9:[\"$\",\"$12\",null,{\"fallback\":null,\"children\":[\"$\",\"$L13\",null,{\"promise\":\"$@14\"}]}]\n"])</script><script>self.__next_f.push([1,"c:null\n"])</script><script>self.__next_f.push([1,"10:[[\"$\",\"meta\",\"0\",{\"charSet\":\"utf-8\"}],[\"$\",\"meta\",\"1\",{\"name\":\"viewport\",\"content\":\"width=device-width, initial-scale=1\"}]]\nb:null\n"])</script><script>self.__next_f.push([1,"14:{\"metadata\":[[\"$\",\"title\",\"0\",{\"children\":\"Deploying a Go Microservice in Kubernetes | @unjello blog\"}],[\"$\",\"meta\",\"1\",{\"property\":\"og:title\",\"content\":\"Deploying a Go Microservice in Kubernetes | @unjello blog\"}],[\"$\",\"meta\",\"2\",{\"property\":\"og:url\",\"content\":\"https://andrzej.lichnerowicz.pl/en/blog/2024/deploying-go-microservices-in-k8s/\"}],[\"$\",\"meta\",\"3\",{\"property\":\"og:image\",\"content\":\"https://andrzej.lichnerowicz.pl/avatar.png\"}],[\"$\",\"meta\",\"4\",{\"property\":\"og:image:width\",\"content\":\"1200\"}],[\"$\",\"meta\",\"5\",{\"property\":\"og:image:height\",\"content\":\"630\"}],[\"$\",\"meta\",\"6\",{\"property\":\"og:image:alt\",\"content\":\"Deploying a Go Microservice in Kubernetes | @unjello blog\"}],[\"$\",\"meta\",\"7\",{\"property\":\"og:type\",\"content\":\"article\"}],[\"$\",\"meta\",\"8\",{\"property\":\"article:published_time\",\"content\":\"2024-01-23T20:19:11+02:00\"}],[\"$\",\"meta\",\"9\",{\"name\":\"twitter:card\",\"content\":\"summary_large_image\"}],[\"$\",\"meta\",\"10\",{\"name\":\"twitter:title\",\"content\":\"Deploying a Go Microservice in Kubernetes | @unjello blog\"}],[\"$\",\"meta\",\"11\",{\"name\":\"twitter:image\",\"content\":\"https://andrzej.lichnerowicz.pl/avatar.png\"}],[\"$\",\"link\",\"12\",{\"rel\":\"shortcut icon\",\"href\":\"/favicon.ico\"}],[\"$\",\"link\",\"13\",{\"rel\":\"icon\",\"href\":\"/favicon.ico\",\"sizes\":\"any\"}],[\"$\",\"link\",\"14\",{\"rel\":\"apple-touch-icon\",\"href\":\"/apple-touch-icon.png\"}]],\"error\":null,\"digest\":\"$undefined\"}\ne:{\"metadata\":\"$14:metadata\",\"error\":null,\"digest\":\"$undefined\"}\n"])</script><script>self.__next_f.push([1,"15:I[8109,[\"72\",\"static/chunks/72-d3fcf2c32f7e11b9.js\",\"435\",\"static/chunks/435-711aececbe1f0279.js\",\"447\",\"static/chunks/app/en/blog/%5B%5B...slug%5D%5D/page-6c4a572667fc6dca.js\"],\"ThemeSwitcher\"]\n17:I[6874,[\"72\",\"static/chunks/72-d3fcf2c32f7e11b9.js\",\"435\",\"static/chunks/435-711aececbe1f0279.js\",\"447\",\"static/chunks/app/en/blog/%5B%5B...slug%5D%5D/page-6c4a572667fc6dca.js\"],\"\"]\n18:I[1809,[\"72\",\"static/chunks/72-d3fcf2c32f7e11b9.js\",\"435\",\"static/chunks/435-711aececbe1f0279.js\",\"447\",\"static/chunks/app/en/blog/%5B%5B...slug%5D%5D/page-6c4a572667fc6dca.js\"],\"AsciiBorderedMdx\"]\n16:T548,                              _______._ _\n                      _ _.___/       |\n                         |           |\n                         |           |\n                                                 ∙\r\n                         .                       :\r\n             ____________¡ \u003e\u003e\u003e  _______   _ __ _ ¡  __    _______\r\n          __|⌐           |  ___|  ⌐____|_ ______ |       |       |\r\n        . |     [        | |                   _ |  :  __l.|  ┌  | .\r\n     ÷¼¼¼ |     |         \\|    _____|       _ __|  |_|   |      | ¼¼¼÷\r\n          |_____l  _ l         |     |___|        ________|------!\r\n          ! ___ _         \\____| ___ !  _________|.sti      __ _ :\r\n          ∙                          :             \u003c \u003c\u003c\u003c\u003c        ∙\r\n                                     ∙\n                         :           |\n    - -----andrzej-_ ____\\_____|----_|_____________'-lichnerowicz-------- -\n                         :           |\n .     p e r s o n a l ! |    #1     | wEBPAGE                            .\n . _         - --------- |  - -- -   | ------- -                         _  .\n-:-\\-\\-------------------|- -     - -|-----------------------------------\\-\\-:\n |                      _|___________|_                                      |\n |                       :           :                                       |"])</script><script>self.__next_f.push([1,"7:[\"$\",\"div\",null,{\"className\":\"flex justify-center\",\"children\":[\"$\",\"div\",null,{\"className\":\"ascii-art nfo-pre\",\"children\":[[\"$\",\"$L15\",null,{}],[\"$\",\"div\",null,{\"className\":\"header-component\",\"children\":\"$16\"}],\" |//_)-\u003e 2 0 2 4 . 0 1 . 2 3 \u003c--------------------------------------------(_\\\\|\\n\",[[\"$\",\"div\",null,{\"className\":\"whitespace-pre font-mono\",\"children\":\" |                                                                           |\"}],[\"$\",\"div\",null,{\"className\":\"whitespace-pre font-mono\",\"children\":\" |                                                                           |\"}],[\"$\",\"div\",null,{\"className\":\"whitespace-pre font-mono\",\"style\":{\"display\":\"flex\"},\"children\":[\" | \",[\"$\",\"$L17\",null,{\"href\":\"/\",\"className\":\"hover:underline inline-block\",\"prefetch\":false,\"style\":{\"textDecoration\":\"none\",\"color\":\"inherit\",\"width\":\"calc(100% - 6ch)\"},\"children\":\"\u003c\u003c back                                                                     \"}],\"|\"]}],[\"$\",\"div\",null,{\"className\":\"whitespace-pre font-mono\",\"children\":\" |                                                                           |\"}]],[\"$\",\"$L18\",null,{\"children\":[[\"$\",\"div\",null,{\"style\":{\"fontWeight\":\"bold\",\"fontSize\":\"1.2em\",\"marginTop\":\"1em\",\"marginBottom\":\"2.5em\"},\"children\":[\"# \",\"Deploying a Go Microservice in Kubernetes\"]}],\"$L19\"]}],\"$7:props:children:props:children:3\",[\"$\",\"div\",null,{\"children\":[\" \\\\__                      --\u003e \",[\"$\",\"a\",null,{\"href\":\"http://andrzej.lichnerowicz.pl\",\"target\":\"_blank\",\"rel\":\"noopener noreferrer\",\"title\":\"andrzej.lichnerowicz.pl\",\"className\":\"link\",\"style\":{\"cursor\":\"pointer\"},\"children\":\"andrzej.lichnerowicz.pl\"}],\" \u003c--                  __/\\n   //                                                                      \\\\\\\\\\n  // ------------------------                        ---------------------- \\\\\\\\\\n '~~~~~~~~~~~~~~~~~~~~~~~~~// ------         ------- \\\\~~~~~~~~~~~~~~~~~~~~~~`\\n                          '~~~~~~~//          \\\\~~~~~~~`\\n                                 // ---------- \\\\\\n                                '~~~~~~~~~~~~~~~`\\n      \"]}]]}]}]\n"])</script><script>self.__next_f.push([1,"1a:I[316,[\"72\",\"static/chunks/72-d3fcf2c32f7e11b9.js\",\"435\",\"static/chunks/435-711aececbe1f0279.js\",\"447\",\"static/chunks/app/en/blog/%5B%5B...slug%5D%5D/page-6c4a572667fc6dca.js\"],\"Figure\"]\n1b:I[877,[\"72\",\"static/chunks/72-d3fcf2c32f7e11b9.js\",\"435\",\"static/chunks/435-711aececbe1f0279.js\",\"447\",\"static/chunks/app/en/blog/%5B%5B...slug%5D%5D/page-6c4a572667fc6dca.js\"],\"Admonition\"]\n"])</script><script>self.__next_f.push([1,"19:[[\"$\",\"div\",null,{\"className\":\"MarkdownHeading_markdown-heading__G6B4T\",\"children\":[[\"$\",\"span\",null,{\"className\":\"MarkdownHeading_markdown-hash__CheR_\",\"children\":[\"##\",\" \"]}],[\"$\",\"span\",null,{\"children\":\"Disclaimer\"}]]}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"Disclaimer: This post will showcase some macOS-specific tools, primarily brew. This isn't to make a platform statement; it's simply to avoid the complexities of multi-platform discussion for brevity's sake.\"}],\"\\n\",[\"$\",\"div\",null,{\"className\":\"MarkdownHeading_markdown-heading__G6B4T\",\"children\":[[\"$\",\"span\",null,{\"className\":\"MarkdownHeading_markdown-hash__CheR_\",\"children\":[\"##\",\" \"]}],[\"$\",\"span\",null,{\"children\":\"Over the Hill and Under the Hill\"}]]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"So, this is going to be a bit of a shameless plug, though all the praise towards my current employer, \",[\"$\",\"a\",null,{\"href\":\"https://splunk.com/\",\"children\":\"Splunk\"}],\", is purely accidental :)\"]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"My journey here has been nothing short of remarkable, largely thanks to the incredible people I've had the chance to work with. One of them was \",[\"$\",\"a\",null,{\"href\":\"https://github.com/gotwarlost\",\"children\":\"Krishnan Anantheswaran\"}],\", known for his work on \",[\"$\",\"a\",null,{\"href\":\"https://istanbul.js.org\",\"children\":\"Istanbul\"}],\" - a javascript coverage framework I used back in my front-end days. Krishnan interviewed me for the company, and for a few months, I soaked up as much knowledge as I could from him until his departure. Suddenly, I was in at the deep end, tasked with understanding a vast ecosystem. The component I was to take over wasn't particularly challenging, but the surrounding environment was immense. As you can imagine, one of my key challenges was learning how to deploy our software effectively. This post is a reflection on the lessons I learned from this journey.\"]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"When the Kubernetes team was formed at Splunk, I was told that some teams were already using \",[\"$\",\"a\",null,{\"href\":\"https://https://ksonnet.io/\",\"children\":\"ksonnet\"}],\", a tool for managing Kubernetes configurations similar to \",[\"$\",\"a\",null,{\"href\":\"https://helm.sh/\",\"children\":\"Helm\"}],\". However, they quickly found out that ksonnet wasn't the most user-friendly tool and was rather complex. Moreover, it was abandoned by its creators around the same time kubernetes team was coming together. Helm had its issues too, primarily because it uses Golang templates, which, while powerful, were primarily designed for HTML, XML, and text generation. These templates can control whitespaces, but they're tricky to get right. A single mistake in YAML whitespace, and you're in for a world of pain...\"]}],\"\\n\",[\"$\",\"$L1a\",null,{\"src\":\"/images/2024/deploying_go_microservices_in_k8s/world-of-pain.jpg\",\"alt\":\"John Goodman as Walter Sobchak in a frame from Coehn sisters' classic: Big Lebowski, when Walter is about to say: Smokey, my friend, you're entering a world of pain.\",\"caption\":\"Smokey, my friend, you're entering a world of pain.\",\"attribution\":\"\",\"postSlug\":\"/blog/2024/deploying_go_microservices_in_k8s\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"In contrast, ksonnet utilizes \",[\"$\",\"a\",null,{\"href\":\"https://jsonnet.org/\",\"children\":\"Jsonnet\"}],\" for templating, offering more complex and reusable configurations. Jsonnet enables capabilities like imports, functions, and variables, fostering modular and maintainable configurations. \",[\"$\",\"em\",null,{\"children\":\"If only there was a tool that combined all the pros and eliminated the cons...\"}],\" Enter \",[\"$\",\"a\",null,{\"href\":\"https://qbec.io/\",\"children\":\"qbec\"}],\" (pronounced like the Canadian province) written by Krishnan, now a staple tool around here.\"]}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"Later I will share some of the tools and conventions I find beneficial, such as folder structures and Makefiles, but let's set the stage for the application we'll be discussing.\"}],\"\\n\",[\"$\",\"div\",null,{\"className\":\"MarkdownHeading_markdown-heading__G6B4T\",\"children\":[[\"$\",\"span\",null,{\"className\":\"MarkdownHeading_markdown-hash__CheR_\",\"children\":[\"##\",\" \"]}],[\"$\",\"span\",null,{\"children\":\"The Application: Choosing the Right Example\"}]]}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"I was grappling with the choice of a demonstration application. Initially, I considered a classic ToDo application, but it required incorporating storage elements like Redis or a database, which might dilute the focus of this post. Instead, I decided on a slightly contrived, yet very useful example - an RPN (Reverse Polish Notation) calculator.\"}],\"\\n\",[\"$\",\"div\",null,{\"className\":\"MarkdownHeading_markdown-heading__G6B4T\",\"children\":[[\"$\",\"span\",null,{\"className\":\"MarkdownHeading_markdown-hash__CheR_\",\"children\":[\"##\",\" \"]}],[\"$\",\"span\",null,{\"children\":\"Intermission: A Fun Fact About RPN\"}]]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"While there were uses of \",[\"$\",\"a\",null,{\"href\":\"https://en.wikipedia.org/wiki/Reverse_Polish_notation\",\"children\":\"Reverse Polish Notation\"}],\" even in the 40s it was an australian philosopher \",[\"$\",\"a\",null,{\"href\":\"https://en.wikipedia.org/wiki/Charles_Leonard_Hamblin\",\"children\":\"Charles Hamblin\"}],\" who made final version of alogrithm and the notation, that adopted \",[\"$\",\"a\",null,{\"href\":\"https://en.wikipedia.org/wiki/Jan_%C5%81ukasiewicz\",\"children\":\"Jan Łukasiewicz's\"}],\" \",[\"$\",\"a\",null,{\"href\":\"https://en.wikipedia.org/wiki/Polish_notation\",\"children\":\"Polish Notation\"}],\" for computers. It's a suffix notation that aligns well with stack operations.\"]}],\"\\n\",[\"$\",\"$L1b\",null,{\"type\":\"idea\",\"title\":\"Fun fact\",\"children\":[\"$\",\"p\",null,{\"children\":\"Hamblin initially suggested naming it “Azciweisakul notation” as a spelled backwards tribute to Jan Łukasiewicz's last name. Glad it didn't stick.\"}]}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"The RPN sequence is straightforward: first, the operands are entered, followed by the operation.\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"For example, the RPN for \",null,\" would be: \",null,\".\"]}],\"\\n\",[\"$\",\"div\",null,{\"className\":\"MarkdownHeading_markdown-heading__G6B4T\",\"children\":[[\"$\",\"span\",null,{\"className\":\"MarkdownHeading_markdown-hash__CheR_\",\"children\":[\"##\",\" \"]}],[\"$\",\"span\",null,{\"children\":\"Application Folder Structure\"}]]}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"This brings us to our first convention. Although our example involves just one microservice, our setup is designed to accommodate multiple services per functional area.\"}],\"\\n\",[\"\",\"$L1c\"],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"Each service is placed in a separate folder under \",null,\" This folder may also include supporting microservices and tools, such as those for synthetic transactions or automated service operations. Sometimes, as tools grow or their use extends beyond the team, it becomes practical to move them to a separate repository.\"]}],\"\\n\",[\"$\",\"div\",null,{\"className\":\"MarkdownHeading_markdown-heading__G6B4T\",\"children\":[[\"$\",\"span\",null,{\"className\":\"MarkdownHeading_markdown-hash__CheR_\",\"children\":[\"##\",\" \"]}],[\"$\",\"span\",null,{\"children\":\"Embracing Makefiles\"}]]}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"We extensively use Makefiles here as well. Coming from a Makefile-heavy background in early C/C++ development on DOS and Unix platforms, I thought I was well-prepared. However, during my initial days, I found myself looking up numerous commands, which was a humbling experience. Initially, I wondered if they should be replaced with simpler tools like Ansible or custom Python scripts. But over time, I grew to appreciate their power and versatility, and now I use them in almost all of my projects.\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"There are at least two Makefile tricks worth mentioning. Here's the first one:\"}],\"\\n\",[\"\",\"$L1d\"],\"\\n\",[\"$\",\"p\",null,{\"children\":\"This self-documenting feature is quite handy. For every target, we add a quick comment, and then we can grep the Makefile itself:\"}],\"\\n\",[\"\",\"$L1e\"],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"The \",null,\" includes all files read by GNU Make, not just the Makefile in the current folder.\"]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"The second one allows us to generate multiple targets with a template. Let's say we have 10 services in our folder, and wa want to create a \",null,\" target but for each of them. Instead defining them by hand, we can do:\"]}],\"\\n\",[\"\",\"$L1f\"],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"and make will generate 3 targets called \",null,\", \",null,\" and \",null,\" for us. In the makefile above \",null,\" expands to the original image name i.e. \",null,\", and \",null,\" to the dependent file i.e. \",null,\".\"]}],\"\\n\",[\"$\",\"div\",null,{\"className\":\"MarkdownHeading_markdown-heading__G6B4T\",\"children\":[[\"$\",\"span\",null,{\"className\":\"MarkdownHeading_markdown-hash__CheR_\",\"children\":[\"##\",\" \"]}],[\"$\",\"span\",null,{\"children\":\"Microservice Framework Selection\"}]]}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"There are several excellent frameworks for routing HTTP traffic, such as Mux (gorilla/mux) and Gin (gin-gonic/gin). I chose to use Chi because it is 100% compatible with net/http and is built around the context package introduced in Go 1.7, which I frequently use. It's a simple service that accepts a POST on / with application/json encoded content. This example, while a bit contrived, demonstrates how to decode JSON in a handler, which might be useful for those looking to build upon this foundation. With that said, I believe we're ready to start the deployment process.\"}],\"\\n\",[\"$\",\"div\",null,{\"className\":\"MarkdownHeading_markdown-heading__G6B4T\",\"children\":[[\"$\",\"span\",null,{\"className\":\"MarkdownHeading_markdown-hash__CheR_\",\"children\":[\"##\",\" \"]}],[\"$\",\"span\",null,{\"children\":\"The Environment\"}]]}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"Before diving in, let me give you a quick overview of our setup. I'll be using minikube with a Docker container inside Minikube’s VM. For the container runtime, I'll use Docker, and Qemu as the VM driver, coupled with a socket_vmnet network, enabling full networking capabilities for minikube under Qemu. I won't delve into the details here, but you can find ample resources online, or feel free to reach out to me on the fediverse.\"}],\"\\n\",[\"\",\"$L20\"],\"\\n\",[\"$\",\"div\",null,{\"className\":\"MarkdownHeading_markdown-heading__G6B4T\",\"children\":[[\"$\",\"span\",null,{\"className\":\"MarkdownHeading_markdown-hash__CheR_\",\"children\":[\"##\",\" \"]}],[\"$\",\"span\",null,{\"children\":\"Building docker image\"}]]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"A while back \",null,\" command got deprecated, and now we need to use \",null,\". It works pretty much the same, and we will levarage stage builds to get rid off all the build and distro clutter. We will leave only our application and its runtime dependencies by using \",[\"$\",\"a\",null,{\"href\":\"https://github.com/GoogleContainerTools/distroless\",\"children\":\"distroless Debian 11\"}],\" container as a base for our final image.\"]}],\"\\n\",[\"\",\"$L21\"],\"\\n\",[\"$\",\"p\",null,{\"children\":\"or from within our example application with just:\"}],\"\\n\",[\"\",\"$L22\"],\"\\n\",[\"$\",\"div\",null,{\"className\":\"MarkdownHeading_markdown-heading__G6B4T\",\"children\":[[\"$\",\"span\",null,{\"className\":\"MarkdownHeading_markdown-hash__CheR_\",\"children\":[\"##\",\" \"]}],[\"$\",\"span\",null,{\"children\":\"Deploying with Quebec\"}]]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"With the environment set, and docker image built, let's focus on deployment. One practice I favor is creating a \",null,\" subfolder for all non-local tasks, including advanced testing and Docker image building. This folder typically contains a Makefile for these tasks, which I include in the main Makefile, as well as folders for Docker images and qbec configurations.\"]}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"So, what is qbec all about? It's a tool that simplifies the creation and management of Kubernetes objects across multiple clusters and/or namespaces. Let's install it and explore its capabilities.\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"Installation commands:\"}],\"\\n\",[\"\",\"$L23\"],\"\\n\",[\"$\",\"p\",null,{\"children\":\"One of the biggest challenges for my team, given the scale of our operations, is managing about 20+ different Kubernetes clusters. We have three types of environments: dev, stage, and live, each with varying levels of traffic and activity. Internally, we also aim to optimize resource utilization – we don't want to set resources too low to avoid frequent scaling, but also not too high to avoid wastage.\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"The question then is: How do we avoid configuration duplication while maintaining a high degree of flexibility? Let's see how qbec can help us in this endeavor.\"}],\"\\n\",[\"$\",\"div\",null,{\"className\":\"MarkdownHeading_markdown-heading__G6B4T\",\"children\":[[\"$\",\"span\",null,{\"className\":\"MarkdownHeading_markdown-hash__CheR_\",\"children\":[\"##\",\" \"]}],[\"$\",\"span\",null,{\"children\":\"20+ Clusters\"}]]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"First of all, we define all our environments in \",null,\".\"]}],\"\\n\",[\"\",\"$L24\"],\"\\n\",[\"$\",\"p\",null,{\"children\":\"now we can quickly apply changes to each environment with:\"}],\"\\n\",[\"\",\"$L25\"],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"There are many ways to customize settings for each cluster. The one qbec suggests out-of-the-box is to have an \",null,\" folder with number of files. First we have \",null,\" for \",[\"$\",\"em\",null,{\"children\":\"base\"}],\" environment, or \",null,\" for short. Other files would be named same as keys of entries in \",null,\", so in our case \",null,\", \",null,\", etc.\"]}],\"\\n\",[\"\",\"$L26\"],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"Our microservice's kubernetes objects are defined in \",null,\", but we'll get back to this. First, for base environment let's define all the default parameters that we will later use while constructing our kubernetes resources. Something along the lines of:\"]}],\"\\n\",[\"\",\"$L27\"],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"then per environment we can use jsonnet's object mergin notation \",null,\", which do the nested update of one object with another. Let's say for \",null,\" environment we just want to have one replica of our service, because why would we need more?\"]}],\"\\n\",[\"\",\"$L28\"],\"\\n\",[\"$\",\"p\",null,{\"children\":\"you can now compare the result looking at generated spec for both environments:\"}],\"\\n\",[\"\",\"$L29\"],\"\\n\",[\"$\",\"div\",null,{\"className\":\"MarkdownHeading_markdown-heading__G6B4T\",\"children\":[[\"$\",\"span\",null,{\"className\":\"MarkdownHeading_markdown-hash__CheR_\",\"children\":[\"##\",\" \"]}],[\"$\",\"span\",null,{\"children\":\"Adjusting Properties Per Tier\"}]]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"There's many default settings in \",null,\", but we can also add our own \",null,\" too. Here, for each environment we are going to add indication if it is a \",[\"$\",\"em\",null,{\"children\":\"local\"}],\", \",[\"$\",\"em\",null,{\"children\":\"development\"}],\", \",[\"$\",\"em\",null,{\"children\":\"staging\"}],\" or \",[\"$\",\"em\",null,{\"children\":\"production\"}],\" environment:\"]}],\"\\n\",[\"\",\"$L2a\"],\"\\n\",[\"$\",\"p\",null,{\"children\":\"With that in place, let's see our object definition:\"}],\"\\n\",[\"\",\"$L2b\"],\"\\n\",[\"$\",\"p\",null,{\"children\":\"In the code snippet above, the params object is derived from settings we have statically configured for our environments. During each evaluation, params reflects the values computed specifically for the evaluated environment. It's important to note that Jsonnet files always return an object. In our example, we're returning the Deployment resource definition directly.\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"The highlighted lines play a crucial role in the dynamic calculation of properties. Essentially, we're crafting a function that takes the environment type from qbec.yaml. Based on the environment type, this function generates an object with properties tailored to that specific environment. A few lines down, we will manually merge our base properties from props with this dynamically generated object. This process effectively replaces the original values with the new, environment-specific ones.\"}],\"\\n\",[\"$\",\"div\",null,{\"className\":\"MarkdownHeading_markdown-heading__G6B4T\",\"children\":[[\"$\",\"span\",null,{\"className\":\"MarkdownHeading_markdown-hash__CheR_\",\"children\":[\"##\",\" \"]}],[\"$\",\"span\",null,{\"children\":\"Postprocessor\"}]]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"In cloud environments, an essential aspect of management is cost tracking, which often involves adding specific labels to each application for team-based cost analysis. To streamline this process and avoid the repetitive task of manually labeling each object, we can implement a post-processor. Once configured in \",null,\", this post-processor automatically appends the necessary per-team labels to every object we create. By doing so, we not only ensure consistent labeling across our application resources' but also significantly simplify the management and tracking of cloud costs.\"]}],\"\\n\",[\"\",\"$L2c\"],\"\\n\",[\"$\",\"div\",null,{\"className\":\"MarkdownHeading_markdown-heading__G6B4T\",\"children\":[[\"$\",\"span\",null,{\"className\":\"MarkdownHeading_markdown-hash__CheR_\",\"children\":[\"##\",\" \"]}],[\"$\",\"span\",null,{\"children\":\"Adjusting Resources Per Tier\"}]]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"A common challenge we encounter involves tailoring the resources we deploy to suit the specific needs of different environments. For instance, in our development environment, there might be no need for HorizontalPodAutoscaler or PodDisruptionBudget. Similarly, we might want to completely disable our service in \",null,\" if it’s not required there. To address these variations, we can modify our component file slightly. Instead of directly returning a JSON object, we will define each resource individually and then combine them at the end. This approach allows us to have finer control over what gets deployed in each environment, ensuring that resources are allocated efficiently and appropriately.\"]}],\"\\n\",[\"\",\"$L2d\"],\"\\n\",[\"$\",\"div\",null,{\"className\":\"MarkdownHeading_markdown-heading__G6B4T\",\"children\":[[\"$\",\"span\",null,{\"className\":\"MarkdownHeading_markdown-hash__CheR_\",\"children\":[\"##\",\" \"]}],[\"$\",\"span\",null,{\"children\":\"Final words\"}]]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"There's certainly much more to explore beyond what we've covered here, but this should provide you with a solid foundation to get started. This article stems from a talk I delivered at the 11th \",[\"$\",\"a\",null,{\"href\":\"https://www.meetup.com/pl-PL/gocracow/\",\"children\":\"Go Cracow\"}],\" meetup. For those interested in diving deeper, all the code discussed can be found on \",[\"$\",\"a\",null,{\"href\":\"https://codeberg.org/unjello/meetup-gocracow11-example\",\"children\":\"Codeberg\"}],\". I encourage you to experiment and have fun with it! And if you wanna reach out, feel free to poke me on \",[\"$\",\"a\",null,{\"href\":\"https://mastodon.gamedev.place/@unjello/111817279744934079\",\"children\":\"Fediverse\"}],\".\"]}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"Happy coding!\"}]]\n"])</script><script>self.__next_f.push([1,"2e:T1110,"])</script><script>self.__next_f.push([1,"\u003ctable class=\"code-ln-table\"\u003e\u003ctbody\u003e\u003ctr class=\"code-ln-line\"\u003e\n        \u003ctd class=\"code-ln-numbers\" data-line-number=\"1\"\u003e\u003cdiv class=\"code-ln-n\" data-line-number=\"1\"\u003e\u003c/div\u003e\u003c/td\u003e\n        \u003ctd class=\"code-ln-code\" data-line-number=\"1\"\u003e\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#24292E;--shiki-dark:#E1E4E8\"\u003e❯ ls -R1\u003c/span\u003e\u003c/span\u003e\u003c/td\u003e\n      \u003c/tr\u003e\u003ctr class=\"code-ln-line\"\u003e\n        \u003ctd class=\"code-ln-numbers\" data-line-number=\"2\"\u003e\u003cdiv class=\"code-ln-n\" data-line-number=\"2\"\u003e\u003c/div\u003e\u003c/td\u003e\n        \u003ctd class=\"code-ln-code\" data-line-number=\"2\"\u003e\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#005CC5;--shiki-dark:#79B8FF\"\u003eMakefile\u003c/span\u003e\u003c/span\u003e\u003c/td\u003e\n      \u003c/tr\u003e\u003ctr class=\"code-ln-line\"\u003e\n        \u003ctd class=\"code-ln-numbers\" data-line-number=\"3\"\u003e\u003cdiv class=\"code-ln-n\" data-line-number=\"3\"\u003e\u003c/div\u003e\u003c/td\u003e\n        \u003ctd class=\"code-ln-code\" data-line-number=\"3\"\u003e\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#005CC5;--shiki-dark:#79B8FF\"\u003eREADME.md\u003c/span\u003e\u003c/span\u003e\u003c/td\u003e\n      \u003c/tr\u003e\u003ctr class=\"code-ln-line\"\u003e\n        \u003ctd class=\"code-ln-numbers\" data-line-number=\"4\"\u003e\u003cdiv class=\"code-ln-n\" data-line-number=\"4\"\u003e\u003c/div\u003e\u003c/td\u003e\n        \u003ctd class=\"code-ln-code\" data-line-number=\"4\"\u003e\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#005CC5;--shiki-dark:#79B8FF\"\u003ego.mod\u003c/span\u003e\u003c/span\u003e\u003c/td\u003e\n      \u003c/tr\u003e\u003ctr class=\"code-ln-line\"\u003e\n        \u003ctd class=\"code-ln-numbers\" data-line-number=\"5\"\u003e\u003cdiv class=\"code-ln-n\" data-line-number=\"5\"\u003e\u003c/div\u003e\u003c/td\u003e\n        \u003ctd class=\"code-ln-code\" data-line-number=\"5\"\u003e\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#005CC5;--shiki-dark:#79B8FF\"\u003ego.sum\u003c/span\u003e\u003c/span\u003e\u003c/td\u003e\n      \u003c/tr\u003e\u003ctr class=\"code-ln-line\"\u003e\n        \u003ctd class=\"code-ln-numbers\" data-line-number=\"6\"\u003e\u003cdiv class=\"code-ln-n\" data-line-number=\"6\"\u003e\u003c/div\u003e\u003c/td\u003e\n        \u003ctd class=\"code-ln-code\" data-line-number=\"6\"\u003e\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#005CC5;--shiki-dark:#79B8FF\"\u003esrc\u003c/span\u003e\u003cspan style=\"color:#24292E;--shiki-dark:#E1E4E8\"\u003e/\u003c/span\u003e\u003c/span\u003e\u003c/td\u003e\n      \u003c/tr\u003e\u003ctr class=\"code-ln-line\"\u003e\n        \u003ctd class=\"code-ln-numbers\" data-line-number=\"7\"\u003e\u003cdiv class=\"code-ln-n\" data-line-number=\"7\"\u003e\u003c/div\u003e\u003c/td\u003e\n        \u003ctd class=\"code-ln-code\" data-line-number=\"7\"\u003e\u003cspan class=\"line\"\u003e\u003c/span\u003e\u003c/td\u003e\n      \u003c/tr\u003e\u003ctr class=\"code-ln-line\"\u003e\n        \u003ctd class=\"code-ln-numbers\" data-line-number=\"8\"\u003e\u003cdiv class=\"code-ln-n\" data-line-number=\"8\"\u003e\u003c/div\u003e\u003c/td\u003e\n        \u003ctd class=\"code-ln-code\" data-line-number=\"8\"\u003e\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#005CC5;--shiki-dark:#79B8FF\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#24292E;--shiki-dark:#E1E4E8\"\u003e/src:\u003c/span\u003e\u003c/span\u003e\u003c/td\u003e\n      \u003c/tr\u003e\u003ctr class=\"code-ln-line\"\u003e\n        \u003ctd class=\"code-ln-numbers\" data-line-number=\"9\"\u003e\u003cdiv class=\"code-ln-n\" data-line-number=\"9\"\u003e\u003c/div\u003e\u003c/td\u003e\n        \u003ctd class=\"code-ln-code\" data-line-number=\"9\"\u003e\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#005CC5;--shiki-dark:#79B8FF\"\u003ecalculator\u003c/span\u003e\u003cspan style=\"color:#24292E;--shiki-dark:#E1E4E8\"\u003e/\u003c/span\u003e\u003c/span\u003e\u003c/td\u003e\n      \u003c/tr\u003e\u003ctr class=\"code-ln-line\"\u003e\n        \u003ctd class=\"code-ln-numbers\" data-line-number=\"10\"\u003e\u003cdiv class=\"code-ln-n\" data-line-number=\"10\"\u003e\u003c/div\u003e\u003c/td\u003e\n        \u003ctd class=\"code-ln-code\" data-line-number=\"10\"\u003e\u003cspan class=\"line\"\u003e\u003c/span\u003e\u003c/td\u003e\n      \u003c/tr\u003e\u003ctr class=\"code-ln-line\"\u003e\n        \u003ctd class=\"code-ln-numbers\" data-line-number=\"11\"\u003e\u003cdiv class=\"code-ln-n\" data-line-number=\"11\"\u003e\u003c/div\u003e\u003c/td\u003e\n        \u003ctd class=\"code-ln-code\" data-line-number=\"11\"\u003e\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#005CC5;--shiki-dark:#79B8FF\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#24292E;--shiki-dark:#E1E4E8\"\u003e/src/calculator:\u003c/span\u003e\u003c/span\u003e\u003c/td\u003e\n      \u003c/tr\u003e\u003ctr class=\"code-ln-line\"\u003e\n        \u003ctd class=\"code-ln-numbers\" data-line-number=\"12\"\u003e\u003cdiv class=\"code-ln-n\" data-line-number=\"12\"\u003e\u003c/div\u003e\u003c/td\u003e\n        \u003ctd class=\"code-ln-code\" data-line-number=\"12\"\u003e\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#005CC5;--shiki-dark:#79B8FF\"\u003emain.go\u003c/span\u003e\u003c/span\u003e\u003c/td\u003e\n      \u003c/tr\u003e\u003ctr class=\"code-ln-line\"\u003e\n        \u003ctd class=\"code-ln-numbers\" data-line-number=\"13\"\u003e\u003cdiv class=\"code-ln-n\" data-line-number=\"13\"\u003e\u003c/div\u003e\u003c/td\u003e\n        \u003ctd class=\"code-ln-code\" data-line-number=\"13\"\u003e\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#005CC5;--shiki-dark:#79B8FF\"\u003erpn.go\u003c/span\u003e\u003c/span\u003e\u003c/td\u003e\n      \u003c/tr\u003e\u003ctr class=\"code-ln-line\"\u003e\n        \u003ctd class=\"code-ln-numbers\" data-line-number=\"14\"\u003e\u003cdiv class=\"code-ln-n\" data-line-number=\"14\"\u003e\u003c/div\u003e\u003c/td\u003e\n        \u003ctd class=\"code-ln-code\" data-line-number=\"14\"\u003e\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#005CC5;--shiki-dark:#79B8FF\"\u003erpn_test.go\u003c/span\u003e\u003c/span\u003e\u003c/td\u003e\n      \u003c/tr\u003e\u003c/tbody\u003e\u003c/table\u003e"])</script><script>self.__next_f.push([1,"1c:[\"$\",\"pre\",null,{\"className\":\"language-fish pre-code-block shiki github-light github-dark\",\"children\":[\"$\",\"code\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"$2e\"}}]}]\n2f:Tb04,"])</script><script>self.__next_f.push([1,"\u003ctable class=\"code-ln-table\"\u003e\u003ctbody\u003e\u003ctr class=\"code-ln-line\"\u003e\n        \u003ctd class=\"code-ln-numbers\" data-line-number=\"1\"\u003e\u003cdiv class=\"code-ln-n\" data-line-number=\"1\"\u003e\u003c/div\u003e\u003c/td\u003e\n        \u003ctd class=\"code-ln-code\" data-line-number=\"1\"\u003e\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#24292E;--shiki-dark:#E1E4E8\"\u003e❯ make help\u003c/span\u003e\u003c/span\u003e\u003c/td\u003e\n      \u003c/tr\u003e\u003ctr class=\"code-ln-line\"\u003e\n        \u003ctd class=\"code-ln-numbers\" data-line-number=\"2\"\u003e\u003cdiv class=\"code-ln-n\" data-line-number=\"2\"\u003e\u003c/div\u003e\u003c/td\u003e\n        \u003ctd class=\"code-ln-code\" data-line-number=\"2\"\u003e\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#005CC5;--shiki-dark:#79B8FF\"\u003ehelp\u003c/span\u003e\u003cspan style=\"color:#24292E;--shiki-dark:#E1E4E8\"\u003e         Show this help, automatically generated from comments \u003c/span\u003e\u003cspan style=\"color:#D73A49;--shiki-dark:#F97583\"\u003ein\u003c/span\u003e\u003cspan style=\"color:#24292E;--shiki-dark:#E1E4E8\"\u003e the Makefile\u003c/span\u003e\u003c/span\u003e\u003c/td\u003e\n      \u003c/tr\u003e\u003ctr class=\"code-ln-line\"\u003e\n        \u003ctd class=\"code-ln-numbers\" data-line-number=\"3\"\u003e\u003cdiv class=\"code-ln-n\" data-line-number=\"3\"\u003e\u003c/div\u003e\u003c/td\u003e\n        \u003ctd class=\"code-ln-code\" data-line-number=\"3\"\u003e\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#005CC5;--shiki-dark:#79B8FF\"\u003eget\u003c/span\u003e\u003cspan style=\"color:#24292E;--shiki-dark:#E1E4E8\"\u003e          Download packages \u003c/span\u003e\u003cspan style=\"color:#D73A49;--shiki-dark:#F97583\"\u003eand\u003c/span\u003e\u003cspan style=\"color:#24292E;--shiki-dark:#E1E4E8\"\u003e their dependencies from import paths\u003c/span\u003e\u003c/span\u003e\u003c/td\u003e\n      \u003c/tr\u003e\u003ctr class=\"code-ln-line\"\u003e\n        \u003ctd class=\"code-ln-numbers\" data-line-number=\"4\"\u003e\u003cdiv class=\"code-ln-n\" data-line-number=\"4\"\u003e\u003c/div\u003e\u003c/td\u003e\n        \u003ctd class=\"code-ln-code\" data-line-number=\"4\"\u003e\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#005CC5;--shiki-dark:#79B8FF\"\u003erun\u003c/span\u003e\u003cspan style=\"color:#24292E;--shiki-dark:#E1E4E8\"\u003e          Runs the service\u003c/span\u003e\u003c/span\u003e\u003c/td\u003e\n      \u003c/tr\u003e\u003ctr class=\"code-ln-line\"\u003e\n        \u003ctd class=\"code-ln-numbers\" data-line-number=\"5\"\u003e\u003cdiv class=\"code-ln-n\" data-line-number=\"5\"\u003e\u003c/div\u003e\u003c/td\u003e\n        \u003ctd class=\"code-ln-code\" data-line-number=\"5\"\u003e\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#005CC5;--shiki-dark:#79B8FF\"\u003etest\u003c/span\u003e\u003cspan style=\"color:#24292E;--shiki-dark:#E1E4E8\"\u003e         Runs unit-tests\u003c/span\u003e\u003c/span\u003e\u003c/td\u003e\n      \u003c/tr\u003e\u003ctr class=\"code-ln-line\"\u003e\n        \u003ctd class=\"code-ln-numbers\" data-line-number=\"6\"\u003e\u003cdiv class=\"code-ln-n\" data-line-number=\"6\"\u003e\u003c/div\u003e\u003c/td\u003e\n        \u003ctd class=\"code-ln-code\" data-line-number=\"6\"\u003e\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#005CC5;--shiki-dark:#79B8FF\"\u003efmt\u003c/span\u003e\u003cspan style=\"color:#24292E;--shiki-dark:#E1E4E8\"\u003e          Format \u003c/span\u003e\u003cspan style=\"color:#D73A49;--shiki-dark:#F97583\"\u003esource\u003c/span\u003e\u003cspan style=\"color:#24292E;--shiki-dark:#E1E4E8\"\u003e file \u003c/span\u003e\u003cspan style=\"color:#D73A49;--shiki-dark:#F97583\"\u003eand\u003c/span\u003e\u003cspan style=\"color:#24292E;--shiki-dark:#E1E4E8\"\u003e basic housekeeping on imports\u003c/span\u003e\u003c/span\u003e\u003c/td\u003e\n      \u003c/tr\u003e\u003c/tbody\u003e\u003c/table\u003e"])</script><script>self.__next_f.push([1,"1d:[\"$\",\"pre\",null,{\"className\":\"language-fish pre-code-block shiki github-light github-dark\",\"children\":[\"$\",\"code\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"$2f\"}}]}]\n30:T1d36,"])</script><script>self.__next_f.push([1,"\u003ctable class=\"code-ln-table\"\u003e\u003ctbody\u003e\u003ctr class=\"code-ln-line\"\u003e\n        \u003ctd class=\"code-ln-numbers\" data-line-number=\"1\"\u003e\u003cdiv class=\"code-ln-n\" data-line-number=\"1\"\u003e\u003c/div\u003e\u003c/td\u003e\n        \u003ctd class=\"code-ln-code\" data-line-number=\"1\"\u003e\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#005CC5;--shiki-dark:#79B8FF\"\u003e.PHONY\u003c/span\u003e\u003cspan style=\"color:#24292E;--shiki-dark:#E1E4E8\"\u003e: help\u003c/span\u003e\u003c/span\u003e\u003c/td\u003e\n      \u003c/tr\u003e\u003ctr class=\"code-ln-line\"\u003e\n        \u003ctd class=\"code-ln-numbers\" data-line-number=\"2\"\u003e\u003cdiv class=\"code-ln-n\" data-line-number=\"2\"\u003e\u003c/div\u003e\u003c/td\u003e\n        \u003ctd class=\"code-ln-code\" data-line-number=\"2\"\u003e\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#6F42C1;--shiki-dark:#B392F0\"\u003ehelp\u003c/span\u003e\u003cspan style=\"color:#24292E;--shiki-dark:#E1E4E8\"\u003e:   \u003c/span\u003e\u003cspan style=\"color:#6A737D;--shiki-dark:#6A737D\"\u003e## Show this help, automatically generated from comments in the Makefile\u003c/span\u003e\u003c/span\u003e\u003c/td\u003e\n      \u003c/tr\u003e\u003ctr class=\"code-ln-line\"\u003e\n        \u003ctd class=\"code-ln-numbers\" data-line-number=\"3\"\u003e\u003cdiv class=\"code-ln-n\" data-line-number=\"3\"\u003e\u003c/div\u003e\u003c/td\u003e\n        \u003ctd class=\"code-ln-code\" data-line-number=\"3\"\u003e\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#6F42C1;--shiki-dark:#B392F0\"\u003e        @fgrep\u003c/span\u003e\u003cspan style=\"color:#6F42C1;--shiki-dark:#B392F0\"\u003e -h\u003c/span\u003e\u003cspan style=\"color:#6F42C1;--shiki-dark:#B392F0\"\u003e \"##\"\u003c/span\u003e\u003cspan style=\"color:#032F62;--shiki-dark:#9ECBFF\"\u003e $(\u003c/span\u003e\u003cspan style=\"color:#24292E;--shiki-dark:#E1E4E8\"\u003eMAKEFILE_LIST\u003c/span\u003e\u003cspan style=\"color:#032F62;--shiki-dark:#9ECBFF\"\u003e)\u003c/span\u003e\u003cspan style=\"color:#6F42C1;--shiki-dark:#B392F0\"\u003e |\u003c/span\u003e\u003cspan style=\"color:#6F42C1;--shiki-dark:#B392F0\"\u003e fgrep\u003c/span\u003e\u003cspan style=\"color:#6F42C1;--shiki-dark:#B392F0\"\u003e -v\u003c/span\u003e\u003cspan style=\"color:#6F42C1;--shiki-dark:#B392F0\"\u003e fgrep\u003c/span\u003e\u003cspan style=\"color:#6F42C1;--shiki-dark:#B392F0\"\u003e |\u003c/span\u003e\u003cspan style=\"color:#6F42C1;--shiki-dark:#B392F0\"\u003e sed\u003c/span\u003e\u003cspan style=\"color:#6F42C1;--shiki-dark:#B392F0\"\u003e -e\u003c/span\u003e\u003cspan style=\"color:#6F42C1;--shiki-dark:#B392F0\"\u003e 's/\\\\\u003c/span\u003e\u003cspan style=\"color:#005CC5;--shiki-dark:#79B8FF\"\u003e$$\u003c/span\u003e\u003cspan style=\"color:#6F42C1;--shiki-dark:#B392F0\"\u003e//'\u003c/span\u003e\u003cspan style=\"color:#6F42C1;--shiki-dark:#B392F0\"\u003e |\u003c/span\u003e\u003cspan style=\"color:#6F42C1;--shiki-dark:#B392F0\"\u003e sed\u003c/span\u003e\u003cspan style=\"color:#6F42C1;--shiki-dark:#B392F0\"\u003e -e\u003c/span\u003e\u003cspan style=\"color:#6F42C1;--shiki-dark:#B392F0\"\u003e 's/\u003c/span\u003e\u003cspan style=\"color:#24292E;--shiki-dark:#E1E4E8\"\u003e:.\u003c/span\u003e\u003cspan style=\"color:#005CC5;--shiki-dark:#79B8FF\"\u003e*\u003c/span\u003e\u003cspan style=\"color:#6A737D;--shiki-dark:#6A737D\"\u003e##/        /'\u003c/span\u003e\u003c/span\u003e\u003c/td\u003e\n      \u003c/tr\u003e\u003ctr class=\"code-ln-line\"\u003e\n        \u003ctd class=\"code-ln-numbers\" data-line-number=\"4\"\u003e\u003cdiv class=\"code-ln-n\" data-line-number=\"4\"\u003e\u003c/div\u003e\u003c/td\u003e\n        \u003ctd class=\"code-ln-code\" data-line-number=\"4\"\u003e\u003cspan class=\"line\"\u003e\u003c/span\u003e\u003c/td\u003e\n      \u003c/tr\u003e\u003ctr class=\"code-ln-line\"\u003e\n        \u003ctd class=\"code-ln-numbers\" data-line-number=\"5\"\u003e\u003cdiv class=\"code-ln-n\" data-line-number=\"5\"\u003e\u003c/div\u003e\u003c/td\u003e\n        \u003ctd class=\"code-ln-code\" data-line-number=\"5\"\u003e\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#005CC5;--shiki-dark:#79B8FF\"\u003e.PHONY\u003c/span\u003e\u003cspan style=\"color:#24292E;--shiki-dark:#E1E4E8\"\u003e: get\u003c/span\u003e\u003c/span\u003e\u003c/td\u003e\n      \u003c/tr\u003e\u003ctr class=\"code-ln-line\"\u003e\n        \u003ctd class=\"code-ln-numbers\" data-line-number=\"6\"\u003e\u003cdiv class=\"code-ln-n\" data-line-number=\"6\"\u003e\u003c/div\u003e\u003c/td\u003e\n        \u003ctd class=\"code-ln-code\" data-line-number=\"6\"\u003e\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#6F42C1;--shiki-dark:#B392F0\"\u003eget\u003c/span\u003e\u003cspan style=\"color:#24292E;--shiki-dark:#E1E4E8\"\u003e:    \u003c/span\u003e\u003cspan style=\"color:#6A737D;--shiki-dark:#6A737D\"\u003e## Download packages and their dependencies from import paths\u003c/span\u003e\u003c/span\u003e\u003c/td\u003e\n      \u003c/tr\u003e\u003ctr class=\"code-ln-line\"\u003e\n        \u003ctd class=\"code-ln-numbers\" data-line-number=\"7\"\u003e\u003cdiv class=\"code-ln-n\" data-line-number=\"7\"\u003e\u003c/div\u003e\u003c/td\u003e\n        \u003ctd class=\"code-ln-code\" data-line-number=\"7\"\u003e\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#24292E;--shiki-dark:#E1E4E8\"\u003e        @echo \"+ \u003c/span\u003e\u003cspan style=\"color:#005CC5;--shiki-dark:#79B8FF\"\u003e$@\u003c/span\u003e\u003cspan style=\"color:#24292E;--shiki-dark:#E1E4E8\"\u003e\"\u003c/span\u003e\u003c/span\u003e\u003c/td\u003e\n      \u003c/tr\u003e\u003ctr class=\"code-ln-line\"\u003e\n        \u003ctd class=\"code-ln-numbers\" data-line-number=\"8\"\u003e\u003cdiv class=\"code-ln-n\" data-line-number=\"8\"\u003e\u003c/div\u003e\u003c/td\u003e\n        \u003ctd class=\"code-ln-code\" data-line-number=\"8\"\u003e\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#24292E;--shiki-dark:#E1E4E8\"\u003e        @go get ./...\u003c/span\u003e\u003c/span\u003e\u003c/td\u003e\n      \u003c/tr\u003e\u003ctr class=\"code-ln-line\"\u003e\n        \u003ctd class=\"code-ln-numbers\" data-line-number=\"9\"\u003e\u003cdiv class=\"code-ln-n\" data-line-number=\"9\"\u003e\u003c/div\u003e\u003c/td\u003e\n        \u003ctd class=\"code-ln-code\" data-line-number=\"9\"\u003e\u003cspan class=\"line\"\u003e\u003c/span\u003e\u003c/td\u003e\n      \u003c/tr\u003e\u003ctr class=\"code-ln-line\"\u003e\n        \u003ctd class=\"code-ln-numbers\" data-line-number=\"10\"\u003e\u003cdiv class=\"code-ln-n\" data-line-number=\"10\"\u003e\u003c/div\u003e\u003c/td\u003e\n        \u003ctd class=\"code-ln-code\" data-line-number=\"10\"\u003e\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#005CC5;--shiki-dark:#79B8FF\"\u003e.PHONY\u003c/span\u003e\u003cspan style=\"color:#24292E;--shiki-dark:#E1E4E8\"\u003e: run\u003c/span\u003e\u003c/span\u003e\u003c/td\u003e\n      \u003c/tr\u003e\u003ctr class=\"code-ln-line\"\u003e\n        \u003ctd class=\"code-ln-numbers\" data-line-number=\"11\"\u003e\u003cdiv class=\"code-ln-n\" data-line-number=\"11\"\u003e\u003c/div\u003e\u003c/td\u003e\n        \u003ctd class=\"code-ln-code\" data-line-number=\"11\"\u003e\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#6F42C1;--shiki-dark:#B392F0\"\u003erun\u003c/span\u003e\u003cspan style=\"color:#24292E;--shiki-dark:#E1E4E8\"\u003e:    \u003c/span\u003e\u003cspan style=\"color:#6A737D;--shiki-dark:#6A737D\"\u003e## Runs the service\u003c/span\u003e\u003c/span\u003e\u003c/td\u003e\n      \u003c/tr\u003e\u003ctr class=\"code-ln-line\"\u003e\n        \u003ctd class=\"code-ln-numbers\" data-line-number=\"12\"\u003e\u003cdiv class=\"code-ln-n\" data-line-number=\"12\"\u003e\u003c/div\u003e\u003c/td\u003e\n        \u003ctd class=\"code-ln-code\" data-line-number=\"12\"\u003e\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#24292E;--shiki-dark:#E1E4E8\"\u003e        @echo \"+ \u003c/span\u003e\u003cspan style=\"color:#005CC5;--shiki-dark:#79B8FF\"\u003e$@\u003c/span\u003e\u003cspan style=\"color:#24292E;--shiki-dark:#E1E4E8\"\u003e\"\u003c/span\u003e\u003c/span\u003e\u003c/td\u003e\n      \u003c/tr\u003e\u003ctr class=\"code-ln-line\"\u003e\n        \u003ctd class=\"code-ln-numbers\" data-line-number=\"13\"\u003e\u003cdiv class=\"code-ln-n\" data-line-number=\"13\"\u003e\u003c/div\u003e\u003c/td\u003e\n        \u003ctd class=\"code-ln-code\" data-line-number=\"13\"\u003e\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#24292E;--shiki-dark:#E1E4E8\"\u003e        go run ./src/calculator\u003c/span\u003e\u003c/span\u003e\u003c/td\u003e\n      \u003c/tr\u003e\u003ctr class=\"code-ln-line\"\u003e\n        \u003ctd class=\"code-ln-numbers\" data-line-number=\"14\"\u003e\u003cdiv class=\"code-ln-n\" data-line-number=\"14\"\u003e\u003c/div\u003e\u003c/td\u003e\n        \u003ctd class=\"code-ln-code\" data-line-number=\"14\"\u003e\u003cspan class=\"line\"\u003e\u003c/span\u003e\u003c/td\u003e\n      \u003c/tr\u003e\u003ctr class=\"code-ln-line\"\u003e\n        \u003ctd class=\"code-ln-numbers\" data-line-number=\"15\"\u003e\u003cdiv class=\"code-ln-n\" data-line-number=\"15\"\u003e\u003c/div\u003e\u003c/td\u003e\n        \u003ctd class=\"code-ln-code\" data-line-number=\"15\"\u003e\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#005CC5;--shiki-dark:#79B8FF\"\u003e.PHONY\u003c/span\u003e\u003cspan style=\"color:#24292E;--shiki-dark:#E1E4E8\"\u003e: test\u003c/span\u003e\u003c/span\u003e\u003c/td\u003e\n      \u003c/tr\u003e\u003ctr class=\"code-ln-line\"\u003e\n        \u003ctd class=\"code-ln-numbers\" data-line-number=\"16\"\u003e\u003cdiv class=\"code-ln-n\" data-line-number=\"16\"\u003e\u003c/div\u003e\u003c/td\u003e\n        \u003ctd class=\"code-ln-code\" data-line-number=\"16\"\u003e\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#6F42C1;--shiki-dark:#B392F0\"\u003etest\u003c/span\u003e\u003cspan style=\"color:#24292E;--shiki-dark:#E1E4E8\"\u003e:   \u003c/span\u003e\u003cspan style=\"color:#6A737D;--shiki-dark:#6A737D\"\u003e## Runs unit-tests\u003c/span\u003e\u003c/span\u003e\u003c/td\u003e\n      \u003c/tr\u003e\u003ctr class=\"code-ln-line\"\u003e\n        \u003ctd class=\"code-ln-numbers\" data-line-number=\"17\"\u003e\u003cdiv class=\"code-ln-n\" data-line-number=\"17\"\u003e\u003c/div\u003e\u003c/td\u003e\n        \u003ctd class=\"code-ln-code\" data-line-number=\"17\"\u003e\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#24292E;--shiki-dark:#E1E4E8\"\u003e        go test -count=1 -v ./...\u003c/span\u003e\u003c/span\u003e\u003c/td\u003e\n      \u003c/tr\u003e\u003c/tbody\u003e\u003c/table\u003e"])</script><script>self.__next_f.push([1,"1e:[\"$\",\"pre\",null,{\"className\":\"language-makefile pre-code-block shiki github-light github-dark\",\"children\":[\"$\",\"code\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"$30\"}}]}]\n31:T7e3,\u003ctable class=\"code-ln-table\"\u003e\u003ctbody\u003e\u003ctr class=\"code-ln-line\"\u003e\n        \u003ctd class=\"code-ln-numbers\" data-line-number=\"1\"\u003e\u003cdiv class=\"code-ln-n\" data-line-number=\"1\"\u003e\u003c/div\u003e\u003c/td\u003e\n        \u003ctd class=\"code-ln-code\" data-line-number=\"1\"\u003e\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#24292E;--shiki-dark:#E1E4E8\"\u003eIMAGES := calculator otherservice yetanother\u003c/span\u003e\u003c/span\u003e\u003c/td\u003e\n      \u003c/tr\u003e\u003ctr class=\"code-ln-line\"\u003e\n        \u003ctd class=\"code-ln-numbers\" data-line-number=\"2\"\u003e\u003cdiv class=\"code-ln-n\" data-line-number=\"2\"\u003e\u003c/div\u003e\u003c/td\u003e\n        \u003ctd class=\"code-ln-code\" data-line-number=\"2\"\u003e\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#005CC5;--shiki-dark:#79B8FF\"\u003e.PHONY\u003c/span\u003e\u003cspan style=\"color:#24292E;--shiki-dark:#E1E4E8\"\u003e: \u003c/span\u003e\u003cspan style=\"color:#032F62;--shiki-dark:#9ECBFF\"\u003e$(\u003c/span\u003e\u003cspan style=\"color:#24292E;--shiki-dark:#E1E4E8\"\u003eIMAGES:%=ci_%_image\u003c/span\u003e\u003cspan style=\"color:#032F62;--shiki-dark:#9ECBFF\"\u003e)\u003c/span\u003e\u003c/span\u003e\u003c/td\u003e\n      \u003c/tr\u003e\u003ctr class=\"code-ln-line\"\u003e\n        \u003ctd class=\"code-ln-numbers\" data-line-number=\"3\"\u003e\u003cdiv class=\"code-ln-n\" data-line-number=\"3\"\u003e\u003c/div\u003e\u003c/td\u003e\n        \u003ctd class=\"code-ln-code\" data-line-number=\"3\"\u003e\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#032F62;--shiki-dark:#9ECBFF\"\u003e$(\u003c/span\u003e\u003cspan style=\"color:#24292E;--shiki-dark:#E1E4E8\"\u003eIMAGES:%=ci_%_image\u003c/span\u003e\u003cspan style=\"color:#032F62;--shiki-dark:#9ECBFF\"\u003e)\u003c/span\u003e\u003cspan style=\"color:#24292E;--shiki-dark:#E1E4E8\"\u003e: ci_%_image: cicd/docker/Dockerfile.%\u003c/span\u003e\u003c/span\u003e\u003c/td\u003e\n      \u003c/tr\u003e\u003ctr class=\"code-ln-line\"\u003e\n        \u003ctd class=\"code-ln-numbers\" data-line-number=\"4\"\u003e\u003cdiv class=\"code-ln-n\" data-line-number=\"4\"\u003e\u003c/div\u003e\u003c/td\u003e\n        \u003ctd class=\"code-ln-code\" data-line-number=\"4\"\u003e\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#24292E;--shiki-dark:#E1E4E8\"\u003e        docker buildx build --tag \u003c/span\u003e\u003cspan style=\"color:#005CC5;--shiki-dark:#79B8FF\"\u003e$*\u003c/span\u003e\u003cspan style=\"color:#24292E;--shiki-dark:#E1E4E8\"\u003e -f \u003c/span\u003e\u003cspan st"])</script><script>self.__next_f.push([1,"yle=\"color:#005CC5;--shiki-dark:#79B8FF\"\u003e$\u0026#x3C;\u003c/span\u003e\u003cspan style=\"color:#24292E;--shiki-dark:#E1E4E8\"\u003e .\u003c/span\u003e\u003c/span\u003e\u003c/td\u003e\n      \u003c/tr\u003e\u003c/tbody\u003e\u003c/table\u003e1f:[\"$\",\"pre\",null,{\"className\":\"language-makefile pre-code-block shiki github-light github-dark\",\"children\":[\"$\",\"code\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"$31\"}}]}]\n32:T616,\u003ctable class=\"code-ln-table\"\u003e\u003ctbody\u003e\u003ctr class=\"code-ln-line\"\u003e\n        \u003ctd class=\"code-ln-numbers\" data-line-number=\"1\"\u003e\u003cdiv class=\"code-ln-n\" data-line-number=\"1\"\u003e\u003c/div\u003e\u003c/td\u003e\n        \u003ctd class=\"code-ln-code\" data-line-number=\"1\"\u003e\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#24292E;--shiki-dark:#E1E4E8\"\u003e❯ brew install socket_vmnet qemu minikube docker docker-buildx\u003c/span\u003e\u003c/span\u003e\u003c/td\u003e\n      \u003c/tr\u003e\u003ctr class=\"code-ln-line\"\u003e\n        \u003ctd class=\"code-ln-numbers\" data-line-number=\"2\"\u003e\u003cdiv class=\"code-ln-n\" data-line-number=\"2\"\u003e\u003c/div\u003e\u003c/td\u003e\n        \u003ctd class=\"code-ln-code\" data-line-number=\"2\"\u003e\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#24292E;--shiki-dark:#E1E4E8\"\u003e❯ brew services start socket_vmnet\u003c/span\u003e\u003c/span\u003e\u003c/td\u003e\n      \u003c/tr\u003e\u003ctr class=\"code-ln-line\"\u003e\n        \u003ctd class=\"code-ln-numbers\" data-line-number=\"3\"\u003e\u003cdiv class=\"code-ln-n\" data-line-number=\"3\"\u003e\u003c/div\u003e\u003c/td\u003e\n        \u003ctd class=\"code-ln-code\" data-line-number=\"3\"\u003e\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#24292E;--shiki-dark:#E1E4E8\"\u003e❯ minikube start --driver=qemu --container-runtime=docker --network=socket_vmnet\u003c/span\u003e\u003c/span\u003e\u003c/td\u003e\n      \u003c/tr\u003e\u003ctr class=\"code-ln-line\"\u003e\n        \u003ctd class=\"code-ln-numbers\" data-line-number=\"4\"\u003e\u003cdiv class=\"code-ln-n\" data-line-number=\"4\"\u003e\u003c/div\u003e\u003c/td\u003e\n        \u003ctd class=\"code-ln-code\" data-line-number=\"4\"\u003e\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#24292E;--shiki-dark:#E1E4E8\"\u003e❯ minikube -p minikube docker-env \u003c/span\u003e\u003cspan style=\"color:#D73A49;--shiki-dark:#F97583\"\u003e|\u003c/span\u003e\u003cspan style=\"color:#D73A49;--shiki-dark:#F97583\"\u003e source\u003c/span\u003e\u003c/span\u003e\u003c/td\u003e\n      \u003c/tr\u003e\u003c/tbody\u003e\u003c/table\u003e20:[\"$\",\"pre\",null,{\"className\":\"language-fish pre-code-block shiki github-light github-dark\",\"children\":[\"$\",\"code\",null,{\"dangerouslySetInnerHTML\":{\"__ht"])</script><script>self.__next_f.push([1,"ml\":\"$32\"}}]}]\n33:T230b,"])</script><script>self.__next_f.push([1,"\u003ctable class=\"code-ln-table\"\u003e\u003ctbody\u003e\u003ctr class=\"code-ln-line\"\u003e\n        \u003ctd class=\"code-ln-numbers\" data-line-number=\"1\"\u003e\u003cdiv class=\"code-ln-n\" data-line-number=\"1\"\u003e\u003c/div\u003e\u003c/td\u003e\n        \u003ctd class=\"code-ln-code\" data-line-number=\"1\"\u003e\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#6A737D;--shiki-dark:#6A737D\"\u003e# syntax=docker/dockerfile:1\u003c/span\u003e\u003c/span\u003e\u003c/td\u003e\n      \u003c/tr\u003e\u003ctr class=\"code-ln-line\"\u003e\n        \u003ctd class=\"code-ln-numbers\" data-line-number=\"2\"\u003e\u003cdiv class=\"code-ln-n\" data-line-number=\"2\"\u003e\u003c/div\u003e\u003c/td\u003e\n        \u003ctd class=\"code-ln-code\" data-line-number=\"2\"\u003e\u003cspan class=\"line\"\u003e\u003c/span\u003e\u003c/td\u003e\n      \u003c/tr\u003e\u003ctr class=\"code-ln-line\"\u003e\n        \u003ctd class=\"code-ln-numbers\" data-line-number=\"3\"\u003e\u003cdiv class=\"code-ln-n\" data-line-number=\"3\"\u003e\u003c/div\u003e\u003c/td\u003e\n        \u003ctd class=\"code-ln-code\" data-line-number=\"3\"\u003e\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#D73A49;--shiki-dark:#F97583\"\u003eFROM\u003c/span\u003e\u003cspan style=\"color:#24292E;--shiki-dark:#E1E4E8\"\u003e golang:1.21 \u003c/span\u003e\u003cspan style=\"color:#D73A49;--shiki-dark:#F97583\"\u003eAS\u003c/span\u003e\u003cspan style=\"color:#24292E;--shiki-dark:#E1E4E8\"\u003e build-stage\u003c/span\u003e\u003c/span\u003e\u003c/td\u003e\n      \u003c/tr\u003e\u003ctr class=\"code-ln-line\"\u003e\n        \u003ctd class=\"code-ln-numbers\" data-line-number=\"4\"\u003e\u003cdiv class=\"code-ln-n\" data-line-number=\"4\"\u003e\u003c/div\u003e\u003c/td\u003e\n        \u003ctd class=\"code-ln-code\" data-line-number=\"4\"\u003e\u003cspan class=\"line\"\u003e\u003c/span\u003e\u003c/td\u003e\n      \u003c/tr\u003e\u003ctr class=\"code-ln-line\"\u003e\n        \u003ctd class=\"code-ln-numbers\" data-line-number=\"5\"\u003e\u003cdiv class=\"code-ln-n\" data-line-number=\"5\"\u003e\u003c/div\u003e\u003c/td\u003e\n        \u003ctd class=\"code-ln-code\" data-line-number=\"5\"\u003e\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#D73A49;--shiki-dark:#F97583\"\u003eWORKDIR\u003c/span\u003e\u003cspan style=\"color:#24292E;--shiki-dark:#E1E4E8\"\u003e /app\u003c/span\u003e\u003c/span\u003e\u003c/td\u003e\n      \u003c/tr\u003e\u003ctr class=\"code-ln-line\"\u003e\n        \u003ctd class=\"code-ln-numbers\" data-line-number=\"6\"\u003e\u003cdiv class=\"code-ln-n\" data-line-number=\"6\"\u003e\u003c/div\u003e\u003c/td\u003e\n        \u003ctd class=\"code-ln-code\" data-line-number=\"6\"\u003e\u003cspan class=\"line\"\u003e\u003c/span\u003e\u003c/td\u003e\n      \u003c/tr\u003e\u003ctr class=\"code-ln-line\"\u003e\n        \u003ctd class=\"code-ln-numbers\" data-line-number=\"7\"\u003e\u003cdiv class=\"code-ln-n\" data-line-number=\"7\"\u003e\u003c/div\u003e\u003c/td\u003e\n        \u003ctd class=\"code-ln-code\" data-line-number=\"7\"\u003e\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#D73A49;--shiki-dark:#F97583\"\u003eCOPY\u003c/span\u003e\u003cspan style=\"color:#24292E;--shiki-dark:#E1E4E8\"\u003e go.mod go.sum ./\u003c/span\u003e\u003c/span\u003e\u003c/td\u003e\n      \u003c/tr\u003e\u003ctr class=\"code-ln-line\"\u003e\n        \u003ctd class=\"code-ln-numbers\" data-line-number=\"8\"\u003e\u003cdiv class=\"code-ln-n\" data-line-number=\"8\"\u003e\u003c/div\u003e\u003c/td\u003e\n        \u003ctd class=\"code-ln-code\" data-line-number=\"8\"\u003e\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#D73A49;--shiki-dark:#F97583\"\u003eRUN\u003c/span\u003e\u003cspan style=\"color:#24292E;--shiki-dark:#E1E4E8\"\u003e go mod download\u003c/span\u003e\u003c/span\u003e\u003c/td\u003e\n      \u003c/tr\u003e\u003ctr class=\"code-ln-line\"\u003e\n        \u003ctd class=\"code-ln-numbers\" data-line-number=\"9\"\u003e\u003cdiv class=\"code-ln-n\" data-line-number=\"9\"\u003e\u003c/div\u003e\u003c/td\u003e\n        \u003ctd class=\"code-ln-code\" data-line-number=\"9\"\u003e\u003cspan class=\"line\"\u003e\u003c/span\u003e\u003c/td\u003e\n      \u003c/tr\u003e\u003ctr class=\"code-ln-line\"\u003e\n        \u003ctd class=\"code-ln-numbers\" data-line-number=\"10\"\u003e\u003cdiv class=\"code-ln-n\" data-line-number=\"10\"\u003e\u003c/div\u003e\u003c/td\u003e\n        \u003ctd class=\"code-ln-code\" data-line-number=\"10\"\u003e\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#D73A49;--shiki-dark:#F97583\"\u003eCOPY\u003c/span\u003e\u003cspan style=\"color:#24292E;--shiki-dark:#E1E4E8\"\u003e services/calculator/*.go ./\u003c/span\u003e\u003c/span\u003e\u003c/td\u003e\n      \u003c/tr\u003e\u003ctr class=\"code-ln-line\"\u003e\n        \u003ctd class=\"code-ln-numbers\" data-line-number=\"11\"\u003e\u003cdiv class=\"code-ln-n\" data-line-number=\"11\"\u003e\u003c/div\u003e\u003c/td\u003e\n        \u003ctd class=\"code-ln-code\" data-line-number=\"11\"\u003e\u003cspan class=\"line\"\u003e\u003c/span\u003e\u003c/td\u003e\n      \u003c/tr\u003e\u003ctr class=\"code-ln-line\"\u003e\n        \u003ctd class=\"code-ln-numbers\" data-line-number=\"12\"\u003e\u003cdiv class=\"code-ln-n\" data-line-number=\"12\"\u003e\u003c/div\u003e\u003c/td\u003e\n        \u003ctd class=\"code-ln-code\" data-line-number=\"12\"\u003e\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#D73A49;--shiki-dark:#F97583\"\u003eRUN\u003c/span\u003e\u003cspan style=\"color:#24292E;--shiki-dark:#E1E4E8\"\u003e CGO_ENABLED=0 GOOS=linux go build -o /calculator\u003c/span\u003e\u003c/span\u003e\u003c/td\u003e\n      \u003c/tr\u003e\u003ctr class=\"code-ln-line\"\u003e\n        \u003ctd class=\"code-ln-numbers\" data-line-number=\"13\"\u003e\u003cdiv class=\"code-ln-n\" data-line-number=\"13\"\u003e\u003c/div\u003e\u003c/td\u003e\n        \u003ctd class=\"code-ln-code\" data-line-number=\"13\"\u003e\u003cspan class=\"line\"\u003e\u003c/span\u003e\u003c/td\u003e\n      \u003c/tr\u003e\u003ctr class=\"code-ln-line\"\u003e\n        \u003ctd class=\"code-ln-numbers\" data-line-number=\"14\"\u003e\u003cdiv class=\"code-ln-n\" data-line-number=\"14\"\u003e\u003c/div\u003e\u003c/td\u003e\n        \u003ctd class=\"code-ln-code\" data-line-number=\"14\"\u003e\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#D73A49;--shiki-dark:#F97583\"\u003eFROM\u003c/span\u003e\u003cspan style=\"color:#24292E;--shiki-dark:#E1E4E8\"\u003e build-stage \u003c/span\u003e\u003cspan style=\"color:#D73A49;--shiki-dark:#F97583\"\u003eAS\u003c/span\u003e\u003cspan style=\"color:#24292E;--shiki-dark:#E1E4E8\"\u003e run-test-stage\u003c/span\u003e\u003c/span\u003e\u003c/td\u003e\n      \u003c/tr\u003e\u003ctr class=\"code-ln-line\"\u003e\n        \u003ctd class=\"code-ln-numbers\" data-line-number=\"15\"\u003e\u003cdiv class=\"code-ln-n\" data-line-number=\"15\"\u003e\u003c/div\u003e\u003c/td\u003e\n        \u003ctd class=\"code-ln-code\" data-line-number=\"15\"\u003e\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#D73A49;--shiki-dark:#F97583\"\u003eRUN\u003c/span\u003e\u003cspan style=\"color:#24292E;--shiki-dark:#E1E4E8\"\u003e go test -v ./...\u003c/span\u003e\u003c/span\u003e\u003c/td\u003e\n      \u003c/tr\u003e\u003ctr class=\"code-ln-line\"\u003e\n        \u003ctd class=\"code-ln-numbers\" data-line-number=\"16\"\u003e\u003cdiv class=\"code-ln-n\" data-line-number=\"16\"\u003e\u003c/div\u003e\u003c/td\u003e\n        \u003ctd class=\"code-ln-code\" data-line-number=\"16\"\u003e\u003cspan class=\"line\"\u003e\u003c/span\u003e\u003c/td\u003e\n      \u003c/tr\u003e\u003ctr class=\"code-ln-line\"\u003e\n        \u003ctd class=\"code-ln-numbers\" data-line-number=\"17\"\u003e\u003cdiv class=\"code-ln-n\" data-line-number=\"17\"\u003e\u003c/div\u003e\u003c/td\u003e\n        \u003ctd class=\"code-ln-code\" data-line-number=\"17\"\u003e\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#D73A49;--shiki-dark:#F97583\"\u003eFROM\u003c/span\u003e\u003cspan style=\"color:#24292E;--shiki-dark:#E1E4E8\"\u003e gcr.io/distroless/base-debian11 \u003c/span\u003e\u003cspan style=\"color:#D73A49;--shiki-dark:#F97583\"\u003eAS\u003c/span\u003e\u003cspan style=\"color:#24292E;--shiki-dark:#E1E4E8\"\u003e build-release-stage\u003c/span\u003e\u003c/span\u003e\u003c/td\u003e\n      \u003c/tr\u003e\u003ctr class=\"code-ln-line\"\u003e\n        \u003ctd class=\"code-ln-numbers\" data-line-number=\"18\"\u003e\u003cdiv class=\"code-ln-n\" data-line-number=\"18\"\u003e\u003c/div\u003e\u003c/td\u003e\n        \u003ctd class=\"code-ln-code\" data-line-number=\"18\"\u003e\u003cspan class=\"line\"\u003e\u003c/span\u003e\u003c/td\u003e\n      \u003c/tr\u003e\u003ctr class=\"code-ln-line\"\u003e\n        \u003ctd class=\"code-ln-numbers\" data-line-number=\"19\"\u003e\u003cdiv class=\"code-ln-n\" data-line-number=\"19\"\u003e\u003c/div\u003e\u003c/td\u003e\n        \u003ctd class=\"code-ln-code\" data-line-number=\"19\"\u003e\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#D73A49;--shiki-dark:#F97583\"\u003eWORKDIR\u003c/span\u003e\u003cspan style=\"color:#24292E;--shiki-dark:#E1E4E8\"\u003e /\u003c/span\u003e\u003c/span\u003e\u003c/td\u003e\n      \u003c/tr\u003e\u003ctr class=\"code-ln-line\"\u003e\n        \u003ctd class=\"code-ln-numbers\" data-line-number=\"20\"\u003e\u003cdiv class=\"code-ln-n\" data-line-number=\"20\"\u003e\u003c/div\u003e\u003c/td\u003e\n        \u003ctd class=\"code-ln-code\" data-line-number=\"20\"\u003e\u003cspan class=\"line\"\u003e\u003c/span\u003e\u003c/td\u003e\n      \u003c/tr\u003e\u003ctr class=\"code-ln-line\"\u003e\n        \u003ctd class=\"code-ln-numbers\" data-line-number=\"21\"\u003e\u003cdiv class=\"code-ln-n\" data-line-number=\"21\"\u003e\u003c/div\u003e\u003c/td\u003e\n        \u003ctd class=\"code-ln-code\" data-line-number=\"21\"\u003e\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#D73A49;--shiki-dark:#F97583\"\u003eCOPY\u003c/span\u003e\u003cspan style=\"color:#24292E;--shiki-dark:#E1E4E8\"\u003e --from=build-stage /calculator /calculator\u003c/span\u003e\u003c/span\u003e\u003c/td\u003e\n      \u003c/tr\u003e\u003ctr class=\"code-ln-line\"\u003e\n        \u003ctd class=\"code-ln-numbers\" data-line-number=\"22\"\u003e\u003cdiv class=\"code-ln-n\" data-line-number=\"22\"\u003e\u003c/div\u003e\u003c/td\u003e\n        \u003ctd class=\"code-ln-code\" data-line-number=\"22\"\u003e\u003cspan class=\"line\"\u003e\u003c/span\u003e\u003c/td\u003e\n      \u003c/tr\u003e\u003ctr class=\"code-ln-line\"\u003e\n        \u003ctd class=\"code-ln-numbers\" data-line-number=\"23\"\u003e\u003cdiv class=\"code-ln-n\" data-line-number=\"23\"\u003e\u003c/div\u003e\u003c/td\u003e\n        \u003ctd class=\"code-ln-code\" data-line-number=\"23\"\u003e\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#D73A49;--shiki-dark:#F97583\"\u003eEXPOSE\u003c/span\u003e\u003cspan style=\"color:#24292E;--shiki-dark:#E1E4E8\"\u003e 8080\u003c/span\u003e\u003c/span\u003e\u003c/td\u003e\n      \u003c/tr\u003e\u003ctr class=\"code-ln-line\"\u003e\n        \u003ctd class=\"code-ln-numbers\" data-line-number=\"24\"\u003e\u003cdiv class=\"code-ln-n\" data-line-number=\"24\"\u003e\u003c/div\u003e\u003c/td\u003e\n        \u003ctd class=\"code-ln-code\" data-line-number=\"24\"\u003e\u003cspan class=\"line\"\u003e\u003c/span\u003e\u003c/td\u003e\n      \u003c/tr\u003e\u003ctr class=\"code-ln-line\"\u003e\n        \u003ctd class=\"code-ln-numbers\" data-line-number=\"25\"\u003e\u003cdiv class=\"code-ln-n\" data-line-number=\"25\"\u003e\u003c/div\u003e\u003c/td\u003e\n        \u003ctd class=\"code-ln-code\" data-line-number=\"25\"\u003e\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#D73A49;--shiki-dark:#F97583\"\u003eUSER\u003c/span\u003e\u003cspan style=\"color:#24292E;--shiki-dark:#E1E4E8\"\u003e nonroot:nonroot\u003c/span\u003e\u003c/span\u003e\u003c/td\u003e\n      \u003c/tr\u003e\u003ctr class=\"code-ln-line\"\u003e\n        \u003ctd class=\"code-ln-numbers\" data-line-number=\"26\"\u003e\u003cdiv class=\"code-ln-n\" data-line-number=\"26\"\u003e\u003c/div\u003e\u003c/td\u003e\n        \u003ctd class=\"code-ln-code\" data-line-number=\"26\"\u003e\u003cspan class=\"line\"\u003e\u003c/span\u003e\u003c/td\u003e\n      \u003c/tr\u003e\u003ctr class=\"code-ln-line\"\u003e\n        \u003ctd class=\"code-ln-numbers\" data-line-number=\"27\"\u003e\u003cdiv class=\"code-ln-n\" data-line-number=\"27\"\u003e\u003c/div\u003e\u003c/td\u003e\n        \u003ctd class=\"code-ln-code\" data-line-number=\"27\"\u003e\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#D73A49;--shiki-dark:#F97583\"\u003eENTRYPOINT\u003c/span\u003e\u003cspan style=\"color:#24292E;--shiki-dark:#E1E4E8\"\u003e [\u003c/span\u003e\u003cspan style=\"color:#032F62;--shiki-dark:#9ECBFF\"\u003e\"/calculator\"\u003c/span\u003e\u003cspan style=\"color:#24292E;--shiki-dark:#E1E4E8\"\u003e]\u003c/span\u003e\u003c/span\u003e\u003c/td\u003e\n      \u003c/tr\u003e\u003c/tbody\u003e\u003c/table\u003e"])</script><script>self.__next_f.push([1,"21:[\"$\",\"pre\",null,{\"className\":\"language-dockerfile pre-code-block shiki github-light github-dark\",\"children\":[\"$\",\"code\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"$33\"}}]}]\n22:[\"$\",\"pre\",null,{\"className\":\"language-fish pre-code-block shiki github-light github-dark\",\"children\":[\"$\",\"code\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"\u003ctable class=\\\"code-ln-table\\\"\u003e\u003ctbody\u003e\u003ctr class=\\\"code-ln-line\\\"\u003e\\n        \u003ctd class=\\\"code-ln-numbers\\\" data-line-number=\\\"1\\\"\u003e\u003cdiv class=\\\"code-ln-n\\\" data-line-number=\\\"1\\\"\u003e\u003c/div\u003e\u003c/td\u003e\\n        \u003ctd class=\\\"code-ln-code\\\" data-line-number=\\\"1\\\"\u003e\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#24292E;--shiki-dark:#E1E4E8\\\"\u003e❯ make ci_calculator_image\u003c/span\u003e\u003c/span\u003e\u003c/td\u003e\\n      \u003c/tr\u003e\u003c/tbody\u003e\u003c/table\u003e\"}}]}]\n23:[\"$\",\"pre\",null,{\"className\":\"language-fish pre-code-block shiki github-light github-dark\",\"children\":[\"$\",\"code\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"\u003ctable class=\\\"code-ln-table\\\"\u003e\u003ctbody\u003e\u003ctr class=\\\"code-ln-line\\\"\u003e\\n        \u003ctd class=\\\"code-ln-numbers\\\" data-line-number=\\\"1\\\"\u003e\u003cdiv class=\\\"code-ln-n\\\" data-line-number=\\\"1\\\"\u003e\u003c/div\u003e\u003c/td\u003e\\n        \u003ctd class=\\\"code-ln-code\\\" data-line-number=\\\"1\\\"\u003e\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#24292E;--shiki-dark:#E1E4E8\\\"\u003e❯ brew tap splunk/tap\u003c/span\u003e\u003c/span\u003e\u003c/td\u003e\\n      \u003c/tr\u003e\u003ctr class=\\\"code-ln-line\\\"\u003e\\n        \u003ctd class=\\\"code-ln-numbers\\\" data-line-number=\\\"2\\\"\u003e\u003cdiv class=\\\"code-ln-n\\\" data-line-number=\\\"2\\\"\u003e\u003c/div\u003e\u003c/td\u003e\\n        \u003ctd class=\\\"code-ln-code\\\" data-line-number=\\\"2\\\"\u003e\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#24292E;--shiki-dark:#E1E4E8\\\"\u003e❯ brew install qbec\u003c/span\u003e\u003c/span\u003e\u003c/td\u003e\\n      \u003c/tr\u003e\u003c/tbody\u003e\u003c/table\u003e\"}}]}]\n34:T17df,"])</script><script>self.__next_f.push([1,"\u003ctable class=\"code-ln-table\"\u003e\u003ctbody\u003e\u003ctr class=\"code-ln-line\"\u003e\n        \u003ctd class=\"code-ln-numbers\" data-line-number=\"1\"\u003e\u003cdiv class=\"code-ln-n\" data-line-number=\"1\"\u003e\u003c/div\u003e\u003c/td\u003e\n        \u003ctd class=\"code-ln-code\" data-line-number=\"1\"\u003e\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#22863A;--shiki-dark:#85E89D\"\u003eapiVersion\u003c/span\u003e\u003cspan style=\"color:#24292E;--shiki-dark:#E1E4E8\"\u003e: \u003c/span\u003e\u003cspan style=\"color:#032F62;--shiki-dark:#9ECBFF\"\u003eqbec.io/v1alpha1\u003c/span\u003e\u003c/span\u003e\u003c/td\u003e\n      \u003c/tr\u003e\u003ctr class=\"code-ln-line\"\u003e\n        \u003ctd class=\"code-ln-numbers\" data-line-number=\"2\"\u003e\u003cdiv class=\"code-ln-n\" data-line-number=\"2\"\u003e\u003c/div\u003e\u003c/td\u003e\n        \u003ctd class=\"code-ln-code\" data-line-number=\"2\"\u003e\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#22863A;--shiki-dark:#85E89D\"\u003ekind\u003c/span\u003e\u003cspan style=\"color:#24292E;--shiki-dark:#E1E4E8\"\u003e: \u003c/span\u003e\u003cspan style=\"color:#032F62;--shiki-dark:#9ECBFF\"\u003eApp\u003c/span\u003e\u003c/span\u003e\u003c/td\u003e\n      \u003c/tr\u003e\u003ctr class=\"code-ln-line\"\u003e\n        \u003ctd class=\"code-ln-numbers\" data-line-number=\"3\"\u003e\u003cdiv class=\"code-ln-n\" data-line-number=\"3\"\u003e\u003c/div\u003e\u003c/td\u003e\n        \u003ctd class=\"code-ln-code\" data-line-number=\"3\"\u003e\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#22863A;--shiki-dark:#85E89D\"\u003emetadata\u003c/span\u003e\u003cspan style=\"color:#24292E;--shiki-dark:#E1E4E8\"\u003e:\u003c/span\u003e\u003c/span\u003e\u003c/td\u003e\n      \u003c/tr\u003e\u003ctr class=\"code-ln-line\"\u003e\n        \u003ctd class=\"code-ln-numbers\" data-line-number=\"4\"\u003e\u003cdiv class=\"code-ln-n\" data-line-number=\"4\"\u003e\u003c/div\u003e\u003c/td\u003e\n        \u003ctd class=\"code-ln-code\" data-line-number=\"4\"\u003e\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#22863A;--shiki-dark:#85E89D\"\u003e  name\u003c/span\u003e\u003cspan style=\"color:#24292E;--shiki-dark:#E1E4E8\"\u003e: \u003c/span\u003e\u003cspan style=\"color:#032F62;--shiki-dark:#9ECBFF\"\u003emeetup-example\u003c/span\u003e\u003c/span\u003e\u003c/td\u003e\n      \u003c/tr\u003e\u003ctr class=\"code-ln-line\"\u003e\n        \u003ctd class=\"code-ln-numbers\" data-line-number=\"5\"\u003e\u003cdiv class=\"code-ln-n\" data-line-number=\"5\"\u003e\u003c/div\u003e\u003c/td\u003e\n        \u003ctd class=\"code-ln-code\" data-line-number=\"5\"\u003e\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#22863A;--shiki-dark:#85E89D\"\u003espec\u003c/span\u003e\u003cspan style=\"color:#24292E;--shiki-dark:#E1E4E8\"\u003e:\u003c/span\u003e\u003c/span\u003e\u003c/td\u003e\n      \u003c/tr\u003e\u003ctr class=\"code-ln-line\"\u003e\n        \u003ctd class=\"code-ln-numbers\" data-line-number=\"6\"\u003e\u003cdiv class=\"code-ln-n\" data-line-number=\"6\"\u003e\u003c/div\u003e\u003c/td\u003e\n        \u003ctd class=\"code-ln-code\" data-line-number=\"6\"\u003e\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#22863A;--shiki-dark:#85E89D\"\u003e  environments\u003c/span\u003e\u003cspan style=\"color:#24292E;--shiki-dark:#E1E4E8\"\u003e:\u003c/span\u003e\u003c/span\u003e\u003c/td\u003e\n      \u003c/tr\u003e\u003ctr class=\"code-ln-line\"\u003e\n        \u003ctd class=\"code-ln-numbers\" data-line-number=\"7\"\u003e\u003cdiv class=\"code-ln-n\" data-line-number=\"7\"\u003e\u003c/div\u003e\u003c/td\u003e\n        \u003ctd class=\"code-ln-code\" data-line-number=\"7\"\u003e\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#22863A;--shiki-dark:#85E89D\"\u003e    local\u003c/span\u003e\u003cspan style=\"color:#24292E;--shiki-dark:#E1E4E8\"\u003e:\u003c/span\u003e\u003c/span\u003e\u003c/td\u003e\n      \u003c/tr\u003e\u003ctr class=\"code-ln-line\"\u003e\n        \u003ctd class=\"code-ln-numbers\" data-line-number=\"8\"\u003e\u003cdiv class=\"code-ln-n\" data-line-number=\"8\"\u003e\u003c/div\u003e\u003c/td\u003e\n        \u003ctd class=\"code-ln-code\" data-line-number=\"8\"\u003e\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#22863A;--shiki-dark:#85E89D\"\u003e      context\u003c/span\u003e\u003cspan style=\"color:#24292E;--shiki-dark:#E1E4E8\"\u003e: \u003c/span\u003e\u003cspan style=\"color:#032F62;--shiki-dark:#9ECBFF\"\u003eminikube\u003c/span\u003e\u003c/span\u003e\u003c/td\u003e\n      \u003c/tr\u003e\u003ctr class=\"code-ln-line\"\u003e\n        \u003ctd class=\"code-ln-numbers\" data-line-number=\"9\"\u003e\u003cdiv class=\"code-ln-n\" data-line-number=\"9\"\u003e\u003c/div\u003e\u003c/td\u003e\n        \u003ctd class=\"code-ln-code\" data-line-number=\"9\"\u003e\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#22863A;--shiki-dark:#85E89D\"\u003e      defaultNamespace\u003c/span\u003e\u003cspan style=\"color:#24292E;--shiki-dark:#E1E4E8\"\u003e: \u003c/span\u003e\u003cspan style=\"color:#032F62;--shiki-dark:#9ECBFF\"\u003edefault\u003c/span\u003e\u003c/span\u003e\u003c/td\u003e\n      \u003c/tr\u003e\u003ctr class=\"code-ln-line\"\u003e\n        \u003ctd class=\"code-ln-numbers\" data-line-number=\"10\"\u003e\u003cdiv class=\"code-ln-n\" data-line-number=\"10\"\u003e\u003c/div\u003e\u003c/td\u003e\n        \u003ctd class=\"code-ln-code\" data-line-number=\"10\"\u003e\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#22863A;--shiki-dark:#85E89D\"\u003e    cluster001\u003c/span\u003e\u003cspan style=\"color:#24292E;--shiki-dark:#E1E4E8\"\u003e:\u003c/span\u003e\u003c/span\u003e\u003c/td\u003e\n      \u003c/tr\u003e\u003ctr class=\"code-ln-line\"\u003e\n        \u003ctd class=\"code-ln-numbers\" data-line-number=\"11\"\u003e\u003cdiv class=\"code-ln-n\" data-line-number=\"11\"\u003e\u003c/div\u003e\u003c/td\u003e\n        \u003ctd class=\"code-ln-code\" data-line-number=\"11\"\u003e\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#22863A;--shiki-dark:#85E89D\"\u003e      defaultNamespace\u003c/span\u003e\u003cspan style=\"color:#24292E;--shiki-dark:#E1E4E8\"\u003e: \u003c/span\u003e\u003cspan style=\"color:#032F62;--shiki-dark:#9ECBFF\"\u003edefault\u003c/span\u003e\u003c/span\u003e\u003c/td\u003e\n      \u003c/tr\u003e\u003ctr class=\"code-ln-line\"\u003e\n        \u003ctd class=\"code-ln-numbers\" data-line-number=\"12\"\u003e\u003cdiv class=\"code-ln-n\" data-line-number=\"12\"\u003e\u003c/div\u003e\u003c/td\u003e\n        \u003ctd class=\"code-ln-code\" data-line-number=\"12\"\u003e\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#22863A;--shiki-dark:#85E89D\"\u003e      server\u003c/span\u003e\u003cspan style=\"color:#24292E;--shiki-dark:#E1E4E8\"\u003e: \u003c/span\u003e\u003cspan style=\"color:#032F62;--shiki-dark:#9ECBFF\"\u003ehttps://192.168.1.1:8443\u003c/span\u003e\u003c/span\u003e\u003c/td\u003e\n      \u003c/tr\u003e\u003ctr class=\"code-ln-line\"\u003e\n        \u003ctd class=\"code-ln-numbers\" data-line-number=\"13\"\u003e\u003cdiv class=\"code-ln-n\" data-line-number=\"13\"\u003e\u003c/div\u003e\u003c/td\u003e\n        \u003ctd class=\"code-ln-code\" data-line-number=\"13\"\u003e\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#22863A;--shiki-dark:#85E89D\"\u003e    cluster002\u003c/span\u003e\u003cspan style=\"color:#24292E;--shiki-dark:#E1E4E8\"\u003e:\u003c/span\u003e\u003c/span\u003e\u003c/td\u003e\n      \u003c/tr\u003e\u003ctr class=\"code-ln-line\"\u003e\n        \u003ctd class=\"code-ln-numbers\" data-line-number=\"14\"\u003e\u003cdiv class=\"code-ln-n\" data-line-number=\"14\"\u003e\u003c/div\u003e\u003c/td\u003e\n        \u003ctd class=\"code-ln-code\" data-line-number=\"14\"\u003e\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#22863A;--shiki-dark:#85E89D\"\u003e      defaultNamespace\u003c/span\u003e\u003cspan style=\"color:#24292E;--shiki-dark:#E1E4E8\"\u003e: \u003c/span\u003e\u003cspan style=\"color:#032F62;--shiki-dark:#9ECBFF\"\u003edefault\u003c/span\u003e\u003c/span\u003e\u003c/td\u003e\n      \u003c/tr\u003e\u003ctr class=\"code-ln-line\"\u003e\n        \u003ctd class=\"code-ln-numbers\" data-line-number=\"15\"\u003e\u003cdiv class=\"code-ln-n\" data-line-number=\"15\"\u003e\u003c/div\u003e\u003c/td\u003e\n        \u003ctd class=\"code-ln-code\" data-line-number=\"15\"\u003e\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#22863A;--shiki-dark:#85E89D\"\u003e      server\u003c/span\u003e\u003cspan style=\"color:#24292E;--shiki-dark:#E1E4E8\"\u003e: \u003c/span\u003e\u003cspan style=\"color:#032F62;--shiki-dark:#9ECBFF\"\u003ehttps://10.0.0.1:8443\u003c/span\u003e\u003c/span\u003e\u003c/td\u003e\n      \u003c/tr\u003e\u003c/tbody\u003e\u003c/table\u003e"])</script><script>self.__next_f.push([1,"24:[\"$\",\"pre\",null,{\"className\":\"language-yaml pre-code-block shiki github-light github-dark\",\"children\":[\"$\",\"code\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"$34\"}}]}]\n25:[\"$\",\"pre\",null,{\"className\":\"language-fish pre-code-block shiki github-light github-dark\",\"children\":[\"$\",\"code\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"\u003ctable class=\\\"code-ln-table\\\"\u003e\u003ctbody\u003e\u003ctr class=\\\"code-ln-line\\\"\u003e\\n        \u003ctd class=\\\"code-ln-numbers\\\" data-line-number=\\\"1\\\"\u003e\u003cdiv class=\\\"code-ln-n\\\" data-line-number=\\\"1\\\"\u003e\u003c/div\u003e\u003c/td\u003e\\n        \u003ctd class=\\\"code-ln-code\\\" data-line-number=\\\"1\\\"\u003e\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#24292E;--shiki-dark:#E1E4E8\\\"\u003e❯ qbec apply cluster001\u003c/span\u003e\u003c/span\u003e\u003c/td\u003e\\n      \u003c/tr\u003e\u003c/tbody\u003e\u003c/table\u003e\"}}]}]\n26:[\"$\",\"pre\",null,{\"className\":\"language-fish pre-code-block shiki github-light github-dark\",\"children\":[\"$\",\"code\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"\u003ctable class=\\\"code-ln-table\\\"\u003e\u003ctbody\u003e\u003ctr class=\\\"code-ln-line\\\"\u003e\\n        \u003ctd class=\\\"code-ln-numbers\\\" data-line-number=\\\"1\\\"\u003e\u003cdiv class=\\\"code-ln-n\\\" data-line-number=\\\"1\\\"\u003e\u003c/div\u003e\u003c/td\u003e\\n        \u003ctd class=\\\"code-ln-code\\\" data-line-number=\\\"1\\\"\u003e\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#24292E;--shiki-dark:#E1E4E8\\\"\u003e❯ ls -1R cicd/qbec/environments/\u003c/span\u003e\u003c/span\u003e\u003c/td\u003e\\n      \u003c/tr\u003e\u003ctr class=\\\"code-ln-line\\\"\u003e\\n        \u003ctd class=\\\"code-ln-numbers\\\" data-line-number=\\\"2\\\"\u003e\u003cdiv class=\\\"code-ln-n\\\" data-line-number=\\\"2\\\"\u003e\u003c/div\u003e\u003c/td\u003e\\n        \u003ctd class=\\\"code-ln-code\\\" data-line-number=\\\"2\\\"\u003e\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#005CC5;--shiki-dark:#79B8FF\\\"\u003ebase.libsonnet\u003c/span\u003e\u003c/span\u003e\u003c/td\u003e\\n      \u003c/tr\u003e\u003ctr class=\\\"code-ln-line\\\"\u003e\\n        \u003ctd class=\\\"code-ln-numbers\\\" data-line-number=\\\"3\\\"\u003e\u003cdiv class=\\\"code-ln-n\\\" data-line-number=\\\"3\\\"\u003e\u003c/div\u003e\u003c/td\u003e\\n        \u003ctd class=\\\"code-ln-code\\\" data-line-number=\\\"3\\\"\u003e\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#005CC5;--shiki-dark:#79B8FF\\\"\u003elocal.libsonnet\u003c/span\u003e\u003c/span\u003e\u003c/td\u003e\\n      \u003c/tr\u003e\u003c/tbody\u003e\u003c/table\u003e\"}}]}]\n35:T21d6,"])</script><script>self.__next_f.push([1,"\u003ctable class=\"code-ln-table\"\u003e\u003ctbody\u003e\u003ctr class=\"code-ln-line\"\u003e\n        \u003ctd class=\"code-ln-numbers\" data-line-number=\"1\"\u003e\u003cdiv class=\"code-ln-n\" data-line-number=\"1\"\u003e\u003c/div\u003e\u003c/td\u003e\n        \u003ctd class=\"code-ln-code\" data-line-number=\"1\"\u003e\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#24292E;--shiki-dark:#E1E4E8\"\u003e{\u003c/span\u003e\u003c/span\u003e\u003c/td\u003e\n      \u003c/tr\u003e\u003ctr class=\"code-ln-line\"\u003e\n        \u003ctd class=\"code-ln-numbers\" data-line-number=\"2\"\u003e\u003cdiv class=\"code-ln-n\" data-line-number=\"2\"\u003e\u003c/div\u003e\u003c/td\u003e\n        \u003ctd class=\"code-ln-code\" data-line-number=\"2\"\u003e\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#E36209;--shiki-dark:#FFAB70\"\u003e  components:\u003c/span\u003e\u003cspan style=\"color:#24292E;--shiki-dark:#E1E4E8\"\u003e {\u003c/span\u003e\u003c/span\u003e\u003c/td\u003e\n      \u003c/tr\u003e\u003ctr class=\"code-ln-line\"\u003e\n        \u003ctd class=\"code-ln-numbers\" data-line-number=\"3\"\u003e\u003cdiv class=\"code-ln-n\" data-line-number=\"3\"\u003e\u003c/div\u003e\u003c/td\u003e\n        \u003ctd class=\"code-ln-code\" data-line-number=\"3\"\u003e\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#E36209;--shiki-dark:#FFAB70\"\u003e    calculator:\u003c/span\u003e\u003cspan style=\"color:#24292E;--shiki-dark:#E1E4E8\"\u003e {\u003c/span\u003e\u003c/span\u003e\u003c/td\u003e\n      \u003c/tr\u003e\u003ctr class=\"code-ln-line\"\u003e\n        \u003ctd class=\"code-ln-numbers\" data-line-number=\"4\"\u003e\u003cdiv class=\"code-ln-n\" data-line-number=\"4\"\u003e\u003c/div\u003e\u003c/td\u003e\n        \u003ctd class=\"code-ln-code\" data-line-number=\"4\"\u003e\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#E36209;--shiki-dark:#FFAB70\"\u003e      name:\u003c/span\u003e\u003cspan style=\"color:#032F62;--shiki-dark:#9ECBFF\"\u003e \"calculator\"\u003c/span\u003e\u003cspan style=\"color:#24292E;--shiki-dark:#E1E4E8\"\u003e,\u003c/span\u003e\u003c/span\u003e\u003c/td\u003e\n      \u003c/tr\u003e\u003ctr class=\"code-ln-line\"\u003e\n        \u003ctd class=\"code-ln-numbers\" data-line-number=\"5\"\u003e\u003cdiv class=\"code-ln-n\" data-line-number=\"5\"\u003e\u003c/div\u003e\u003c/td\u003e\n        \u003ctd class=\"code-ln-code\" data-line-number=\"5\"\u003e\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#E36209;--shiki-dark:#FFAB70\"\u003e      serviceName:\u003c/span\u003e\u003cspan style=\"color:#032F62;--shiki-dark:#9ECBFF\"\u003e \"calculator\"\u003c/span\u003e\u003cspan style=\"color:#24292E;--shiki-dark:#E1E4E8\"\u003e,\u003c/span\u003e\u003c/span\u003e\u003c/td\u003e\n      \u003c/tr\u003e\u003ctr class=\"code-ln-line\"\u003e\n        \u003ctd class=\"code-ln-numbers\" data-line-number=\"6\"\u003e\u003cdiv class=\"code-ln-n\" data-line-number=\"6\"\u003e\u003c/div\u003e\u003c/td\u003e\n        \u003ctd class=\"code-ln-code\" data-line-number=\"6\"\u003e\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#E36209;--shiki-dark:#FFAB70\"\u003e      replicaCount:\u003c/span\u003e\u003cspan style=\"color:#005CC5;--shiki-dark:#79B8FF\"\u003e 3\u003c/span\u003e\u003cspan style=\"color:#24292E;--shiki-dark:#E1E4E8\"\u003e,\u003c/span\u003e\u003c/span\u003e\u003c/td\u003e\n      \u003c/tr\u003e\u003ctr class=\"code-ln-line\"\u003e\n        \u003ctd class=\"code-ln-numbers\" data-line-number=\"7\"\u003e\u003cdiv class=\"code-ln-n\" data-line-number=\"7\"\u003e\u003c/div\u003e\u003c/td\u003e\n        \u003ctd class=\"code-ln-code\" data-line-number=\"7\"\u003e\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#E36209;--shiki-dark:#FFAB70\"\u003e      port:\u003c/span\u003e\u003cspan style=\"color:#005CC5;--shiki-dark:#79B8FF\"\u003e 8080\u003c/span\u003e\u003cspan style=\"color:#24292E;--shiki-dark:#E1E4E8\"\u003e,\u003c/span\u003e\u003c/span\u003e\u003c/td\u003e\n      \u003c/tr\u003e\u003ctr class=\"code-ln-line\"\u003e\n        \u003ctd class=\"code-ln-numbers\" data-line-number=\"8\"\u003e\u003cdiv class=\"code-ln-n\" data-line-number=\"8\"\u003e\u003c/div\u003e\u003c/td\u003e\n        \u003ctd class=\"code-ln-code\" data-line-number=\"8\"\u003e\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#E36209;--shiki-dark:#FFAB70\"\u003e      externalServicePort:\u003c/span\u003e\u003cspan style=\"color:#005CC5;--shiki-dark:#79B8FF\"\u003e 8989\u003c/span\u003e\u003cspan style=\"color:#24292E;--shiki-dark:#E1E4E8\"\u003e,\u003c/span\u003e\u003c/span\u003e\u003c/td\u003e\n      \u003c/tr\u003e\u003ctr class=\"code-ln-line\"\u003e\n        \u003ctd class=\"code-ln-numbers\" data-line-number=\"9\"\u003e\u003cdiv class=\"code-ln-n\" data-line-number=\"9\"\u003e\u003c/div\u003e\u003c/td\u003e\n        \u003ctd class=\"code-ln-code\" data-line-number=\"9\"\u003e\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#E36209;--shiki-dark:#FFAB70\"\u003e      serviceType:\u003c/span\u003e\u003cspan style=\"color:#032F62;--shiki-dark:#9ECBFF\"\u003e \"NodePort\"\u003c/span\u003e\u003cspan style=\"color:#24292E;--shiki-dark:#E1E4E8\"\u003e,\u003c/span\u003e\u003c/span\u003e\u003c/td\u003e\n      \u003c/tr\u003e\u003ctr class=\"code-ln-line\"\u003e\n        \u003ctd class=\"code-ln-numbers\" data-line-number=\"10\"\u003e\u003cdiv class=\"code-ln-n\" data-line-number=\"10\"\u003e\u003c/div\u003e\u003c/td\u003e\n        \u003ctd class=\"code-ln-code\" data-line-number=\"10\"\u003e\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#E36209;--shiki-dark:#FFAB70\"\u003e      enabled:\u003c/span\u003e\u003cspan style=\"color:#005CC5;--shiki-dark:#79B8FF\"\u003e true\u003c/span\u003e\u003cspan style=\"color:#24292E;--shiki-dark:#E1E4E8\"\u003e,\u003c/span\u003e\u003c/span\u003e\u003c/td\u003e\n      \u003c/tr\u003e\u003ctr class=\"code-ln-line\"\u003e\n        \u003ctd class=\"code-ln-numbers\" data-line-number=\"11\"\u003e\u003cdiv class=\"code-ln-n\" data-line-number=\"11\"\u003e\u003c/div\u003e\u003c/td\u003e\n        \u003ctd class=\"code-ln-code\" data-line-number=\"11\"\u003e\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#E36209;--shiki-dark:#FFAB70\"\u003e      resources:\u003c/span\u003e\u003cspan style=\"color:#24292E;--shiki-dark:#E1E4E8\"\u003e {\u003c/span\u003e\u003c/span\u003e\u003c/td\u003e\n      \u003c/tr\u003e\u003ctr class=\"code-ln-line\"\u003e\n        \u003ctd class=\"code-ln-numbers\" data-line-number=\"12\"\u003e\u003cdiv class=\"code-ln-n\" data-line-number=\"12\"\u003e\u003c/div\u003e\u003c/td\u003e\n        \u003ctd class=\"code-ln-code\" data-line-number=\"12\"\u003e\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#E36209;--shiki-dark:#FFAB70\"\u003e        requests:\u003c/span\u003e\u003cspan style=\"color:#24292E;--shiki-dark:#E1E4E8\"\u003e {\u003c/span\u003e\u003c/span\u003e\u003c/td\u003e\n      \u003c/tr\u003e\u003ctr class=\"code-ln-line\"\u003e\n        \u003ctd class=\"code-ln-numbers\" data-line-number=\"13\"\u003e\u003cdiv class=\"code-ln-n\" data-line-number=\"13\"\u003e\u003c/div\u003e\u003c/td\u003e\n        \u003ctd class=\"code-ln-code\" data-line-number=\"13\"\u003e\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#E36209;--shiki-dark:#FFAB70\"\u003e          cpu:\u003c/span\u003e\u003cspan style=\"color:#032F62;--shiki-dark:#9ECBFF\"\u003e \"200m\"\u003c/span\u003e\u003cspan style=\"color:#24292E;--shiki-dark:#E1E4E8\"\u003e,\u003c/span\u003e\u003c/span\u003e\u003c/td\u003e\n      \u003c/tr\u003e\u003ctr class=\"code-ln-line\"\u003e\n        \u003ctd class=\"code-ln-numbers\" data-line-number=\"14\"\u003e\u003cdiv class=\"code-ln-n\" data-line-number=\"14\"\u003e\u003c/div\u003e\u003c/td\u003e\n        \u003ctd class=\"code-ln-code\" data-line-number=\"14\"\u003e\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#E36209;--shiki-dark:#FFAB70\"\u003e          memory:\u003c/span\u003e\u003cspan style=\"color:#032F62;--shiki-dark:#9ECBFF\"\u003e \"200Mi\"\u003c/span\u003e\u003cspan style=\"color:#24292E;--shiki-dark:#E1E4E8\"\u003e,\u003c/span\u003e\u003c/span\u003e\u003c/td\u003e\n      \u003c/tr\u003e\u003ctr class=\"code-ln-line\"\u003e\n        \u003ctd class=\"code-ln-numbers\" data-line-number=\"15\"\u003e\u003cdiv class=\"code-ln-n\" data-line-number=\"15\"\u003e\u003c/div\u003e\u003c/td\u003e\n        \u003ctd class=\"code-ln-code\" data-line-number=\"15\"\u003e\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#24292E;--shiki-dark:#E1E4E8\"\u003e        },\u003c/span\u003e\u003c/span\u003e\u003c/td\u003e\n      \u003c/tr\u003e\u003ctr class=\"code-ln-line\"\u003e\n        \u003ctd class=\"code-ln-numbers\" data-line-number=\"16\"\u003e\u003cdiv class=\"code-ln-n\" data-line-number=\"16\"\u003e\u003c/div\u003e\u003c/td\u003e\n        \u003ctd class=\"code-ln-code\" data-line-number=\"16\"\u003e\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#E36209;--shiki-dark:#FFAB70\"\u003e        limits:\u003c/span\u003e\u003cspan style=\"color:#24292E;--shiki-dark:#E1E4E8\"\u003e {\u003c/span\u003e\u003c/span\u003e\u003c/td\u003e\n      \u003c/tr\u003e\u003ctr class=\"code-ln-line\"\u003e\n        \u003ctd class=\"code-ln-numbers\" data-line-number=\"17\"\u003e\u003cdiv class=\"code-ln-n\" data-line-number=\"17\"\u003e\u003c/div\u003e\u003c/td\u003e\n        \u003ctd class=\"code-ln-code\" data-line-number=\"17\"\u003e\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#E36209;--shiki-dark:#FFAB70\"\u003e          cpu:\u003c/span\u003e\u003cspan style=\"color:#032F62;--shiki-dark:#9ECBFF\"\u003e \"300m\"\u003c/span\u003e\u003cspan style=\"color:#24292E;--shiki-dark:#E1E4E8\"\u003e,\u003c/span\u003e\u003c/span\u003e\u003c/td\u003e\n      \u003c/tr\u003e\u003ctr class=\"code-ln-line\"\u003e\n        \u003ctd class=\"code-ln-numbers\" data-line-number=\"18\"\u003e\u003cdiv class=\"code-ln-n\" data-line-number=\"18\"\u003e\u003c/div\u003e\u003c/td\u003e\n        \u003ctd class=\"code-ln-code\" data-line-number=\"18\"\u003e\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#E36209;--shiki-dark:#FFAB70\"\u003e          memory:\u003c/span\u003e\u003cspan style=\"color:#032F62;--shiki-dark:#9ECBFF\"\u003e \"500Mi\"\u003c/span\u003e\u003c/span\u003e\u003c/td\u003e\n      \u003c/tr\u003e\u003ctr class=\"code-ln-line\"\u003e\n        \u003ctd class=\"code-ln-numbers\" data-line-number=\"19\"\u003e\u003cdiv class=\"code-ln-n\" data-line-number=\"19\"\u003e\u003c/div\u003e\u003c/td\u003e\n        \u003ctd class=\"code-ln-code\" data-line-number=\"19\"\u003e\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#24292E;--shiki-dark:#E1E4E8\"\u003e        }\u003c/span\u003e\u003c/span\u003e\u003c/td\u003e\n      \u003c/tr\u003e\u003ctr class=\"code-ln-line\"\u003e\n        \u003ctd class=\"code-ln-numbers\" data-line-number=\"20\"\u003e\u003cdiv class=\"code-ln-n\" data-line-number=\"20\"\u003e\u003c/div\u003e\u003c/td\u003e\n        \u003ctd class=\"code-ln-code\" data-line-number=\"20\"\u003e\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#24292E;--shiki-dark:#E1E4E8\"\u003e      }\u003c/span\u003e\u003c/span\u003e\u003c/td\u003e\n      \u003c/tr\u003e\u003ctr class=\"code-ln-line\"\u003e\n        \u003ctd class=\"code-ln-numbers\" data-line-number=\"21\"\u003e\u003cdiv class=\"code-ln-n\" data-line-number=\"21\"\u003e\u003c/div\u003e\u003c/td\u003e\n        \u003ctd class=\"code-ln-code\" data-line-number=\"21\"\u003e\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#24292E;--shiki-dark:#E1E4E8\"\u003e    }\u003c/span\u003e\u003c/span\u003e\u003c/td\u003e\n      \u003c/tr\u003e\u003ctr class=\"code-ln-line\"\u003e\n        \u003ctd class=\"code-ln-numbers\" data-line-number=\"22\"\u003e\u003cdiv class=\"code-ln-n\" data-line-number=\"22\"\u003e\u003c/div\u003e\u003c/td\u003e\n        \u003ctd class=\"code-ln-code\" data-line-number=\"22\"\u003e\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#24292E;--shiki-dark:#E1E4E8\"\u003e  },\u003c/span\u003e\u003c/span\u003e\u003c/td\u003e\n      \u003c/tr\u003e\u003ctr class=\"code-ln-line\"\u003e\n        \u003ctd class=\"code-ln-numbers\" data-line-number=\"23\"\u003e\u003cdiv class=\"code-ln-n\" data-line-number=\"23\"\u003e\u003c/div\u003e\u003c/td\u003e\n        \u003ctd class=\"code-ln-code\" data-line-number=\"23\"\u003e\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#24292E;--shiki-dark:#E1E4E8\"\u003e}\u003c/span\u003e\u003c/span\u003e\u003c/td\u003e\n      \u003c/tr\u003e\u003c/tbody\u003e\u003c/table\u003e"])</script><script>self.__next_f.push([1,"27:[\"$\",\"pre\",null,{\"className\":\"language-jsonnet pre-code-block shiki github-light github-dark\",\"children\":[\"$\",\"code\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"$35\"}}]}]\n36:Tca8,"])</script><script>self.__next_f.push([1,"\u003ctable class=\"code-ln-table\"\u003e\u003ctbody\u003e\u003ctr class=\"code-ln-line\"\u003e\n        \u003ctd class=\"code-ln-numbers\" data-line-number=\"1\"\u003e\u003cdiv class=\"code-ln-n\" data-line-number=\"1\"\u003e\u003c/div\u003e\u003c/td\u003e\n        \u003ctd class=\"code-ln-code\" data-line-number=\"1\"\u003e\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#D73A49;--shiki-dark:#F97583\"\u003elocal\u003c/span\u003e\u003cspan style=\"color:#24292E;--shiki-dark:#E1E4E8\"\u003e base \u003c/span\u003e\u003cspan style=\"color:#D73A49;--shiki-dark:#F97583\"\u003e=\u003c/span\u003e\u003cspan style=\"color:#D73A49;--shiki-dark:#F97583\"\u003e import\u003c/span\u003e\u003cspan style=\"color:#032F62;--shiki-dark:#9ECBFF\"\u003e './base.libsonnet'\u003c/span\u003e\u003cspan style=\"color:#24292E;--shiki-dark:#E1E4E8\"\u003e;\u003c/span\u003e\u003c/span\u003e\u003c/td\u003e\n      \u003c/tr\u003e\u003ctr class=\"code-ln-line\"\u003e\n        \u003ctd class=\"code-ln-numbers\" data-line-number=\"2\"\u003e\u003cdiv class=\"code-ln-n\" data-line-number=\"2\"\u003e\u003c/div\u003e\u003c/td\u003e\n        \u003ctd class=\"code-ln-code\" data-line-number=\"2\"\u003e\u003cspan class=\"line\"\u003e\u003c/span\u003e\u003c/td\u003e\n      \u003c/tr\u003e\u003ctr class=\"code-ln-line\"\u003e\n        \u003ctd class=\"code-ln-numbers\" data-line-number=\"3\"\u003e\u003cdiv class=\"code-ln-n\" data-line-number=\"3\"\u003e\u003c/div\u003e\u003c/td\u003e\n        \u003ctd class=\"code-ln-code\" data-line-number=\"3\"\u003e\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#24292E;--shiki-dark:#E1E4E8\"\u003ebase {\u003c/span\u003e\u003c/span\u003e\u003c/td\u003e\n      \u003c/tr\u003e\u003ctr class=\"code-ln-line\"\u003e\n        \u003ctd class=\"code-ln-numbers\" data-line-number=\"4\"\u003e\u003cdiv class=\"code-ln-n\" data-line-number=\"4\"\u003e\u003c/div\u003e\u003c/td\u003e\n        \u003ctd class=\"code-ln-code\" data-line-number=\"4\"\u003e\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#E36209;--shiki-dark:#FFAB70\"\u003e  components +:\u003c/span\u003e\u003cspan style=\"color:#24292E;--shiki-dark:#E1E4E8\"\u003e {\u003c/span\u003e\u003c/span\u003e\u003c/td\u003e\n      \u003c/tr\u003e\u003ctr class=\"code-ln-line\"\u003e\n        \u003ctd class=\"code-ln-numbers\" data-line-number=\"5\"\u003e\u003cdiv class=\"code-ln-n\" data-line-number=\"5\"\u003e\u003c/div\u003e\u003c/td\u003e\n        \u003ctd class=\"code-ln-code\" data-line-number=\"5\"\u003e\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#E36209;--shiki-dark:#FFAB70\"\u003e    calculator +:\u003c/span\u003e\u003cspan style=\"color:#24292E;--shiki-dark:#E1E4E8\"\u003e {\u003c/span\u003e\u003c/span\u003e\u003c/td\u003e\n      \u003c/tr\u003e\u003ctr class=\"code-ln-line\"\u003e\n        \u003ctd class=\"code-ln-numbers\" data-line-number=\"6\"\u003e\u003cdiv class=\"code-ln-n\" data-line-number=\"6\"\u003e\u003c/div\u003e\u003c/td\u003e\n        \u003ctd class=\"code-ln-code\" data-line-number=\"6\"\u003e\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#E36209;--shiki-dark:#FFAB70\"\u003e      replicaCount:\u003c/span\u003e\u003cspan style=\"color:#005CC5;--shiki-dark:#79B8FF\"\u003e 1\u003c/span\u003e\u003cspan style=\"color:#24292E;--shiki-dark:#E1E4E8\"\u003e,\u003c/span\u003e\u003c/span\u003e\u003c/td\u003e\n      \u003c/tr\u003e\u003ctr class=\"code-ln-line\"\u003e\n        \u003ctd class=\"code-ln-numbers\" data-line-number=\"7\"\u003e\u003cdiv class=\"code-ln-n\" data-line-number=\"7\"\u003e\u003c/div\u003e\u003c/td\u003e\n        \u003ctd class=\"code-ln-code\" data-line-number=\"7\"\u003e\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#24292E;--shiki-dark:#E1E4E8\"\u003e    }\u003c/span\u003e\u003c/span\u003e\u003c/td\u003e\n      \u003c/tr\u003e\u003ctr class=\"code-ln-line\"\u003e\n        \u003ctd class=\"code-ln-numbers\" data-line-number=\"8\"\u003e\u003cdiv class=\"code-ln-n\" data-line-number=\"8\"\u003e\u003c/div\u003e\u003c/td\u003e\n        \u003ctd class=\"code-ln-code\" data-line-number=\"8\"\u003e\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#24292E;--shiki-dark:#E1E4E8\"\u003e  }\u003c/span\u003e\u003c/span\u003e\u003c/td\u003e\n      \u003c/tr\u003e\u003ctr class=\"code-ln-line\"\u003e\n        \u003ctd class=\"code-ln-numbers\" data-line-number=\"9\"\u003e\u003cdiv class=\"code-ln-n\" data-line-number=\"9\"\u003e\u003c/div\u003e\u003c/td\u003e\n        \u003ctd class=\"code-ln-code\" data-line-number=\"9\"\u003e\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#24292E;--shiki-dark:#E1E4E8\"\u003e}\u003c/span\u003e\u003c/span\u003e\u003c/td\u003e\n      \u003c/tr\u003e\u003c/tbody\u003e\u003c/table\u003e"])</script><script>self.__next_f.push([1,"28:[\"$\",\"pre\",null,{\"className\":\"language-jsonnet pre-code-block shiki github-light github-dark\",\"children\":[\"$\",\"code\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"$36\"}}]}]\n37:Tfc4,"])</script><script>self.__next_f.push([1,"\u003ctable class=\"code-ln-table\"\u003e\u003ctbody\u003e\u003ctr class=\"code-ln-line\"\u003e\n        \u003ctd class=\"code-ln-numbers\" data-line-number=\"1\"\u003e\u003cdiv class=\"code-ln-n\" data-line-number=\"1\"\u003e\u003c/div\u003e\u003c/td\u003e\n        \u003ctd class=\"code-ln-code\" data-line-number=\"1\"\u003e\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#6F42C1;font-weight:bold;--shiki-dark:#B392F0;--shiki-dark-font-weight:bold\"\u003e12c12\u003c/span\u003e\u003c/span\u003e\u003c/td\u003e\n      \u003c/tr\u003e\u003ctr class=\"code-ln-line\"\u003e\n        \u003ctd class=\"code-ln-numbers\" data-line-number=\"2\"\u003e\u003cdiv class=\"code-ln-n\" data-line-number=\"2\"\u003e\u003c/div\u003e\u003c/td\u003e\n        \u003ctd class=\"code-ln-code\" data-line-number=\"2\"\u003e\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#B31D28;--shiki-dark:#FDAEB7\"\u003e\u0026#x3C;     qbec.io/environment: local\u003c/span\u003e\u003c/span\u003e\u003c/td\u003e\n      \u003c/tr\u003e\u003ctr class=\"code-ln-line\"\u003e\n        \u003ctd class=\"code-ln-numbers\" data-line-number=\"3\"\u003e\u003cdiv class=\"code-ln-n\" data-line-number=\"3\"\u003e\u003c/div\u003e\u003c/td\u003e\n        \u003ctd class=\"code-ln-code\" data-line-number=\"3\"\u003e\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#005CC5;font-weight:bold;--shiki-dark:#79B8FF;--shiki-dark-font-weight:bold\"\u003e---\u003c/span\u003e\u003c/span\u003e\u003c/td\u003e\n      \u003c/tr\u003e\u003ctr class=\"code-ln-line\"\u003e\n        \u003ctd class=\"code-ln-numbers\" data-line-number=\"4\"\u003e\u003cdiv class=\"code-ln-n\" data-line-number=\"4\"\u003e\u003c/div\u003e\u003c/td\u003e\n        \u003ctd class=\"code-ln-code\" data-line-number=\"4\"\u003e\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#22863A;--shiki-dark:#85E89D\"\u003e\u003e     qbec.io/environment: _\u003c/span\u003e\u003c/span\u003e\u003c/td\u003e\n      \u003c/tr\u003e\u003ctr class=\"code-ln-line\"\u003e\n        \u003ctd class=\"code-ln-numbers\" data-line-number=\"5\"\u003e\u003cdiv class=\"code-ln-n\" data-line-number=\"5\"\u003e\u003c/div\u003e\u003c/td\u003e\n        \u003ctd class=\"code-ln-code\" data-line-number=\"5\"\u003e\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#6F42C1;font-weight:bold;--shiki-dark:#B392F0;--shiki-dark-font-weight:bold\"\u003e15c15\u003c/span\u003e\u003c/span\u003e\u003c/td\u003e\n      \u003c/tr\u003e\u003ctr class=\"code-ln-line\"\u003e\n        \u003ctd class=\"code-ln-numbers\" data-line-number=\"6\"\u003e\u003cdiv class=\"code-ln-n\" data-line-number=\"6\"\u003e\u003c/div\u003e\u003c/td\u003e\n        \u003ctd class=\"code-ln-code\" data-line-number=\"6\"\u003e\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#B31D28;--shiki-dark:#FDAEB7\"\u003e\u0026#x3C;   replicas: 1\u003c/span\u003e\u003c/span\u003e\u003c/td\u003e\n      \u003c/tr\u003e\u003ctr class=\"code-ln-line\"\u003e\n        \u003ctd class=\"code-ln-numbers\" data-line-number=\"7\"\u003e\u003cdiv class=\"code-ln-n\" data-line-number=\"7\"\u003e\u003c/div\u003e\u003c/td\u003e\n        \u003ctd class=\"code-ln-code\" data-line-number=\"7\"\u003e\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#005CC5;font-weight:bold;--shiki-dark:#79B8FF;--shiki-dark-font-weight:bold\"\u003e---\u003c/span\u003e\u003c/span\u003e\u003c/td\u003e\n      \u003c/tr\u003e\u003ctr class=\"code-ln-line\"\u003e\n        \u003ctd class=\"code-ln-numbers\" data-line-number=\"8\"\u003e\u003cdiv class=\"code-ln-n\" data-line-number=\"8\"\u003e\u003c/div\u003e\u003c/td\u003e\n        \u003ctd class=\"code-ln-code\" data-line-number=\"8\"\u003e\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#22863A;--shiki-dark:#85E89D\"\u003e\u003e   replicas: 3\u003c/span\u003e\u003c/span\u003e\u003c/td\u003e\n      \u003c/tr\u003e\u003ctr class=\"code-ln-line\"\u003e\n        \u003ctd class=\"code-ln-numbers\" data-line-number=\"9\"\u003e\u003cdiv class=\"code-ln-n\" data-line-number=\"9\"\u003e\u003c/div\u003e\u003c/td\u003e\n        \u003ctd class=\"code-ln-code\" data-line-number=\"9\"\u003e\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#6F42C1;font-weight:bold;--shiki-dark:#B392F0;--shiki-dark-font-weight:bold\"\u003e53c53\u003c/span\u003e\u003c/span\u003e\u003c/td\u003e\n      \u003c/tr\u003e\u003ctr class=\"code-ln-line\"\u003e\n        \u003ctd class=\"code-ln-numbers\" data-line-number=\"10\"\u003e\u003cdiv class=\"code-ln-n\" data-line-number=\"10\"\u003e\u003c/div\u003e\u003c/td\u003e\n        \u003ctd class=\"code-ln-code\" data-line-number=\"10\"\u003e\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#B31D28;--shiki-dark:#FDAEB7\"\u003e\u0026#x3C;     qbec.io/environment: local\u003c/span\u003e\u003c/span\u003e\u003c/td\u003e\n      \u003c/tr\u003e\u003ctr class=\"code-ln-line\"\u003e\n        \u003ctd class=\"code-ln-numbers\" data-line-number=\"11\"\u003e\u003cdiv class=\"code-ln-n\" data-line-number=\"11\"\u003e\u003c/div\u003e\u003c/td\u003e\n        \u003ctd class=\"code-ln-code\" data-line-number=\"11\"\u003e\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#005CC5;font-weight:bold;--shiki-dark:#79B8FF;--shiki-dark-font-weight:bold\"\u003e---\u003c/span\u003e\u003c/span\u003e\u003c/td\u003e\n      \u003c/tr\u003e\u003ctr class=\"code-ln-line\"\u003e\n        \u003ctd class=\"code-ln-numbers\" data-line-number=\"12\"\u003e\u003cdiv class=\"code-ln-n\" data-line-number=\"12\"\u003e\u003c/div\u003e\u003c/td\u003e\n        \u003ctd class=\"code-ln-code\" data-line-number=\"12\"\u003e\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#22863A;--shiki-dark:#85E89D\"\u003e\u003e     qbec.io/environment: _\u003c/span\u003e\u003c/span\u003e\u003c/td\u003e\n      \u003c/tr\u003e\u003c/tbody\u003e\u003c/table\u003e"])</script><script>self.__next_f.push([1,"29:[\"$\",\"pre\",null,{\"className\":\"language-diff pre-code-block shiki github-light github-dark\",\"children\":[\"$\",\"code\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"$37\"}}]}]\n38:T15b3,"])</script><script>self.__next_f.push([1,"\u003ctable class=\"code-ln-table\"\u003e\u003ctbody\u003e\u003ctr class=\"code-ln-line\"\u003e\n        \u003ctd class=\"code-ln-numbers\" data-line-number=\"1\"\u003e\u003cdiv class=\"code-ln-n\" data-line-number=\"1\"\u003e\u003c/div\u003e\u003c/td\u003e\n        \u003ctd class=\"code-ln-code\" data-line-number=\"1\"\u003e\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#22863A;--shiki-dark:#85E89D\"\u003espec\u003c/span\u003e\u003cspan style=\"color:#24292E;--shiki-dark:#E1E4E8\"\u003e:\u003c/span\u003e\u003c/span\u003e\u003c/td\u003e\n      \u003c/tr\u003e\u003ctr class=\"code-ln-line\"\u003e\n        \u003ctd class=\"code-ln-numbers\" data-line-number=\"2\"\u003e\u003cdiv class=\"code-ln-n\" data-line-number=\"2\"\u003e\u003c/div\u003e\u003c/td\u003e\n        \u003ctd class=\"code-ln-code\" data-line-number=\"2\"\u003e\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#22863A;--shiki-dark:#85E89D\"\u003e  environments\u003c/span\u003e\u003cspan style=\"color:#24292E;--shiki-dark:#E1E4E8\"\u003e:\u003c/span\u003e\u003c/span\u003e\u003c/td\u003e\n      \u003c/tr\u003e\u003ctr class=\"code-ln-line\"\u003e\n        \u003ctd class=\"code-ln-numbers\" data-line-number=\"3\"\u003e\u003cdiv class=\"code-ln-n\" data-line-number=\"3\"\u003e\u003c/div\u003e\u003c/td\u003e\n        \u003ctd class=\"code-ln-code\" data-line-number=\"3\"\u003e\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#22863A;--shiki-dark:#85E89D\"\u003e    local\u003c/span\u003e\u003cspan style=\"color:#24292E;--shiki-dark:#E1E4E8\"\u003e:\u003c/span\u003e\u003c/span\u003e\u003c/td\u003e\n      \u003c/tr\u003e\u003ctr class=\"code-ln-line\"\u003e\n        \u003ctd class=\"code-ln-numbers\" data-line-number=\"4\"\u003e\u003cdiv class=\"code-ln-n\" data-line-number=\"4\"\u003e\u003c/div\u003e\u003c/td\u003e\n        \u003ctd class=\"code-ln-code\" data-line-number=\"4\"\u003e\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#22863A;--shiki-dark:#85E89D\"\u003e      context\u003c/span\u003e\u003cspan style=\"color:#24292E;--shiki-dark:#E1E4E8\"\u003e: \u003c/span\u003e\u003cspan style=\"color:#032F62;--shiki-dark:#9ECBFF\"\u003eminikube\u003c/span\u003e\u003c/span\u003e\u003c/td\u003e\n      \u003c/tr\u003e\u003ctr class=\"code-ln-line\"\u003e\n        \u003ctd class=\"code-ln-numbers\" data-line-number=\"5\"\u003e\u003cdiv class=\"code-ln-n\" data-line-number=\"5\"\u003e\u003c/div\u003e\u003c/td\u003e\n        \u003ctd class=\"code-ln-code\" data-line-number=\"5\"\u003e\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#22863A;--shiki-dark:#85E89D\"\u003e      properties\u003c/span\u003e\u003cspan style=\"color:#24292E;--shiki-dark:#E1E4E8\"\u003e:\u003c/span\u003e\u003c/span\u003e\u003c/td\u003e\n      \u003c/tr\u003e\u003ctr class=\"code-ln-line\"\u003e\n        \u003ctd class=\"code-ln-numbers\" data-line-number=\"6\"\u003e\u003cdiv class=\"code-ln-n\" data-line-number=\"6\"\u003e\u003c/div\u003e\u003c/td\u003e\n        \u003ctd class=\"code-ln-code\" data-line-number=\"6\"\u003e\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#22863A;--shiki-dark:#85E89D\"\u003e        envType\u003c/span\u003e\u003cspan style=\"color:#24292E;--shiki-dark:#E1E4E8\"\u003e: \u003c/span\u003e\u003cspan style=\"color:#032F62;--shiki-dark:#9ECBFF\"\u003elocal\u003c/span\u003e\u003c/span\u003e\u003c/td\u003e\n      \u003c/tr\u003e\u003ctr class=\"code-ln-line\"\u003e\n        \u003ctd class=\"code-ln-numbers\" data-line-number=\"7\"\u003e\u003cdiv class=\"code-ln-n\" data-line-number=\"7\"\u003e\u003c/div\u003e\u003c/td\u003e\n        \u003ctd class=\"code-ln-code\" data-line-number=\"7\"\u003e\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#22863A;--shiki-dark:#85E89D\"\u003e    cluster001\u003c/span\u003e\u003cspan style=\"color:#24292E;--shiki-dark:#E1E4E8\"\u003e:\u003c/span\u003e\u003c/span\u003e\u003c/td\u003e\n      \u003c/tr\u003e\u003ctr class=\"code-ln-line\"\u003e\n        \u003ctd class=\"code-ln-numbers\" data-line-number=\"8\"\u003e\u003cdiv class=\"code-ln-n\" data-line-number=\"8\"\u003e\u003c/div\u003e\u003c/td\u003e\n        \u003ctd class=\"code-ln-code\" data-line-number=\"8\"\u003e\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#22863A;--shiki-dark:#85E89D\"\u003e      server\u003c/span\u003e\u003cspan style=\"color:#24292E;--shiki-dark:#E1E4E8\"\u003e: \u003c/span\u003e\u003cspan style=\"color:#032F62;--shiki-dark:#9ECBFF\"\u003ehttps://192.168.1.1:8443\u003c/span\u003e\u003c/span\u003e\u003c/td\u003e\n      \u003c/tr\u003e\u003ctr class=\"code-ln-line\"\u003e\n        \u003ctd class=\"code-ln-numbers\" data-line-number=\"9\"\u003e\u003cdiv class=\"code-ln-n\" data-line-number=\"9\"\u003e\u003c/div\u003e\u003c/td\u003e\n        \u003ctd class=\"code-ln-code\" data-line-number=\"9\"\u003e\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#22863A;--shiki-dark:#85E89D\"\u003e      properties\u003c/span\u003e\u003cspan style=\"color:#24292E;--shiki-dark:#E1E4E8\"\u003e:\u003c/span\u003e\u003c/span\u003e\u003c/td\u003e\n      \u003c/tr\u003e\u003ctr class=\"code-ln-line\"\u003e\n        \u003ctd class=\"code-ln-numbers\" data-line-number=\"10\"\u003e\u003cdiv class=\"code-ln-n\" data-line-number=\"10\"\u003e\u003c/div\u003e\u003c/td\u003e\n        \u003ctd class=\"code-ln-code\" data-line-number=\"10\"\u003e\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#22863A;--shiki-dark:#85E89D\"\u003e        envType\u003c/span\u003e\u003cspan style=\"color:#24292E;--shiki-dark:#E1E4E8\"\u003e: \u003c/span\u003e\u003cspan style=\"color:#032F62;--shiki-dark:#9ECBFF\"\u003estaging\u003c/span\u003e\u003c/span\u003e\u003c/td\u003e\n      \u003c/tr\u003e\u003ctr class=\"code-ln-line\"\u003e\n        \u003ctd class=\"code-ln-numbers\" data-line-number=\"11\"\u003e\u003cdiv class=\"code-ln-n\" data-line-number=\"11\"\u003e\u003c/div\u003e\u003c/td\u003e\n        \u003ctd class=\"code-ln-code\" data-line-number=\"11\"\u003e\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#22863A;--shiki-dark:#85E89D\"\u003e    cluster002\u003c/span\u003e\u003cspan style=\"color:#24292E;--shiki-dark:#E1E4E8\"\u003e:\u003c/span\u003e\u003c/span\u003e\u003c/td\u003e\n      \u003c/tr\u003e\u003ctr class=\"code-ln-line\"\u003e\n        \u003ctd class=\"code-ln-numbers\" data-line-number=\"12\"\u003e\u003cdiv class=\"code-ln-n\" data-line-number=\"12\"\u003e\u003c/div\u003e\u003c/td\u003e\n        \u003ctd class=\"code-ln-code\" data-line-number=\"12\"\u003e\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#22863A;--shiki-dark:#85E89D\"\u003e      server\u003c/span\u003e\u003cspan style=\"color:#24292E;--shiki-dark:#E1E4E8\"\u003e: \u003c/span\u003e\u003cspan style=\"color:#032F62;--shiki-dark:#9ECBFF\"\u003ehttps://10.0.0.1:8443\u003c/span\u003e\u003c/span\u003e\u003c/td\u003e\n      \u003c/tr\u003e\u003ctr class=\"code-ln-line\"\u003e\n        \u003ctd class=\"code-ln-numbers\" data-line-number=\"13\"\u003e\u003cdiv class=\"code-ln-n\" data-line-number=\"13\"\u003e\u003c/div\u003e\u003c/td\u003e\n        \u003ctd class=\"code-ln-code\" data-line-number=\"13\"\u003e\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#22863A;--shiki-dark:#85E89D\"\u003e      properties\u003c/span\u003e\u003cspan style=\"color:#24292E;--shiki-dark:#E1E4E8\"\u003e:\u003c/span\u003e\u003c/span\u003e\u003c/td\u003e\n      \u003c/tr\u003e\u003ctr class=\"code-ln-line\"\u003e\n        \u003ctd class=\"code-ln-numbers\" data-line-number=\"14\"\u003e\u003cdiv class=\"code-ln-n\" data-line-number=\"14\"\u003e\u003c/div\u003e\u003c/td\u003e\n        \u003ctd class=\"code-ln-code\" data-line-number=\"14\"\u003e\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#22863A;--shiki-dark:#85E89D\"\u003e        envType\u003c/span\u003e\u003cspan style=\"color:#24292E;--shiki-dark:#E1E4E8\"\u003e: \u003c/span\u003e\u003cspan style=\"color:#032F62;--shiki-dark:#9ECBFF\"\u003eproduction\u003c/span\u003e\u003c/span\u003e\u003c/td\u003e\n      \u003c/tr\u003e\u003c/tbody\u003e\u003c/table\u003e"])</script><script>self.__next_f.push([1,"2a:[\"$\",\"pre\",null,{\"className\":\"language-yaml pre-code-block shiki github-light github-dark\",\"children\":[\"$\",\"code\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"$38\"}}]}]\n39:T6173,"])</script><script>self.__next_f.push([1,"\u003ctable class=\"code-ln-table\"\u003e\u003ctbody\u003e\u003ctr class=\"code-ln-line\"\u003e\n        \u003ctd class=\"code-ln-numbers\" data-line-number=\"1\"\u003e\u003cdiv class=\"code-ln-n\" data-line-number=\"1\"\u003e\u003c/div\u003e\u003c/td\u003e\n        \u003ctd class=\"code-ln-code\" data-line-number=\"1\"\u003e\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#D73A49;--shiki-dark:#F97583\"\u003elocal\u003c/span\u003e\u003cspan style=\"color:#24292E;--shiki-dark:#E1E4E8\"\u003e paramMap \u003c/span\u003e\u003cspan style=\"color:#D73A49;--shiki-dark:#F97583\"\u003e=\u003c/span\u003e\u003cspan style=\"color:#D73A49;--shiki-dark:#F97583\"\u003e import\u003c/span\u003e\u003cspan style=\"color:#032F62;--shiki-dark:#9ECBFF\"\u003e \"params.libsonnet\"\u003c/span\u003e\u003cspan style=\"color:#24292E;--shiki-dark:#E1E4E8\"\u003e;\u003c/span\u003e\u003c/span\u003e\u003c/td\u003e\n      \u003c/tr\u003e\u003ctr class=\"code-ln-line\"\u003e\n        \u003ctd class=\"code-ln-numbers\" data-line-number=\"2\"\u003e\u003cdiv class=\"code-ln-n\" data-line-number=\"2\"\u003e\u003c/div\u003e\u003c/td\u003e\n        \u003ctd class=\"code-ln-code\" data-line-number=\"2\"\u003e\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#D73A49;--shiki-dark:#F97583\"\u003elocal\u003c/span\u003e\u003cspan style=\"color:#24292E;--shiki-dark:#E1E4E8\"\u003e params \u003c/span\u003e\u003cspan style=\"color:#D73A49;--shiki-dark:#F97583\"\u003e=\u003c/span\u003e\u003cspan style=\"color:#24292E;--shiki-dark:#E1E4E8\"\u003e paramMap.components.calculator;\u003c/span\u003e\u003c/span\u003e\u003c/td\u003e\n      \u003c/tr\u003e\u003ctr class=\"code-ln-line\"\u003e\n        \u003ctd class=\"code-ln-numbers\" data-line-number=\"3\"\u003e\u003cdiv class=\"code-ln-n\" data-line-number=\"3\"\u003e\u003c/div\u003e\u003c/td\u003e\n        \u003ctd class=\"code-ln-code\" data-line-number=\"3\"\u003e\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#D73A49;--shiki-dark:#F97583\"\u003elocal\u003c/span\u003e\u003cspan style=\"color:#24292E;--shiki-dark:#E1E4E8\"\u003e imagePullPolicy \u003c/span\u003e\u003cspan style=\"color:#D73A49;--shiki-dark:#F97583\"\u003e=\u003c/span\u003e\u003cspan style=\"color:#24292E;--shiki-dark:#E1E4E8\"\u003e std.\u003c/span\u003e\u003cspan style=\"color:#6F42C1;--shiki-dark:#B392F0\"\u003eextVar\u003c/span\u003e\u003cspan style=\"color:#24292E;--shiki-dark:#E1E4E8\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#032F62;--shiki-dark:#9ECBFF\"\u003e\"pull_policy\"\u003c/span\u003e\u003cspan style=\"color:#24292E;--shiki-dark:#E1E4E8\"\u003e);\u003c/span\u003e\u003c/span\u003e\u003c/td\u003e\n      \u003c/tr\u003e\u003ctr class=\"code-ln-line\"\u003e\n        \u003ctd class=\"code-ln-numbers\" data-line-number=\"4\"\u003e\u003cdiv class=\"code-ln-n\" data-line-number=\"4\"\u003e\u003c/div\u003e\u003c/td\u003e\n        \u003ctd class=\"code-ln-code\" data-line-number=\"4\"\u003e\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#D73A49;--shiki-dark:#F97583\"\u003elocal\u003c/span\u003e\u003cspan style=\"color:#24292E;--shiki-dark:#E1E4E8\"\u003e imageVersion \u003c/span\u003e\u003cspan style=\"color:#D73A49;--shiki-dark:#F97583\"\u003e=\u003c/span\u003e\u003cspan style=\"color:#24292E;--shiki-dark:#E1E4E8\"\u003e std.\u003c/span\u003e\u003cspan style=\"color:#6F42C1;--shiki-dark:#B392F0\"\u003eextVar\u003c/span\u003e\u003cspan style=\"color:#24292E;--shiki-dark:#E1E4E8\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#032F62;--shiki-dark:#9ECBFF\"\u003e\"version\"\u003c/span\u003e\u003cspan style=\"color:#24292E;--shiki-dark:#E1E4E8\"\u003e);\u003c/span\u003e\u003c/span\u003e\u003c/td\u003e\n      \u003c/tr\u003e\u003ctr class=\"code-ln-line\"\u003e\n        \u003ctd class=\"code-ln-numbers\" data-line-number=\"5\"\u003e\u003cdiv class=\"code-ln-n\" data-line-number=\"5\"\u003e\u003c/div\u003e\u003c/td\u003e\n        \u003ctd class=\"code-ln-code\" data-line-number=\"5\"\u003e\u003cspan class=\"line\"\u003e\u003c/span\u003e\u003c/td\u003e\n      \u003c/tr\u003e\u003ctr class=\"code-ln-line\"\u003e\n        \u003ctd class=\"code-ln-numbers\" data-line-number=\"6\"\u003e\u003cdiv class=\"code-ln-n\" data-line-number=\"6\"\u003e\u003c/div\u003e\u003c/td\u003e\n        \u003ctd class=\"code-ln-code\" data-line-number=\"6\"\u003e\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#D73A49;--shiki-dark:#F97583\"\u003elocal\u003c/span\u003e\u003cspan style=\"color:#24292E;--shiki-dark:#E1E4E8\"\u003e name \u003c/span\u003e\u003cspan style=\"color:#D73A49;--shiki-dark:#F97583\"\u003e=\u003c/span\u003e\u003cspan style=\"color:#24292E;--shiki-dark:#E1E4E8\"\u003e params.name;\u003c/span\u003e\u003c/span\u003e\u003c/td\u003e\n      \u003c/tr\u003e\u003ctr class=\"code-ln-line\"\u003e\n        \u003ctd class=\"code-ln-numbers\" data-line-number=\"7\"\u003e\u003cdiv class=\"code-ln-n\" data-line-number=\"7\"\u003e\u003c/div\u003e\u003c/td\u003e\n        \u003ctd class=\"code-ln-code\" data-line-number=\"7\"\u003e\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#D73A49;--shiki-dark:#F97583\"\u003elocal\u003c/span\u003e\u003cspan style=\"color:#24292E;--shiki-dark:#E1E4E8\"\u003e podLabels \u003c/span\u003e\u003cspan style=\"color:#D73A49;--shiki-dark:#F97583\"\u003e=\u003c/span\u003e\u003cspan style=\"color:#24292E;--shiki-dark:#E1E4E8\"\u003e {\u003c/span\u003e\u003c/span\u003e\u003c/td\u003e\n      \u003c/tr\u003e\u003ctr class=\"code-ln-line\"\u003e\n        \u003ctd class=\"code-ln-numbers\" data-line-number=\"8\"\u003e\u003cdiv class=\"code-ln-n\" data-line-number=\"8\"\u003e\u003c/div\u003e\u003c/td\u003e\n        \u003ctd class=\"code-ln-code\" data-line-number=\"8\"\u003e\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#E36209;--shiki-dark:#FFAB70\"\u003e  app:\u003c/span\u003e\u003cspan style=\"color:#24292E;--shiki-dark:#E1E4E8\"\u003e name\u003c/span\u003e\u003c/span\u003e\u003c/td\u003e\n      \u003c/tr\u003e\u003ctr class=\"code-ln-line\"\u003e\n        \u003ctd class=\"code-ln-numbers\" data-line-number=\"9\"\u003e\u003cdiv class=\"code-ln-n\" data-line-number=\"9\"\u003e\u003c/div\u003e\u003c/td\u003e\n        \u003ctd class=\"code-ln-code\" data-line-number=\"9\"\u003e\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#24292E;--shiki-dark:#E1E4E8\"\u003e};\u003c/span\u003e\u003c/span\u003e\u003c/td\u003e\n      \u003c/tr\u003e\u003ctr class=\"code-ln-line\"\u003e\n        \u003ctd class=\"code-ln-numbers\" data-line-number=\"10\"\u003e\u003cdiv class=\"code-ln-n\" data-line-number=\"10\"\u003e\u003c/div\u003e\u003c/td\u003e\n        \u003ctd class=\"code-ln-code\" data-line-number=\"10\"\u003e\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#D73A49;--shiki-dark:#F97583\"\u003elocal\u003c/span\u003e\u003cspan style=\"color:#24292E;--shiki-dark:#E1E4E8\"\u003e serviceLabels \u003c/span\u003e\u003cspan style=\"color:#D73A49;--shiki-dark:#F97583\"\u003e=\u003c/span\u003e\u003cspan style=\"color:#24292E;--shiki-dark:#E1E4E8\"\u003e {\u003c/span\u003e\u003c/span\u003e\u003c/td\u003e\n      \u003c/tr\u003e\u003ctr class=\"code-ln-line\"\u003e\n        \u003ctd class=\"code-ln-numbers\" data-line-number=\"11\"\u003e\u003cdiv class=\"code-ln-n\" data-line-number=\"11\"\u003e\u003c/div\u003e\u003c/td\u003e\n        \u003ctd class=\"code-ln-code\" data-line-number=\"11\"\u003e\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#E36209;--shiki-dark:#FFAB70\"\u003e  service:\u003c/span\u003e\u003cspan style=\"color:#24292E;--shiki-dark:#E1E4E8\"\u003e params.serviceName\u003c/span\u003e\u003c/span\u003e\u003c/td\u003e\n      \u003c/tr\u003e\u003ctr class=\"code-ln-line\"\u003e\n        \u003ctd class=\"code-ln-numbers\" data-line-number=\"12\"\u003e\u003cdiv class=\"code-ln-n\" data-line-number=\"12\"\u003e\u003c/div\u003e\u003c/td\u003e\n        \u003ctd class=\"code-ln-code\" data-line-number=\"12\"\u003e\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#24292E;--shiki-dark:#E1E4E8\"\u003e};\u003c/span\u003e\u003c/span\u003e\u003c/td\u003e\n      \u003c/tr\u003e\u003ctr class=\"code-ln-line\"\u003e\n        \u003ctd class=\"code-ln-numbers\" data-line-number=\"13\"\u003e\u003cdiv class=\"code-ln-n\" data-line-number=\"13\"\u003e\u003c/div\u003e\u003c/td\u003e\n        \u003ctd class=\"code-ln-code\" data-line-number=\"13\"\u003e\u003cspan class=\"line\"\u003e\u003c/span\u003e\u003c/td\u003e\n      \u003c/tr\u003e\u003ctr class=\"code-ln-line code-ln-mark\"\u003e\n        \u003ctd class=\"code-ln-numbers\" data-line-number=\"14\"\u003e\u003cdiv class=\"code-ln-n\" data-line-number=\"14\"\u003e\u003c/div\u003e\u003c/td\u003e\n        \u003ctd class=\"code-ln-code\" data-line-number=\"14\"\u003e\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#D73A49;--shiki-dark:#F97583\"\u003elocal\u003c/span\u003e\u003cspan style=\"color:#24292E;--shiki-dark:#E1E4E8\"\u003e target \u003c/span\u003e\u003cspan style=\"color:#D73A49;--shiki-dark:#F97583\"\u003e=\u003c/span\u003e\u003cspan style=\"color:#24292E;--shiki-dark:#E1E4E8\"\u003e std.\u003c/span\u003e\u003cspan style=\"color:#6F42C1;--shiki-dark:#B392F0\"\u003eextVar\u003c/span\u003e\u003cspan style=\"color:#24292E;--shiki-dark:#E1E4E8\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#032F62;--shiki-dark:#9ECBFF\"\u003e\"qbec.io/env\"\u003c/span\u003e\u003cspan style=\"color:#24292E;--shiki-dark:#E1E4E8\"\u003e);\u003c/span\u003e\u003c/span\u003e\u003c/td\u003e\n      \u003c/tr\u003e\u003ctr class=\"code-ln-line code-ln-mark\"\u003e\n        \u003ctd class=\"code-ln-numbers\" data-line-number=\"15\"\u003e\u003cdiv class=\"code-ln-n\" data-line-number=\"15\"\u003e\u003c/div\u003e\u003c/td\u003e\n        \u003ctd class=\"code-ln-code\" data-line-number=\"15\"\u003e\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#D73A49;--shiki-dark:#F97583\"\u003elocal\u003c/span\u003e\u003cspan style=\"color:#24292E;--shiki-dark:#E1E4E8\"\u003e targetProps \u003c/span\u003e\u003cspan style=\"color:#D73A49;--shiki-dark:#F97583\"\u003e=\u003c/span\u003e\u003cspan style=\"color:#24292E;--shiki-dark:#E1E4E8\"\u003e std.\u003c/span\u003e\u003cspan style=\"color:#6F42C1;--shiki-dark:#B392F0\"\u003eextVar\u003c/span\u003e\u003cspan style=\"color:#24292E;--shiki-dark:#E1E4E8\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#032F62;--shiki-dark:#9ECBFF\"\u003e\"qbec.io/envProperties\"\u003c/span\u003e\u003cspan style=\"color:#24292E;--shiki-dark:#E1E4E8\"\u003e);\u003c/span\u003e\u003c/span\u003e\u003c/td\u003e\n      \u003c/tr\u003e\u003ctr class=\"code-ln-line code-ln-mark\"\u003e\n        \u003ctd class=\"code-ln-numbers\" data-line-number=\"16\"\u003e\u003cdiv class=\"code-ln-n\" data-line-number=\"16\"\u003e\u003c/div\u003e\u003c/td\u003e\n        \u003ctd class=\"code-ln-code\" data-line-number=\"16\"\u003e\u003cspan class=\"line\"\u003e\u003c/span\u003e\u003c/td\u003e\n      \u003c/tr\u003e\u003ctr class=\"code-ln-line code-ln-mark\"\u003e\n        \u003ctd class=\"code-ln-numbers\" data-line-number=\"17\"\u003e\u003cdiv class=\"code-ln-n\" data-line-number=\"17\"\u003e\u003c/div\u003e\u003c/td\u003e\n        \u003ctd class=\"code-ln-code\" data-line-number=\"17\"\u003e\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#D73A49;--shiki-dark:#F97583\"\u003elocal\u003c/span\u003e\u003cspan style=\"color:#6F42C1;--shiki-dark:#B392F0\"\u003e getResources\u003c/span\u003e\u003cspan style=\"color:#24292E;--shiki-dark:#E1E4E8\"\u003e(props) \u003c/span\u003e\u003cspan style=\"color:#D73A49;--shiki-dark:#F97583\"\u003e=\u003c/span\u003e\u003c/span\u003e\u003c/td\u003e\n      \u003c/tr\u003e\u003ctr class=\"code-ln-line code-ln-mark\"\u003e\n        \u003ctd class=\"code-ln-numbers\" data-line-number=\"18\"\u003e\u003cdiv class=\"code-ln-n\" data-line-number=\"18\"\u003e\u003c/div\u003e\u003c/td\u003e\n        \u003ctd class=\"code-ln-code\" data-line-number=\"18\"\u003e\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#D73A49;--shiki-dark:#F97583\"\u003e  if\u003c/span\u003e\u003cspan style=\"color:#005CC5;--shiki-dark:#79B8FF\"\u003e std.objectHas\u003c/span\u003e\u003cspan style=\"color:#24292E;--shiki-dark:#E1E4E8\"\u003e(props, \u003c/span\u003e\u003cspan style=\"color:#032F62;--shiki-dark:#9ECBFF\"\u003e\"envType\"\u003c/span\u003e\u003cspan style=\"color:#24292E;--shiki-dark:#E1E4E8\"\u003e) \u003c/span\u003e\u003cspan style=\"color:#D73A49;--shiki-dark:#F97583\"\u003e\u0026#x26;\u0026#x26;\u003c/span\u003e\u003cspan style=\"color:#24292E;--shiki-dark:#E1E4E8\"\u003e props.envType \u003c/span\u003e\u003cspan style=\"color:#D73A49;--shiki-dark:#F97583\"\u003e==\u003c/span\u003e\u003cspan style=\"color:#032F62;--shiki-dark:#9ECBFF\"\u003e \"staging\"\u003c/span\u003e\u003cspan style=\"color:#D73A49;--shiki-dark:#F97583\"\u003e then\u003c/span\u003e\u003c/span\u003e\u003c/td\u003e\n      \u003c/tr\u003e\u003ctr class=\"code-ln-line code-ln-mark\"\u003e\n        \u003ctd class=\"code-ln-numbers\" data-line-number=\"19\"\u003e\u003cdiv class=\"code-ln-n\" data-line-number=\"19\"\u003e\u003c/div\u003e\u003c/td\u003e\n        \u003ctd class=\"code-ln-code\" data-line-number=\"19\"\u003e\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#24292E;--shiki-dark:#E1E4E8\"\u003e{\u003c/span\u003e\u003c/span\u003e\u003c/td\u003e\n      \u003c/tr\u003e\u003ctr class=\"code-ln-line code-ln-mark\"\u003e\n        \u003ctd class=\"code-ln-numbers\" data-line-number=\"20\"\u003e\u003cdiv class=\"code-ln-n\" data-line-number=\"20\"\u003e\u003c/div\u003e\u003c/td\u003e\n        \u003ctd class=\"code-ln-code\" data-line-number=\"20\"\u003e\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#E36209;--shiki-dark:#FFAB70\"\u003e  limits +:\u003c/span\u003e\u003cspan style=\"color:#24292E;--shiki-dark:#E1E4E8\"\u003e {\u003c/span\u003e\u003c/span\u003e\u003c/td\u003e\n      \u003c/tr\u003e\u003ctr class=\"code-ln-line code-ln-mark\"\u003e\n        \u003ctd class=\"code-ln-numbers\" data-line-number=\"21\"\u003e\u003cdiv class=\"code-ln-n\" data-line-number=\"21\"\u003e\u003c/div\u003e\u003c/td\u003e\n        \u003ctd class=\"code-ln-code\" data-line-number=\"21\"\u003e\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#E36209;--shiki-dark:#FFAB70\"\u003e    cpu:\u003c/span\u003e\u003cspan style=\"color:#032F62;--shiki-dark:#9ECBFF\"\u003e \"100m\"\u003c/span\u003e\u003cspan style=\"color:#24292E;--shiki-dark:#E1E4E8\"\u003e,\u003c/span\u003e\u003c/span\u003e\u003c/td\u003e\n      \u003c/tr\u003e\u003ctr class=\"code-ln-line code-ln-mark\"\u003e\n        \u003ctd class=\"code-ln-numbers\" data-line-number=\"22\"\u003e\u003cdiv class=\"code-ln-n\" data-line-number=\"22\"\u003e\u003c/div\u003e\u003c/td\u003e\n        \u003ctd class=\"code-ln-code\" data-line-number=\"22\"\u003e\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#E36209;--shiki-dark:#FFAB70\"\u003e    memory:\u003c/span\u003e\u003cspan style=\"color:#032F62;--shiki-dark:#9ECBFF\"\u003e \"100Mi\"\u003c/span\u003e\u003c/span\u003e\u003c/td\u003e\n      \u003c/tr\u003e\u003ctr class=\"code-ln-line code-ln-mark\"\u003e\n        \u003ctd class=\"code-ln-numbers\" data-line-number=\"23\"\u003e\u003cdiv class=\"code-ln-n\" data-line-number=\"23\"\u003e\u003c/div\u003e\u003c/td\u003e\n        \u003ctd class=\"code-ln-code\" data-line-number=\"23\"\u003e\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#24292E;--shiki-dark:#E1E4E8\"\u003e  }\u003c/span\u003e\u003c/span\u003e\u003c/td\u003e\n      \u003c/tr\u003e\u003ctr class=\"code-ln-line code-ln-mark\"\u003e\n        \u003ctd class=\"code-ln-numbers\" data-line-number=\"24\"\u003e\u003cdiv class=\"code-ln-n\" data-line-number=\"24\"\u003e\u003c/div\u003e\u003c/td\u003e\n        \u003ctd class=\"code-ln-code\" data-line-number=\"24\"\u003e\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#24292E;--shiki-dark:#E1E4E8\"\u003e} \u003c/span\u003e\u003cspan style=\"color:#D73A49;--shiki-dark:#F97583\"\u003eelse\u003c/span\u003e\u003cspan style=\"color:#24292E;--shiki-dark:#E1E4E8\"\u003e {};\u003c/span\u003e\u003c/span\u003e\u003c/td\u003e\n      \u003c/tr\u003e\u003ctr class=\"code-ln-line\"\u003e\n        \u003ctd class=\"code-ln-numbers\" data-line-number=\"25\"\u003e\u003cdiv class=\"code-ln-n\" data-line-number=\"25\"\u003e\u003c/div\u003e\u003c/td\u003e\n        \u003ctd class=\"code-ln-code\" data-line-number=\"25\"\u003e\u003cspan class=\"line\"\u003e\u003c/span\u003e\u003c/td\u003e\n      \u003c/tr\u003e\u003ctr class=\"code-ln-line\"\u003e\n        \u003ctd class=\"code-ln-numbers\" data-line-number=\"26\"\u003e\u003cdiv class=\"code-ln-n\" data-line-number=\"26\"\u003e\u003c/div\u003e\u003c/td\u003e\n        \u003ctd class=\"code-ln-code\" data-line-number=\"26\"\u003e\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#24292E;--shiki-dark:#E1E4E8\"\u003e{\u003c/span\u003e\u003c/span\u003e\u003c/td\u003e\n      \u003c/tr\u003e\u003ctr class=\"code-ln-line\"\u003e\n        \u003ctd class=\"code-ln-numbers\" data-line-number=\"27\"\u003e\u003cdiv class=\"code-ln-n\" data-line-number=\"27\"\u003e\u003c/div\u003e\u003c/td\u003e\n        \u003ctd class=\"code-ln-code\" data-line-number=\"27\"\u003e\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#E36209;--shiki-dark:#FFAB70\"\u003e  apiVersion:\u003c/span\u003e\u003cspan style=\"color:#032F62;--shiki-dark:#9ECBFF\"\u003e \"apps/v1\"\u003c/span\u003e\u003cspan style=\"color:#24292E;--shiki-dark:#E1E4E8\"\u003e,\u003c/span\u003e\u003c/span\u003e\u003c/td\u003e\n      \u003c/tr\u003e\u003ctr class=\"code-ln-line\"\u003e\n        \u003ctd class=\"code-ln-numbers\" data-line-number=\"28\"\u003e\u003cdiv class=\"code-ln-n\" data-line-number=\"28\"\u003e\u003c/div\u003e\u003c/td\u003e\n        \u003ctd class=\"code-ln-code\" data-line-number=\"28\"\u003e\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#E36209;--shiki-dark:#FFAB70\"\u003e  kind:\u003c/span\u003e\u003cspan style=\"color:#032F62;--shiki-dark:#9ECBFF\"\u003e \"Deployment\"\u003c/span\u003e\u003cspan style=\"color:#24292E;--shiki-dark:#E1E4E8\"\u003e,\u003c/span\u003e\u003c/span\u003e\u003c/td\u003e\n      \u003c/tr\u003e\u003ctr class=\"code-ln-line\"\u003e\n        \u003ctd class=\"code-ln-numbers\" data-line-number=\"29\"\u003e\u003cdiv class=\"code-ln-n\" data-line-number=\"29\"\u003e\u003c/div\u003e\u003c/td\u003e\n        \u003ctd class=\"code-ln-code\" data-line-number=\"29\"\u003e\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#E36209;--shiki-dark:#FFAB70\"\u003e  metadata:\u003c/span\u003e\u003cspan style=\"color:#24292E;--shiki-dark:#E1E4E8\"\u003e {\u003c/span\u003e\u003c/span\u003e\u003c/td\u003e\n      \u003c/tr\u003e\u003ctr class=\"code-ln-line\"\u003e\n        \u003ctd class=\"code-ln-numbers\" data-line-number=\"30\"\u003e\u003cdiv class=\"code-ln-n\" data-line-number=\"30\"\u003e\u003c/div\u003e\u003c/td\u003e\n        \u003ctd class=\"code-ln-code\" data-line-number=\"30\"\u003e\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#E36209;--shiki-dark:#FFAB70\"\u003e    name:\u003c/span\u003e\u003cspan style=\"color:#24292E;--shiki-dark:#E1E4E8\"\u003e name,\u003c/span\u003e\u003c/span\u003e\u003c/td\u003e\n      \u003c/tr\u003e\u003ctr class=\"code-ln-line\"\u003e\n        \u003ctd class=\"code-ln-numbers\" data-line-number=\"31\"\u003e\u003cdiv class=\"code-ln-n\" data-line-number=\"31\"\u003e\u003c/div\u003e\u003c/td\u003e\n        \u003ctd class=\"code-ln-code\" data-line-number=\"31\"\u003e\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#E36209;--shiki-dark:#FFAB70\"\u003e    labels:\u003c/span\u003e\u003cspan style=\"color:#24292E;--shiki-dark:#E1E4E8\"\u003e podLabels,\u003c/span\u003e\u003c/span\u003e\u003c/td\u003e\n      \u003c/tr\u003e\u003ctr class=\"code-ln-line\"\u003e\n        \u003ctd class=\"code-ln-numbers\" data-line-number=\"32\"\u003e\u003cdiv class=\"code-ln-n\" data-line-number=\"32\"\u003e\u003c/div\u003e\u003c/td\u003e\n        \u003ctd class=\"code-ln-code\" data-line-number=\"32\"\u003e\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#24292E;--shiki-dark:#E1E4E8\"\u003e  },\u003c/span\u003e\u003c/span\u003e\u003c/td\u003e\n      \u003c/tr\u003e\u003ctr class=\"code-ln-line\"\u003e\n        \u003ctd class=\"code-ln-numbers\" data-line-number=\"33\"\u003e\u003cdiv class=\"code-ln-n\" data-line-number=\"33\"\u003e\u003c/div\u003e\u003c/td\u003e\n        \u003ctd class=\"code-ln-code\" data-line-number=\"33\"\u003e\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#E36209;--shiki-dark:#FFAB70\"\u003e  spec:\u003c/span\u003e\u003cspan style=\"color:#24292E;--shiki-dark:#E1E4E8\"\u003e {\u003c/span\u003e\u003c/span\u003e\u003c/td\u003e\n      \u003c/tr\u003e\u003ctr class=\"code-ln-line\"\u003e\n        \u003ctd class=\"code-ln-numbers\" data-line-number=\"34\"\u003e\u003cdiv class=\"code-ln-n\" data-line-number=\"34\"\u003e\u003c/div\u003e\u003c/td\u003e\n        \u003ctd class=\"code-ln-code\" data-line-number=\"34\"\u003e\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#E36209;--shiki-dark:#FFAB70\"\u003e    replicas:\u003c/span\u003e\u003cspan style=\"color:#24292E;--shiki-dark:#E1E4E8\"\u003e params.replicaCount,\u003c/span\u003e\u003c/span\u003e\u003c/td\u003e\n      \u003c/tr\u003e\u003ctr class=\"code-ln-line\"\u003e\n        \u003ctd class=\"code-ln-numbers\" data-line-number=\"35\"\u003e\u003cdiv class=\"code-ln-n\" data-line-number=\"35\"\u003e\u003c/div\u003e\u003c/td\u003e\n        \u003ctd class=\"code-ln-code\" data-line-number=\"35\"\u003e\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#E36209;--shiki-dark:#FFAB70\"\u003e    selector:\u003c/span\u003e\u003cspan style=\"color:#24292E;--shiki-dark:#E1E4E8\"\u003e {\u003c/span\u003e\u003c/span\u003e\u003c/td\u003e\n      \u003c/tr\u003e\u003ctr class=\"code-ln-line\"\u003e\n        \u003ctd class=\"code-ln-numbers\" data-line-number=\"36\"\u003e\u003cdiv class=\"code-ln-n\" data-line-number=\"36\"\u003e\u003c/div\u003e\u003c/td\u003e\n        \u003ctd class=\"code-ln-code\" data-line-number=\"36\"\u003e\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#E36209;--shiki-dark:#FFAB70\"\u003e      matchLabels:\u003c/span\u003e\u003cspan style=\"color:#24292E;--shiki-dark:#E1E4E8\"\u003e podLabels\u003c/span\u003e\u003c/span\u003e\u003c/td\u003e\n      \u003c/tr\u003e\u003ctr class=\"code-ln-line\"\u003e\n        \u003ctd class=\"code-ln-numbers\" data-line-number=\"37\"\u003e\u003cdiv class=\"code-ln-n\" data-line-number=\"37\"\u003e\u003c/div\u003e\u003c/td\u003e\n        \u003ctd class=\"code-ln-code\" data-line-number=\"37\"\u003e\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#24292E;--shiki-dark:#E1E4E8\"\u003e    },\u003c/span\u003e\u003c/span\u003e\u003c/td\u003e\n      \u003c/tr\u003e\u003ctr class=\"code-ln-line\"\u003e\n        \u003ctd class=\"code-ln-numbers\" data-line-number=\"38\"\u003e\u003cdiv class=\"code-ln-n\" data-line-number=\"38\"\u003e\u003c/div\u003e\u003c/td\u003e\n        \u003ctd class=\"code-ln-code\" data-line-number=\"38\"\u003e\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#E36209;--shiki-dark:#FFAB70\"\u003e    strategy:\u003c/span\u003e\u003cspan style=\"color:#24292E;--shiki-dark:#E1E4E8\"\u003e {\u003c/span\u003e\u003c/span\u003e\u003c/td\u003e\n      \u003c/tr\u003e\u003ctr class=\"code-ln-line\"\u003e\n        \u003ctd class=\"code-ln-numbers\" data-line-number=\"39\"\u003e\u003cdiv class=\"code-ln-n\" data-line-number=\"39\"\u003e\u003c/div\u003e\u003c/td\u003e\n        \u003ctd class=\"code-ln-code\" data-line-number=\"39\"\u003e\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#E36209;--shiki-dark:#FFAB70\"\u003e      type:\u003c/span\u003e\u003cspan style=\"color:#032F62;--shiki-dark:#9ECBFF\"\u003e \"RollingUpdate\"\u003c/span\u003e\u003c/span\u003e\u003c/td\u003e\n      \u003c/tr\u003e\u003ctr class=\"code-ln-line\"\u003e\n        \u003ctd class=\"code-ln-numbers\" data-line-number=\"40\"\u003e\u003cdiv class=\"code-ln-n\" data-line-number=\"40\"\u003e\u003c/div\u003e\u003c/td\u003e\n        \u003ctd class=\"code-ln-code\" data-line-number=\"40\"\u003e\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#24292E;--shiki-dark:#E1E4E8\"\u003e    },\u003c/span\u003e\u003c/span\u003e\u003c/td\u003e\n      \u003c/tr\u003e\u003ctr class=\"code-ln-line\"\u003e\n        \u003ctd class=\"code-ln-numbers\" data-line-number=\"41\"\u003e\u003cdiv class=\"code-ln-n\" data-line-number=\"41\"\u003e\u003c/div\u003e\u003c/td\u003e\n        \u003ctd class=\"code-ln-code\" data-line-number=\"41\"\u003e\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#E36209;--shiki-dark:#FFAB70\"\u003e    template:\u003c/span\u003e\u003cspan style=\"color:#24292E;--shiki-dark:#E1E4E8\"\u003e {\u003c/span\u003e\u003c/span\u003e\u003c/td\u003e\n      \u003c/tr\u003e\u003ctr class=\"code-ln-line\"\u003e\n        \u003ctd class=\"code-ln-numbers\" data-line-number=\"42\"\u003e\u003cdiv class=\"code-ln-n\" data-line-number=\"42\"\u003e\u003c/div\u003e\u003c/td\u003e\n        \u003ctd class=\"code-ln-code\" data-line-number=\"42\"\u003e\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#E36209;--shiki-dark:#FFAB70\"\u003e      metadata:\u003c/span\u003e\u003cspan style=\"color:#24292E;--shiki-dark:#E1E4E8\"\u003e {\u003c/span\u003e\u003c/span\u003e\u003c/td\u003e\n      \u003c/tr\u003e\u003ctr class=\"code-ln-line\"\u003e\n        \u003ctd class=\"code-ln-numbers\" data-line-number=\"43\"\u003e\u003cdiv class=\"code-ln-n\" data-line-number=\"43\"\u003e\u003c/div\u003e\u003c/td\u003e\n        \u003ctd class=\"code-ln-code\" data-line-number=\"43\"\u003e\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#E36209;--shiki-dark:#FFAB70\"\u003e        labels:\u003c/span\u003e\u003cspan style=\"color:#24292E;--shiki-dark:#E1E4E8\"\u003e podLabels\u003c/span\u003e\u003c/span\u003e\u003c/td\u003e\n      \u003c/tr\u003e\u003ctr class=\"code-ln-line\"\u003e\n        \u003ctd class=\"code-ln-numbers\" data-line-number=\"44\"\u003e\u003cdiv class=\"code-ln-n\" data-line-number=\"44\"\u003e\u003c/div\u003e\u003c/td\u003e\n        \u003ctd class=\"code-ln-code\" data-line-number=\"44\"\u003e\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#24292E;--shiki-dark:#E1E4E8\"\u003e      },\u003c/span\u003e\u003c/span\u003e\u003c/td\u003e\n      \u003c/tr\u003e\u003ctr class=\"code-ln-line\"\u003e\n        \u003ctd class=\"code-ln-numbers\" data-line-number=\"45\"\u003e\u003cdiv class=\"code-ln-n\" data-line-number=\"45\"\u003e\u003c/div\u003e\u003c/td\u003e\n        \u003ctd class=\"code-ln-code\" data-line-number=\"45\"\u003e\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#E36209;--shiki-dark:#FFAB70\"\u003e      spec:\u003c/span\u003e\u003cspan style=\"color:#24292E;--shiki-dark:#E1E4E8\"\u003e {\u003c/span\u003e\u003c/span\u003e\u003c/td\u003e\n      \u003c/tr\u003e\u003ctr class=\"code-ln-line\"\u003e\n        \u003ctd class=\"code-ln-numbers\" data-line-number=\"46\"\u003e\u003cdiv class=\"code-ln-n\" data-line-number=\"46\"\u003e\u003c/div\u003e\u003c/td\u003e\n        \u003ctd class=\"code-ln-code\" data-line-number=\"46\"\u003e\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#E36209;--shiki-dark:#FFAB70\"\u003e        containers:\u003c/span\u003e\u003cspan style=\"color:#24292E;--shiki-dark:#E1E4E8\"\u003e [\u003c/span\u003e\u003c/span\u003e\u003c/td\u003e\n      \u003c/tr\u003e\u003ctr class=\"code-ln-line\"\u003e\n        \u003ctd class=\"code-ln-numbers\" data-line-number=\"47\"\u003e\u003cdiv class=\"code-ln-n\" data-line-number=\"47\"\u003e\u003c/div\u003e\u003c/td\u003e\n        \u003ctd class=\"code-ln-code\" data-line-number=\"47\"\u003e\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#24292E;--shiki-dark:#E1E4E8\"\u003e          {\u003c/span\u003e\u003c/span\u003e\u003c/td\u003e\n      \u003c/tr\u003e\u003ctr class=\"code-ln-line\"\u003e\n        \u003ctd class=\"code-ln-numbers\" data-line-number=\"48\"\u003e\u003cdiv class=\"code-ln-n\" data-line-number=\"48\"\u003e\u003c/div\u003e\u003c/td\u003e\n        \u003ctd class=\"code-ln-code\" data-line-number=\"48\"\u003e\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#E36209;--shiki-dark:#FFAB70\"\u003e            name:\u003c/span\u003e\u003cspan style=\"color:#24292E;--shiki-dark:#E1E4E8\"\u003e name,\u003c/span\u003e\u003c/span\u003e\u003c/td\u003e\n      \u003c/tr\u003e\u003ctr class=\"code-ln-line\"\u003e\n        \u003ctd class=\"code-ln-numbers\" data-line-number=\"49\"\u003e\u003cdiv class=\"code-ln-n\" data-line-number=\"49\"\u003e\u003c/div\u003e\u003c/td\u003e\n        \u003ctd class=\"code-ln-code\" data-line-number=\"49\"\u003e\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#E36209;--shiki-dark:#FFAB70\"\u003e            image:\u003c/span\u003e\u003cspan style=\"color:#032F62;--shiki-dark:#9ECBFF\"\u003e \"calculator:\"\u003c/span\u003e\u003cspan style=\"color:#D73A49;--shiki-dark:#F97583\"\u003e +\u003c/span\u003e\u003cspan style=\"color:#24292E;--shiki-dark:#E1E4E8\"\u003e imageVersion,\u003c/span\u003e\u003c/span\u003e\u003c/td\u003e\n      \u003c/tr\u003e\u003ctr class=\"code-ln-line\"\u003e\n        \u003ctd class=\"code-ln-numbers\" data-line-number=\"50\"\u003e\u003cdiv class=\"code-ln-n\" data-line-number=\"50\"\u003e\u003c/div\u003e\u003c/td\u003e\n        \u003ctd class=\"code-ln-code\" data-line-number=\"50\"\u003e\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#E36209;--shiki-dark:#FFAB70\"\u003e            imagePullPolicy:\u003c/span\u003e\u003cspan style=\"color:#24292E;--shiki-dark:#E1E4E8\"\u003e imagePullPolicy,\u003c/span\u003e\u003c/span\u003e\u003c/td\u003e\n      \u003c/tr\u003e\u003ctr class=\"code-ln-line\"\u003e\n        \u003ctd class=\"code-ln-numbers\" data-line-number=\"51\"\u003e\u003cdiv class=\"code-ln-n\" data-line-number=\"51\"\u003e\u003c/div\u003e\u003c/td\u003e\n        \u003ctd class=\"code-ln-code\" data-line-number=\"51\"\u003e\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#E36209;--shiki-dark:#FFAB70\"\u003e            ports:\u003c/span\u003e\u003cspan style=\"color:#24292E;--shiki-dark:#E1E4E8\"\u003e [{\u003c/span\u003e\u003c/span\u003e\u003c/td\u003e\n      \u003c/tr\u003e\u003ctr class=\"code-ln-line\"\u003e\n        \u003ctd class=\"code-ln-numbers\" data-line-number=\"52\"\u003e\u003cdiv class=\"code-ln-n\" data-line-number=\"52\"\u003e\u003c/div\u003e\u003c/td\u003e\n        \u003ctd class=\"code-ln-code\" data-line-number=\"52\"\u003e\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#E36209;--shiki-dark:#FFAB70\"\u003e              containerPort:\u003c/span\u003e\u003cspan style=\"color:#24292E;--shiki-dark:#E1E4E8\"\u003e params.port,\u003c/span\u003e\u003c/span\u003e\u003c/td\u003e\n      \u003c/tr\u003e\u003ctr class=\"code-ln-line\"\u003e\n        \u003ctd class=\"code-ln-numbers\" data-line-number=\"53\"\u003e\u003cdiv class=\"code-ln-n\" data-line-number=\"53\"\u003e\u003c/div\u003e\u003c/td\u003e\n        \u003ctd class=\"code-ln-code\" data-line-number=\"53\"\u003e\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#E36209;--shiki-dark:#FFAB70\"\u003e              name:\u003c/span\u003e\u003cspan style=\"color:#032F62;--shiki-dark:#9ECBFF\"\u003e \"http\"\u003c/span\u003e\u003cspan style=\"color:#24292E;--shiki-dark:#E1E4E8\"\u003e,\u003c/span\u003e\u003c/span\u003e\u003c/td\u003e\n      \u003c/tr\u003e\u003ctr class=\"code-ln-line\"\u003e\n        \u003ctd class=\"code-ln-numbers\" data-line-number=\"54\"\u003e\u003cdiv class=\"code-ln-n\" data-line-number=\"54\"\u003e\u003c/div\u003e\u003c/td\u003e\n        \u003ctd class=\"code-ln-code\" data-line-number=\"54\"\u003e\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#E36209;--shiki-dark:#FFAB70\"\u003e              protocol:\u003c/span\u003e\u003cspan style=\"color:#032F62;--shiki-dark:#9ECBFF\"\u003e \"TCP\"\u003c/span\u003e\u003c/span\u003e\u003c/td\u003e\n      \u003c/tr\u003e\u003ctr class=\"code-ln-line\"\u003e\n        \u003ctd class=\"code-ln-numbers\" data-line-number=\"55\"\u003e\u003cdiv class=\"code-ln-n\" data-line-number=\"55\"\u003e\u003c/div\u003e\u003c/td\u003e\n        \u003ctd class=\"code-ln-code\" data-line-number=\"55\"\u003e\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#24292E;--shiki-dark:#E1E4E8\"\u003e            }],\u003c/span\u003e\u003c/span\u003e\u003c/td\u003e\n      \u003c/tr\u003e\u003ctr class=\"code-ln-line code-ln-mark\"\u003e\n        \u003ctd class=\"code-ln-numbers\" data-line-number=\"56\"\u003e\u003cdiv class=\"code-ln-n\" data-line-number=\"56\"\u003e\u003c/div\u003e\u003c/td\u003e\n        \u003ctd class=\"code-ln-code\" data-line-number=\"56\"\u003e\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#E36209;--shiki-dark:#FFAB70\"\u003e            resources:\u003c/span\u003e\u003cspan style=\"color:#24292E;--shiki-dark:#E1E4E8\"\u003e params.resources \u003c/span\u003e\u003cspan style=\"color:#D73A49;--shiki-dark:#F97583\"\u003e+\u003c/span\u003e\u003cspan style=\"color:#6F42C1;--shiki-dark:#B392F0\"\u003e getResources\u003c/span\u003e\u003cspan style=\"color:#24292E;--shiki-dark:#E1E4E8\"\u003e(targetProps)\u003c/span\u003e\u003c/span\u003e\u003c/td\u003e\n      \u003c/tr\u003e\u003ctr class=\"code-ln-line\"\u003e\n        \u003ctd class=\"code-ln-numbers\" data-line-number=\"57\"\u003e\u003cdiv class=\"code-ln-n\" data-line-number=\"57\"\u003e\u003c/div\u003e\u003c/td\u003e\n        \u003ctd class=\"code-ln-code\" data-line-number=\"57\"\u003e\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#24292E;--shiki-dark:#E1E4E8\"\u003e          },\u003c/span\u003e\u003c/span\u003e\u003c/td\u003e\n      \u003c/tr\u003e\u003ctr class=\"code-ln-line\"\u003e\n        \u003ctd class=\"code-ln-numbers\" data-line-number=\"58\"\u003e\u003cdiv class=\"code-ln-n\" data-line-number=\"58\"\u003e\u003c/div\u003e\u003c/td\u003e\n        \u003ctd class=\"code-ln-code\" data-line-number=\"58\"\u003e\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#24292E;--shiki-dark:#E1E4E8\"\u003e        ],\u003c/span\u003e\u003c/span\u003e\u003c/td\u003e\n      \u003c/tr\u003e\u003ctr class=\"code-ln-line\"\u003e\n        \u003ctd class=\"code-ln-numbers\" data-line-number=\"59\"\u003e\u003cdiv class=\"code-ln-n\" data-line-number=\"59\"\u003e\u003c/div\u003e\u003c/td\u003e\n        \u003ctd class=\"code-ln-code\" data-line-number=\"59\"\u003e\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#24292E;--shiki-dark:#E1E4E8\"\u003e      },\u003c/span\u003e\u003c/span\u003e\u003c/td\u003e\n      \u003c/tr\u003e\u003ctr class=\"code-ln-line\"\u003e\n        \u003ctd class=\"code-ln-numbers\" data-line-number=\"60\"\u003e\u003cdiv class=\"code-ln-n\" data-line-number=\"60\"\u003e\u003c/div\u003e\u003c/td\u003e\n        \u003ctd class=\"code-ln-code\" data-line-number=\"60\"\u003e\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#24292E;--shiki-dark:#E1E4E8\"\u003e    },\u003c/span\u003e\u003c/span\u003e\u003c/td\u003e\n      \u003c/tr\u003e\u003ctr class=\"code-ln-line\"\u003e\n        \u003ctd class=\"code-ln-numbers\" data-line-number=\"61\"\u003e\u003cdiv class=\"code-ln-n\" data-line-number=\"61\"\u003e\u003c/div\u003e\u003c/td\u003e\n        \u003ctd class=\"code-ln-code\" data-line-number=\"61\"\u003e\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#24292E;--shiki-dark:#E1E4E8\"\u003e  },\u003c/span\u003e\u003c/span\u003e\u003c/td\u003e\n      \u003c/tr\u003e\u003ctr class=\"code-ln-line\"\u003e\n        \u003ctd class=\"code-ln-numbers\" data-line-number=\"62\"\u003e\u003cdiv class=\"code-ln-n\" data-line-number=\"62\"\u003e\u003c/div\u003e\u003c/td\u003e\n        \u003ctd class=\"code-ln-code\" data-line-number=\"62\"\u003e\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#24292E;--shiki-dark:#E1E4E8\"\u003e};\u003c/span\u003e\u003c/span\u003e\u003c/td\u003e\n      \u003c/tr\u003e\u003c/tbody\u003e\u003c/table\u003e"])</script><script>self.__next_f.push([1,"2b:[\"$\",\"pre\",null,{\"className\":\"language-jsonnet pre-code-block shiki github-light github-dark\",\"children\":[\"$\",\"code\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"$39\"}}]}]\n3a:Tbf6,"])</script><script>self.__next_f.push([1,"\u003ctable class=\"code-ln-table\"\u003e\u003ctbody\u003e\u003ctr class=\"code-ln-line\"\u003e\n        \u003ctd class=\"code-ln-numbers\" data-line-number=\"1\"\u003e\u003cdiv class=\"code-ln-n\" data-line-number=\"1\"\u003e\u003c/div\u003e\u003c/td\u003e\n        \u003ctd class=\"code-ln-code\" data-line-number=\"1\"\u003e\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#6F42C1;--shiki-dark:#B392F0\"\u003efunction\u003c/span\u003e\u003cspan style=\"color:#24292E;--shiki-dark:#E1E4E8\"\u003e (object) object {\u003c/span\u003e\u003c/span\u003e\u003c/td\u003e\n      \u003c/tr\u003e\u003ctr class=\"code-ln-line\"\u003e\n        \u003ctd class=\"code-ln-numbers\" data-line-number=\"2\"\u003e\u003cdiv class=\"code-ln-n\" data-line-number=\"2\"\u003e\u003c/div\u003e\u003c/td\u003e\n        \u003ctd class=\"code-ln-code\" data-line-number=\"2\"\u003e\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#E36209;--shiki-dark:#FFAB70\"\u003e    metadata +:\u003c/span\u003e\u003cspan style=\"color:#24292E;--shiki-dark:#E1E4E8\"\u003e {\u003c/span\u003e\u003c/span\u003e\u003c/td\u003e\n      \u003c/tr\u003e\u003ctr class=\"code-ln-line\"\u003e\n        \u003ctd class=\"code-ln-numbers\" data-line-number=\"3\"\u003e\u003cdiv class=\"code-ln-n\" data-line-number=\"3\"\u003e\u003c/div\u003e\u003c/td\u003e\n        \u003ctd class=\"code-ln-code\" data-line-number=\"3\"\u003e\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#E36209;--shiki-dark:#FFAB70\"\u003e        annotations +:\u003c/span\u003e\u003cspan style=\"color:#24292E;--shiki-dark:#E1E4E8\"\u003e {\u003c/span\u003e\u003c/span\u003e\u003c/td\u003e\n      \u003c/tr\u003e\u003ctr class=\"code-ln-line\"\u003e\n        \u003ctd class=\"code-ln-numbers\" data-line-number=\"4\"\u003e\u003cdiv class=\"code-ln-n\" data-line-number=\"4\"\u003e\u003c/div\u003e\u003c/td\u003e\n        \u003ctd class=\"code-ln-code\" data-line-number=\"4\"\u003e\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#032F62;--shiki-dark:#9ECBFF\"\u003e            \"meetup.com/type\"\u003c/span\u003e\u003cspan style=\"color:#D73A49;--shiki-dark:#F97583\"\u003e:\u003c/span\u003e\u003cspan style=\"color:#032F62;--shiki-dark:#9ECBFF\"\u003e \"meetup\"\u003c/span\u003e\u003cspan style=\"color:#24292E;--shiki-dark:#E1E4E8\"\u003e,\u003c/span\u003e\u003c/span\u003e\u003c/td\u003e\n      \u003c/tr\u003e\u003ctr class=\"code-ln-line\"\u003e\n        \u003ctd class=\"code-ln-numbers\" data-line-number=\"5\"\u003e\u003cdiv class=\"code-ln-n\" data-line-number=\"5\"\u003e\u003c/div\u003e\u003c/td\u003e\n        \u003ctd class=\"code-ln-code\" data-line-number=\"5\"\u003e\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#032F62;--shiki-dark:#9ECBFF\"\u003e            \"meetup.com/technology\"\u003c/span\u003e\u003cspan style=\"color:#D73A49;--shiki-dark:#F97583\"\u003e:\u003c/span\u003e\u003cspan style=\"color:#032F62;--shiki-dark:#9ECBFF\"\u003e \"golang\"\u003c/span\u003e\u003cspan style=\"color:#24292E;--shiki-dark:#E1E4E8\"\u003e,\u003c/span\u003e\u003c/span\u003e\u003c/td\u003e\n      \u003c/tr\u003e\u003ctr class=\"code-ln-line\"\u003e\n        \u003ctd class=\"code-ln-numbers\" data-line-number=\"6\"\u003e\u003cdiv class=\"code-ln-n\" data-line-number=\"6\"\u003e\u003c/div\u003e\u003c/td\u003e\n        \u003ctd class=\"code-ln-code\" data-line-number=\"6\"\u003e\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#24292E;--shiki-dark:#E1E4E8\"\u003e        },\u003c/span\u003e\u003c/span\u003e\u003c/td\u003e\n      \u003c/tr\u003e\u003ctr class=\"code-ln-line\"\u003e\n        \u003ctd class=\"code-ln-numbers\" data-line-number=\"7\"\u003e\u003cdiv class=\"code-ln-n\" data-line-number=\"7\"\u003e\u003c/div\u003e\u003c/td\u003e\n        \u003ctd class=\"code-ln-code\" data-line-number=\"7\"\u003e\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#24292E;--shiki-dark:#E1E4E8\"\u003e    },\u003c/span\u003e\u003c/span\u003e\u003c/td\u003e\n      \u003c/tr\u003e\u003ctr class=\"code-ln-line\"\u003e\n        \u003ctd class=\"code-ln-numbers\" data-line-number=\"8\"\u003e\u003cdiv class=\"code-ln-n\" data-line-number=\"8\"\u003e\u003c/div\u003e\u003c/td\u003e\n        \u003ctd class=\"code-ln-code\" data-line-number=\"8\"\u003e\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#24292E;--shiki-dark:#E1E4E8\"\u003e}\u003c/span\u003e\u003c/span\u003e\u003c/td\u003e\n      \u003c/tr\u003e\u003c/tbody\u003e\u003c/table\u003e"])</script><script>self.__next_f.push([1,"2c:[\"$\",\"pre\",null,{\"className\":\"language-jsonnet pre-code-block shiki github-light github-dark\",\"children\":[\"$\",\"code\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"$3a\"}}]}]\n3b:T2bb3,"])</script><script>self.__next_f.push([1,"\u003ctable class=\"code-ln-table\"\u003e\u003ctbody\u003e\u003ctr class=\"code-ln-line\"\u003e\n        \u003ctd class=\"code-ln-numbers\" data-line-number=\"1\"\u003e\u003cdiv class=\"code-ln-n\" data-line-number=\"1\"\u003e\u003c/div\u003e\u003c/td\u003e\n        \u003ctd class=\"code-ln-code\" data-line-number=\"1\"\u003e\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#D73A49;--shiki-dark:#F97583\"\u003elocal\u003c/span\u003e\u003cspan style=\"color:#24292E;--shiki-dark:#E1E4E8\"\u003e deployment \u003c/span\u003e\u003cspan style=\"color:#D73A49;--shiki-dark:#F97583\"\u003e=\u003c/span\u003e\u003cspan style=\"color:#24292E;--shiki-dark:#E1E4E8\"\u003e {\u003c/span\u003e\u003c/span\u003e\u003c/td\u003e\n      \u003c/tr\u003e\u003ctr class=\"code-ln-line\"\u003e\n        \u003ctd class=\"code-ln-numbers\" data-line-number=\"2\"\u003e\u003cdiv class=\"code-ln-n\" data-line-number=\"2\"\u003e\u003c/div\u003e\u003c/td\u003e\n        \u003ctd class=\"code-ln-code\" data-line-number=\"2\"\u003e\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#E36209;--shiki-dark:#FFAB70\"\u003e        apiVersion:\u003c/span\u003e\u003cspan style=\"color:#032F62;--shiki-dark:#9ECBFF\"\u003e \"apps/v1\"\u003c/span\u003e\u003cspan style=\"color:#24292E;--shiki-dark:#E1E4E8\"\u003e,\u003c/span\u003e\u003c/span\u003e\u003c/td\u003e\n      \u003c/tr\u003e\u003ctr class=\"code-ln-line\"\u003e\n        \u003ctd class=\"code-ln-numbers\" data-line-number=\"3\"\u003e\u003cdiv class=\"code-ln-n\" data-line-number=\"3\"\u003e\u003c/div\u003e\u003c/td\u003e\n        \u003ctd class=\"code-ln-code\" data-line-number=\"3\"\u003e\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#E36209;--shiki-dark:#FFAB70\"\u003e        kind:\u003c/span\u003e\u003cspan style=\"color:#032F62;--shiki-dark:#9ECBFF\"\u003e \"Deployment\"\u003c/span\u003e\u003cspan style=\"color:#24292E;--shiki-dark:#E1E4E8\"\u003e,\u003c/span\u003e\u003c/span\u003e\u003c/td\u003e\n      \u003c/tr\u003e\u003ctr class=\"code-ln-line\"\u003e\n        \u003ctd class=\"code-ln-numbers\" data-line-number=\"4\"\u003e\u003cdiv class=\"code-ln-n\" data-line-number=\"4\"\u003e\u003c/div\u003e\u003c/td\u003e\n        \u003ctd class=\"code-ln-code\" data-line-number=\"4\"\u003e\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#6A737D;--shiki-dark:#6A737D\"\u003e        // ...\u003c/span\u003e\u003c/span\u003e\u003c/td\u003e\n      \u003c/tr\u003e\u003ctr class=\"code-ln-line\"\u003e\n        \u003ctd class=\"code-ln-numbers\" data-line-number=\"5\"\u003e\u003cdiv class=\"code-ln-n\" data-line-number=\"5\"\u003e\u003c/div\u003e\u003c/td\u003e\n        \u003ctd class=\"code-ln-code\" data-line-number=\"5\"\u003e\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#24292E;--shiki-dark:#E1E4E8\"\u003e};\u003c/span\u003e\u003c/span\u003e\u003c/td\u003e\n      \u003c/tr\u003e\u003ctr class=\"code-ln-line\"\u003e\n        \u003ctd class=\"code-ln-numbers\" data-line-number=\"6\"\u003e\u003cdiv class=\"code-ln-n\" data-line-number=\"6\"\u003e\u003c/div\u003e\u003c/td\u003e\n        \u003ctd class=\"code-ln-code\" data-line-number=\"6\"\u003e\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#D73A49;--shiki-dark:#F97583\"\u003elocal\u003c/span\u003e\u003cspan style=\"color:#24292E;--shiki-dark:#E1E4E8\"\u003e service \u003c/span\u003e\u003cspan style=\"color:#D73A49;--shiki-dark:#F97583\"\u003e=\u003c/span\u003e\u003cspan style=\"color:#24292E;--shiki-dark:#E1E4E8\"\u003e {\u003c/span\u003e\u003c/span\u003e\u003c/td\u003e\n      \u003c/tr\u003e\u003ctr class=\"code-ln-line\"\u003e\n        \u003ctd class=\"code-ln-numbers\" data-line-number=\"7\"\u003e\u003cdiv class=\"code-ln-n\" data-line-number=\"7\"\u003e\u003c/div\u003e\u003c/td\u003e\n        \u003ctd class=\"code-ln-code\" data-line-number=\"7\"\u003e\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#E36209;--shiki-dark:#FFAB70\"\u003e        apiVersion:\u003c/span\u003e\u003cspan style=\"color:#032F62;--shiki-dark:#9ECBFF\"\u003e \"v1\"\u003c/span\u003e\u003cspan style=\"color:#24292E;--shiki-dark:#E1E4E8\"\u003e,\u003c/span\u003e\u003c/span\u003e\u003c/td\u003e\n      \u003c/tr\u003e\u003ctr class=\"code-ln-line\"\u003e\n        \u003ctd class=\"code-ln-numbers\" data-line-number=\"8\"\u003e\u003cdiv class=\"code-ln-n\" data-line-number=\"8\"\u003e\u003c/div\u003e\u003c/td\u003e\n        \u003ctd class=\"code-ln-code\" data-line-number=\"8\"\u003e\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#E36209;--shiki-dark:#FFAB70\"\u003e        kind:\u003c/span\u003e\u003cspan style=\"color:#032F62;--shiki-dark:#9ECBFF\"\u003e \"Service\"\u003c/span\u003e\u003cspan style=\"color:#24292E;--shiki-dark:#E1E4E8\"\u003e,\u003c/span\u003e\u003c/span\u003e\u003c/td\u003e\n      \u003c/tr\u003e\u003ctr class=\"code-ln-line\"\u003e\n        \u003ctd class=\"code-ln-numbers\" data-line-number=\"9\"\u003e\u003cdiv class=\"code-ln-n\" data-line-number=\"9\"\u003e\u003c/div\u003e\u003c/td\u003e\n        \u003ctd class=\"code-ln-code\" data-line-number=\"9\"\u003e\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#6A737D;--shiki-dark:#6A737D\"\u003e        // ...\u003c/span\u003e\u003c/span\u003e\u003c/td\u003e\n      \u003c/tr\u003e\u003ctr class=\"code-ln-line\"\u003e\n        \u003ctd class=\"code-ln-numbers\" data-line-number=\"10\"\u003e\u003cdiv class=\"code-ln-n\" data-line-number=\"10\"\u003e\u003c/div\u003e\u003c/td\u003e\n        \u003ctd class=\"code-ln-code\" data-line-number=\"10\"\u003e\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#24292E;--shiki-dark:#E1E4E8\"\u003e};\u003c/span\u003e\u003c/span\u003e\u003c/td\u003e\n      \u003c/tr\u003e\u003ctr class=\"code-ln-line\"\u003e\n        \u003ctd class=\"code-ln-numbers\" data-line-number=\"11\"\u003e\u003cdiv class=\"code-ln-n\" data-line-number=\"11\"\u003e\u003c/div\u003e\u003c/td\u003e\n        \u003ctd class=\"code-ln-code\" data-line-number=\"11\"\u003e\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#D73A49;--shiki-dark:#F97583\"\u003elocal\u003c/span\u003e\u003cspan style=\"color:#24292E;--shiki-dark:#E1E4E8\"\u003e hpa \u003c/span\u003e\u003cspan style=\"color:#D73A49;--shiki-dark:#F97583\"\u003e=\u003c/span\u003e\u003cspan style=\"color:#24292E;--shiki-dark:#E1E4E8\"\u003e {\u003c/span\u003e\u003c/span\u003e\u003c/td\u003e\n      \u003c/tr\u003e\u003ctr class=\"code-ln-line\"\u003e\n        \u003ctd class=\"code-ln-numbers\" data-line-number=\"12\"\u003e\u003cdiv class=\"code-ln-n\" data-line-number=\"12\"\u003e\u003c/div\u003e\u003c/td\u003e\n        \u003ctd class=\"code-ln-code\" data-line-number=\"12\"\u003e\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#6A737D;--shiki-dark:#6A737D\"\u003e        // definition for HorizontalPodAutoscaler\u003c/span\u003e\u003c/span\u003e\u003c/td\u003e\n      \u003c/tr\u003e\u003ctr class=\"code-ln-line\"\u003e\n        \u003ctd class=\"code-ln-numbers\" data-line-number=\"13\"\u003e\u003cdiv class=\"code-ln-n\" data-line-number=\"13\"\u003e\u003c/div\u003e\u003c/td\u003e\n        \u003ctd class=\"code-ln-code\" data-line-number=\"13\"\u003e\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#24292E;--shiki-dark:#E1E4E8\"\u003e};\u003c/span\u003e\u003c/span\u003e\u003c/td\u003e\n      \u003c/tr\u003e\u003ctr class=\"code-ln-line\"\u003e\n        \u003ctd class=\"code-ln-numbers\" data-line-number=\"14\"\u003e\u003cdiv class=\"code-ln-n\" data-line-number=\"14\"\u003e\u003c/div\u003e\u003c/td\u003e\n        \u003ctd class=\"code-ln-code\" data-line-number=\"14\"\u003e\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#D73A49;--shiki-dark:#F97583\"\u003elocal\u003c/span\u003e\u003cspan style=\"color:#24292E;--shiki-dark:#E1E4E8\"\u003e pdb \u003c/span\u003e\u003cspan style=\"color:#D73A49;--shiki-dark:#F97583\"\u003e=\u003c/span\u003e\u003cspan style=\"color:#24292E;--shiki-dark:#E1E4E8\"\u003e {\u003c/span\u003e\u003c/span\u003e\u003c/td\u003e\n      \u003c/tr\u003e\u003ctr class=\"code-ln-line\"\u003e\n        \u003ctd class=\"code-ln-numbers\" data-line-number=\"15\"\u003e\u003cdiv class=\"code-ln-n\" data-line-number=\"15\"\u003e\u003c/div\u003e\u003c/td\u003e\n        \u003ctd class=\"code-ln-code\" data-line-number=\"15\"\u003e\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#6A737D;--shiki-dark:#6A737D\"\u003e        // definition for PodDisruptionBudget\u003c/span\u003e\u003c/span\u003e\u003c/td\u003e\n      \u003c/tr\u003e\u003ctr class=\"code-ln-line\"\u003e\n        \u003ctd class=\"code-ln-numbers\" data-line-number=\"16\"\u003e\u003cdiv class=\"code-ln-n\" data-line-number=\"16\"\u003e\u003c/div\u003e\u003c/td\u003e\n        \u003ctd class=\"code-ln-code\" data-line-number=\"16\"\u003e\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#24292E;--shiki-dark:#E1E4E8\"\u003e};\u003c/span\u003e\u003c/span\u003e\u003c/td\u003e\n      \u003c/tr\u003e\u003ctr class=\"code-ln-line\"\u003e\n        \u003ctd class=\"code-ln-numbers\" data-line-number=\"17\"\u003e\u003cdiv class=\"code-ln-n\" data-line-number=\"17\"\u003e\u003c/div\u003e\u003c/td\u003e\n        \u003ctd class=\"code-ln-code\" data-line-number=\"17\"\u003e\u003cspan class=\"line\"\u003e\u003c/span\u003e\u003c/td\u003e\n      \u003c/tr\u003e\u003ctr class=\"code-ln-line code-ln-mark\"\u003e\n        \u003ctd class=\"code-ln-numbers\" data-line-number=\"18\"\u003e\u003cdiv class=\"code-ln-n\" data-line-number=\"18\"\u003e\u003c/div\u003e\u003c/td\u003e\n        \u003ctd class=\"code-ln-code\" data-line-number=\"18\"\u003e\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#D73A49;--shiki-dark:#F97583\"\u003elocal\u003c/span\u003e\u003cspan style=\"color:#24292E;--shiki-dark:#E1E4E8\"\u003e dev_resources \u003c/span\u003e\u003cspan style=\"color:#D73A49;--shiki-dark:#F97583\"\u003e=\u003c/span\u003e\u003cspan style=\"color:#24292E;--shiki-dark:#E1E4E8\"\u003e [deployment, service];\u003c/span\u003e\u003c/span\u003e\u003c/td\u003e\n      \u003c/tr\u003e\u003ctr class=\"code-ln-line code-ln-mark\"\u003e\n        \u003ctd class=\"code-ln-numbers\" data-line-number=\"19\"\u003e\u003cdiv class=\"code-ln-n\" data-line-number=\"19\"\u003e\u003c/div\u003e\u003c/td\u003e\n        \u003ctd class=\"code-ln-code\" data-line-number=\"19\"\u003e\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#D73A49;--shiki-dark:#F97583\"\u003elocal\u003c/span\u003e\u003cspan style=\"color:#24292E;--shiki-dark:#E1E4E8\"\u003e all_resources \u003c/span\u003e\u003cspan style=\"color:#D73A49;--shiki-dark:#F97583\"\u003e=\u003c/span\u003e\u003cspan style=\"color:#24292E;--shiki-dark:#E1E4E8\"\u003e [deployment, service, hpa, pdb];\u003c/span\u003e\u003c/span\u003e\u003c/td\u003e\n      \u003c/tr\u003e\u003ctr class=\"code-ln-line code-ln-mark\"\u003e\n        \u003ctd class=\"code-ln-numbers\" data-line-number=\"20\"\u003e\u003cdiv class=\"code-ln-n\" data-line-number=\"20\"\u003e\u003c/div\u003e\u003c/td\u003e\n        \u003ctd class=\"code-ln-code\" data-line-number=\"20\"\u003e\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#D73A49;--shiki-dark:#F97583\"\u003elocal\u003c/span\u003e\u003cspan style=\"color:#6F42C1;--shiki-dark:#B392F0\"\u003e isDevelopment\u003c/span\u003e\u003cspan style=\"color:#24292E;--shiki-dark:#E1E4E8\"\u003e(props) \u003c/span\u003e\u003cspan style=\"color:#D73A49;--shiki-dark:#F97583\"\u003e=\u003c/span\u003e\u003cspan style=\"color:#24292E;--shiki-dark:#E1E4E8\"\u003e \u003c/span\u003e\u003c/span\u003e\u003c/td\u003e\n      \u003c/tr\u003e\u003ctr class=\"code-ln-line code-ln-mark\"\u003e\n        \u003ctd class=\"code-ln-numbers\" data-line-number=\"21\"\u003e\u003cdiv class=\"code-ln-n\" data-line-number=\"21\"\u003e\u003c/div\u003e\u003c/td\u003e\n        \u003ctd class=\"code-ln-code\" data-line-number=\"21\"\u003e\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#D73A49;--shiki-dark:#F97583\"\u003e        if\u003c/span\u003e\u003cspan style=\"color:#005CC5;--shiki-dark:#79B8FF\"\u003e std.objectHas\u003c/span\u003e\u003cspan style=\"color:#24292E;--shiki-dark:#E1E4E8\"\u003e(props, \u003c/span\u003e\u003cspan style=\"color:#032F62;--shiki-dark:#9ECBFF\"\u003e\"envType\"\u003c/span\u003e\u003cspan style=\"color:#24292E;--shiki-dark:#E1E4E8\"\u003e) \u003c/span\u003e\u003cspan style=\"color:#D73A49;--shiki-dark:#F97583\"\u003e\u0026#x26;\u0026#x26;\u003c/span\u003e\u003cspan style=\"color:#24292E;--shiki-dark:#E1E4E8\"\u003e (props.envType \u003c/span\u003e\u003cspan style=\"color:#D73A49;--shiki-dark:#F97583\"\u003e==\u003c/span\u003e\u003cspan style=\"color:#032F62;--shiki-dark:#9ECBFF\"\u003e \"development\"\u003c/span\u003e\u003cspan style=\"color:#D73A49;--shiki-dark:#F97583\"\u003e ||\u003c/span\u003e\u003cspan style=\"color:#24292E;--shiki-dark:#E1E4E8\"\u003e props.envType \u003c/span\u003e\u003cspan style=\"color:#D73A49;--shiki-dark:#F97583\"\u003e==\u003c/span\u003e\u003cspan style=\"color:#032F62;--shiki-dark:#9ECBFF\"\u003e \"local\"\u003c/span\u003e\u003cspan style=\"color:#24292E;--shiki-dark:#E1E4E8\"\u003e) \u003c/span\u003e\u003cspan style=\"color:#D73A49;--shiki-dark:#F97583\"\u003ethen\u003c/span\u003e\u003cspan style=\"color:#005CC5;--shiki-dark:#79B8FF\"\u003e true\u003c/span\u003e\u003cspan style=\"color:#D73A49;--shiki-dark:#F97583\"\u003e else\u003c/span\u003e\u003cspan style=\"color:#005CC5;--shiki-dark:#79B8FF\"\u003e false\u003c/span\u003e\u003cspan style=\"color:#24292E;--shiki-dark:#E1E4E8\"\u003e;\u003c/span\u003e\u003c/span\u003e\u003c/td\u003e\n      \u003c/tr\u003e\u003ctr class=\"code-ln-line code-ln-mark\"\u003e\n        \u003ctd class=\"code-ln-numbers\" data-line-number=\"22\"\u003e\u003cdiv class=\"code-ln-n\" data-line-number=\"22\"\u003e\u003c/div\u003e\u003c/td\u003e\n        \u003ctd class=\"code-ln-code\" data-line-number=\"22\"\u003e\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#D73A49;--shiki-dark:#F97583\"\u003elocal\u003c/span\u003e\u003cspan style=\"color:#24292E;--shiki-dark:#E1E4E8\"\u003e resources \u003c/span\u003e\u003cspan style=\"color:#D73A49;--shiki-dark:#F97583\"\u003e=\u003c/span\u003e\u003cspan style=\"color:#6F42C1;--shiki-dark:#B392F0\"\u003e isDevelopment\u003c/span\u003e\u003cspan style=\"color:#24292E;--shiki-dark:#E1E4E8\"\u003e(targetProps) \u003c/span\u003e\u003cspan style=\"color:#D73A49;--shiki-dark:#F97583\"\u003ethen\u003c/span\u003e\u003cspan style=\"color:#24292E;--shiki-dark:#E1E4E8\"\u003e dev_resources \u003c/span\u003e\u003cspan style=\"color:#D73A49;--shiki-dark:#F97583\"\u003eelse\u003c/span\u003e\u003cspan style=\"color:#24292E;--shiki-dark:#E1E4E8\"\u003e all_resources;\u003c/span\u003e\u003c/span\u003e\u003c/td\u003e\n      \u003c/tr\u003e\u003ctr class=\"code-ln-line code-ln-mark\"\u003e\n        \u003ctd class=\"code-ln-numbers\" data-line-number=\"23\"\u003e\u003cdiv class=\"code-ln-n\" data-line-number=\"23\"\u003e\u003c/div\u003e\u003c/td\u003e\n        \u003ctd class=\"code-ln-code\" data-line-number=\"23\"\u003e\u003cspan class=\"line\"\u003e\u003c/span\u003e\u003c/td\u003e\n      \u003c/tr\u003e\u003ctr class=\"code-ln-line code-ln-mark\"\u003e\n        \u003ctd class=\"code-ln-numbers\" data-line-number=\"24\"\u003e\u003cdiv class=\"code-ln-n\" data-line-number=\"24\"\u003e\u003c/div\u003e\u003c/td\u003e\n        \u003ctd class=\"code-ln-code\" data-line-number=\"24\"\u003e\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#D73A49;--shiki-dark:#F97583\"\u003eif\u003c/span\u003e\u003cspan style=\"color:#24292E;--shiki-dark:#E1E4E8\"\u003e params.enabled \u003c/span\u003e\u003cspan style=\"color:#D73A49;--shiki-dark:#F97583\"\u003ethen\u003c/span\u003e\u003cspan style=\"color:#24292E;--shiki-dark:#E1E4E8\"\u003e resources \u003c/span\u003e\u003cspan style=\"color:#D73A49;--shiki-dark:#F97583\"\u003eelse\u003c/span\u003e\u003cspan style=\"color:#24292E;--shiki-dark:#E1E4E8\"\u003e []\u003c/span\u003e\u003c/span\u003e\u003c/td\u003e\n      \u003c/tr\u003e\u003c/tbody\u003e\u003c/table\u003e"])</script><script>self.__next_f.push([1,"2d:[\"$\",\"pre\",null,{\"className\":\"language-jsonnet pre-code-block shiki github-light github-dark\",\"children\":[\"$\",\"code\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"$3b\"}}]}]\n"])</script></body></html>